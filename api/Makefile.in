DEPTH   = ..
topsrcdir       = @top_srcdir@
srcdir          = @srcdir@
VPATH           = @srcdir@

VERSION = 1

CFLAGS = -g -Wall -I../lib/

CC = @CC@ $(CFLAGS)

PROGS = api_test

all: $(PROGS)

OBJS = \
    api_test.o \
    api.o \
    ../lib/parse.o

.C.o:
	$(CC) -c -o $*.o $<
.c.o:
	$(CC) -c -o $*.o $<

api_test: $(OBJS)
	$(CC) $(OBJS) -o api_test

install: all
	-mkdir -p /usr/local/boinc/api
	cp api_test /usr/local/boinc/api/api_test

clean:
	rm -f *.o $(PROGS) core dependencies

dependencies: @srcdir@/*.C
	$(CC) -M @srcdir@/*.C > dependencies

include dependencies
