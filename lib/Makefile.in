VERSION = 1

CFLAGS = -g

CC = @CC@ $(CFLAGS)

PROGS = md5_test shmem_test synch_test

MD5_OBJS = \
    md5.o \
    md5_file.o

COUNTRY_OBJS = \
    countries.o

all: $(PROGS) $(MD5_OBJS)

.C.o:
	$(CC) -c -o $*.o $<
.c.o:
	$(CC) -c -o $*.o $<

md5_test: md5_test.o $(MD5_OBJS)
	$(CC) md5_test.o $(MD5_OBJS) -o md5_test

shmem_test: shmem_test.o shmem.o
	$(CC) shmem_test.o shmem.o -o shmem_test

synch_test: synch_test.o synch.o
	$(CC) synch_test.o synch.o -o synch_test

clean:
	rm -f *.o $(PROGS) core dependencies

dependencies: *.C
	$(CC) -M *.C > dependencies

include dependencies
