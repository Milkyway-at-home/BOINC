DEPTH	= .
topsrcdir	= @top_srcdir@
srcdir	= @srcdir@
VPATH	= @srcdir@

#
#	The ../$(srcdir)/client/configure
#	only works when the original configure is relative path
#	it doesn't work when it is an absolute path
#	This needs to be fixed
#
all:
	cd db; make; cd ..; \
	cd lib; make; cd ..; \
	cd api; make; cd ..; \
	cd apps; make; cd ..; \
	cd client; ../$(srcdir)/client/configure; make; cd ..; \
	cd sched; make; cd ..; \
	cd tools; make; cd ..;

clean:
	rm -f boinc.tar.gz config.cache; \
	cd lib; make clean; cd ..; \
	cd api; make clean; cd ..; \
	cd apps; make clean; cd ..; \
	cd client; make clean; cd ..; \
	cd sched; make clean; cd ..; \
	cd tools; make clean; cd ..;

tar: clean
	tar cf boinc.tar * ; gzip boinc.tar
