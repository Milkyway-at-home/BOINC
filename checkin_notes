Rom    4 Jan 2006
    - Branding update for GridRepublic
    
    client/win/
        boinc_cli.rc
        boinc_cmd.rc
        boinc_ss.rc
    clientgui/
        AccountInfoPage.cpp, .h
        BOINCGUIApp.cpp, .h
        WizardAccountManager.cpp
        WizardAttachProject.cpp
        resource.h
    clientgui/res/
        gridrepublic.ico
        gridrepublic.xpm
        gridrepublicamwizard.xpm (Added)
    clientgui/res/
        gridrepublic.ico
        gridrepublicamwizard.bmp (Added)
    win_build/installerv2/
        GridRepublic.ism
    win_build/installerv2/redist/GridRepublic/
        GridRepublic.ico
        GridRepublic.url

Rom    4 Jan 2006 (HEAD)
    - Tag for 5.3.7 release, all platforms
      boinc_core_release_5_3_7

David  4 Jan 2006
    - replace safe_strncpy() with strlcpy() everywhere.
        Same semantics, but the former is less efficient.
    - simplified Bruce's recent fix to escape_string()
    
    checkin_notes_2005 (new - Woo Hoo!)
    api/
        boinc_api.C
    client/win/
        hostinfo_win.cpp
    db/
        db_base.C
    lib/
        app_ipc.C
        diagnostics.C
        filesys.C
        language.C
        parse.C
        util.C,h
    sched/
        handle_request.C
    tools/
        backend_lib.C

David  4 Jan 2006
    - scheduler: scan_work_array(): if add_result_to_reply() fails, do NOT
        reinsert the entry in the array by resetting the "present" flag.
        We previously cleared this flag,
        so the array entry may have been refilled by the feeder,
        and it might be in the CHECKED_OUT state.
        (from Paul Buck)

    sched/
        sched_array.C

Bruce 5 Jan 2006
    - Fixed David's mistake in simplifying my fix to escape_string()!
    db/
        db_base.C

David  4 Jan 2006
    - fixed inefficient unescape_string()

    db/
        db_base.C

Bruce 5 Jan 2006
    - Fixed new unescape_string(): didn't null terminate string.

    db/
        db_base.C

Bruce 6 Jan 2006
    - Nasty bug in API lib.  See checkin_nodes_2004 December 22. 
      Functions meant to be used from within C should never be
      declared bool!

      Fix: change boinc_is_standalone() to return int not bool.

      Note: some API functions still return bools, but since E@H
      doesn't use them and I am afraid of doing damage, I have
      left them alone.

    api/
        boinc_api.C
        boinc_api.h
        graphics_impl.h
        graphics_impl_lib.C

Rom    6 Jan 2006
    - Branding update for GridRepublic
    
    clientgui/
        AccountInfoPage.cpp
        AccountManagerProcessingPage.cpp
        AccountManagerPropertiesPage.cpp
        BOINCGUIApp.cpp, .h
        BOINCGUIApp.rc
        CompletionPage.cpp, .h
        MainFrame.cpp
        resource.h
    clientgui/res/
        gridrepublic2.ico (Added)
    win_build/installerv2/
        GridRepublic.ism
    win_build/installerv2/redist/GridRepublic/
        acct_mgr_url.xml
        GR_splash.bmp

Rom    6 Jan 2006 (HEAD)
    - Tag for 5.3.8 release, all platforms
      boinc_core_release_5_3_8

David  6 Jan 2006
    - fix unitialized var

    client/
        net_stats.C

David  6 Jan 2006
    - feeder: exit on database errors.
        This is a workaround for a problem where the
        feeder loses its DB connection after 10-20 hours of idleness.
        With this change, the feeder will exit, and will be restarted by cron.

    sched/
        feeder.C

David  6 Jan 2006
    - Tweak the account manager system to support "farm managers"
        that use GUI RPC to control clients.
        The farm manager needs the GUI RPC port and password of each client.
        Add an optional <send_gui_rpc_info/> element to the
        acct_mgr_url.xml file,
        which causes the GUI RPC port and password to be included
        in account manager RPC requests.
        (From James Drews)

    client/
        acct_mgr.C,h

David  6 Jan 2006
    - Change "bool" to "int" in the BOINC API.
        C and C++ compilers differ in their allocation for bool,
        making it difficult for C applications
        (which must be compiled with particular compilers)
        to use the BOINC API.
        No such problem for int.
        (from Bruce Allen)

    api/
        boinc_api.C,h

David  8 Jan 2006
    - Account manager additions (from Willy de Zutter)
        - Include <previous_host_cpid> in AM request.
            This is the host CPID sent in the previous AM request.
            It lets the AM track hosts even when their CPIDs change.
        - Include <domain_name> in AM request
        - AM replies can include <message> elements.
            The contents are printed in the Messages tab.
        - Print message that AM request has succeeded (or failed)

    client/
        acct_mgr.C,h
    lib/
        hostinfo.C

David  9 Jan 2006
    - user web: show bbcode correctly for UOTD

    html/user/
        sample_index.php

Bruce 9 Jan 2006
    - fix bug on page that shows profile for a given user.  The total
      number of posts made by a given user is not shown correctly.

      The PHP code assumes that this number is given by user.posts.  However
      in html/inc/db_forum.inc, the value of user.posts is NOT
      incremented each time a user makes a new post (either starting
      a new thread or replying to an existing one).  For the moment, my
      the fix is to simply scan the database and count the number of posts by the
      user, to give the right value on the profile page.

      An alternative fix (which would be less DB intensive, overall)
      is to (1) fix db_forum.inc so that it properly increments user.posts and
      then (2) add an update_db.php script entry that correctly sets user.posts
      by counting the number of posts for each user.

    html/
        inc/
            user.inc

Rom    9 Jan 2006 (HEAD)
    - Initial CPDN/BBC branded client
    
    client/win/
        boinc_cli.rc
        boinc_cmd.rc
        boinc_dll.rc
        boinc_ss.rc
    clientgui/
        AccountInfoPage.cpp
        BOINCBaseView.cpp, .h
        BOINCGUIApp.cpp
        BOINCGUIApp.rc
        DlgAbout.cpp, .h
        MainFrame.cpp
        ViewMessages.cpp
        ViewProjects.cpp
        ViewResources.cpp
        ViewStatistics.cpp
        ViewTransfers.cpp
        ViewWork.cpp, .h
    win_build/
        cpdnbbc.sln (added)
        cpdnbbc_boinc_cli_curl.vcproj (added)
        cpdnbbc_boinc_dll.vcproj (added)
        cpdnbbc_boinc_ss.vcproj (added)
        cpdnbbc_boinccmd.vcproj (added)
        cpdnbbc_boincmgr_curl.vcproj (added)
    win_build/installerv2/
        CPDNBBC.ism (added)
    win_build/installerv2/redist/CPDNBBC/
        Climate Change Experiment.url (added)
        project_init.xml

Rom    9 Jan 2006 (HEAD)
    - Tag for 5.3.9 release, all platforms
      boinc_core_release_5_3_9

Bruce  9 Jan 2006
    - Fixes to BOINC zip library from Carl Christensen. Carl says:
      "I found a problem with boinc_zip; it seems some Linux STL's
      aren't very nice about classes that are inherited from their
      objects on multiple use; or huge file lists that we use on CPDN.
      So I rewrite it to just use "straight" std::string's in a vector.
      It's fully backwardly compatible and seems to work fine."

    zip/
        boinc_zip.h
        boinc_zip.cpp

David  9 Jan 2006
    - changed upper_case so that the -cpu_time option
        takes an arg: the # of CPU seconds to use.

    apps/
        upper_case.C

Charlie 10 Jan 2006
    -Mac: Fix minor bugs in internal scripts in XCode 2.2 project.  Changes to 
    BOINC Manager to accomodate Rom's changes for branding.
      
    clientgui/
        BOINCGUIApp.cpp
        mac/
            MacSysMenu.cpp, .h
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

David  10 Jan 2006
    - core client: fix vector erase code in GUI RPC.
        Thanks to Darrel Holz for finding this.

    client/
        gui_rpc_server.C

David  10 Jan 2006
    - Add XML option for team lookup web interface

    html/
        inc/
            xml.inc
        user/
            team_lookup.php

Bruce 11 Jan 2006

    - Skip test for excessive CPU time, IF hostid has changed
      because host has been cloned.  If result is resent to
      the 'new' host then this can make it appear that the
      result was completed shortly after it was sent.

    sched/
        handle_request.C
 
Charlie 10 Jan 2006
    -Mac: Get BrandID from file put inside application bundle by installer.
      
    clientgui/
        BOINCGUIApp.cpp

Bruce 11 Jan 2006
    - Documentation: describe boinc_is_standalone() in documentation.
    doc/
        api.php

David  11 Jan 2006
    - file upload handler: allow upload if offset if < size
        (this can now happen, since the client skips size check
        for files < 1 MB)

    sched/
        file_upload_handler.C

David  11 Jan 2006
    - Core client: add a flow control mechanism for the case where
        output files are generated faster than they can be uploaded
        (otherwise we'll fill up the disk).
        The mechanism: don't start new results for a project
        that has > 2 uploads in progress.
        Note: this actually happens with Cunning Plan
        (5 MB output files, 60 sec CPU) over a DSL line

    client/
        client_types.h
        cs_apps.C

David  11 Jan 2006
    - core client: on file upload, always get file size (even if small file).
        Before the file upload handler checkin earlier today,
        this was actually a bug:
        if a client had uploaded part of a small file and then failed,
        it would never be able to upload the rest.
        But it was probably a bad idea in the first place,
        since 1 MB is a large file from the viewpoint of a modem user.

    client/
        file_xfer.C

Charlie 10 Jan 2006
    -Mac: Mac System Menu uses menubar icon selected by 
     CBrandingScheme::OnInit() .
      
    clientgui/
        BOINCGUIApp.cpp
        mac/
            MacSysMenu.cpp
        res/
            gridrepublic_mac.xpm (new)

David  11 Jan 2006
    - Core client: remove "unknown project" from message
        where general prefs don't come from a known project.
        They might come from an account manager.
        (from Willy de Zutter)

    client/
        cs_prefs.C

Bruce 12 Jan 2006
    - file_upload_handler: log a message when the client is starting an upload
      from the wrong offset.  This problem should gradually go away as users
      update to more current clients.

    sched/
        file_upload_handler.C

David  12 Jan 2006
    - Web RPC: fixed bug in am_set_info.php that caused password_hash
        to not update.
        (from Willy de Zutter)

    html/user/
        am_set_info.php

David  12 Jan 2006
    - Initialize user/team/host.expavg_time with current time.
        This avoids inaccurate initial values for RAC.
        From Bruce Allen.

    html/user
        create_account.php
        create_account_action.php
        team_create_action.php
    sched/
        handle_request.C

Rom    13 Jan 2006 (HEAD)
    - Tag for 5.3.10 release, all platforms
      boinc_core_release_5_3_10

David  13 Jan 2006
    - core client: handle HTTP "continue" status.
        I don't understand what this is, but hopefully this fixes
        some network problems.
        (from Ian Hay).

    client/
        http_curl.h
        net_xfer_curl.C

David  14 Jan 2006
    - user web: forum fix (from Rob Ogilvie)

    html/inc/
        forum.inc

Janus 15 Jan 2006
    - web: Fixed a special situation where the caching mechanism used on
      (amongst others) the frontpage would always refresh from the serverside
      cache regardless of whether the client had a fresh copy. (from Rob)

    html/inc/
        cache.inc

David  14 Jan 2006
    - core client: If there's only one potentially runnable project,
        ask it for work no matter how negative its debt
        (from Glenn Dill)

    client/
        cs_scheduler.C

Rom    15 Jan 2006
    - CPDB BBC update
    
    clientgui/
        AccountInfoPage.cpp, .h
        BOINCBaseWizard.h
        BOINCGUIApp.cpp, .h
        CompletionPage.cpp
        ProjectProcessingPage.cpp
        ProjectPropertiesPage.cpp
        WizardAttachProject.cpp, .h

Rom    15 Jan 2006 (HEAD)
    - Tag for 5.3.11 release, all platforms
      boinc_core_release_5_3_11

David  15 Jan 2006
    - core client: add "-daemon" option (uses daemon() system call
        to detach from controlling terminal)
        From Jan Gall

    client/
        cs_cmdline.C
        main.C

David  15 Jan 2006
    - GUI RPC: added optional <scheduler_rpc_in_progress/> element
        to <project> elements in GUI RPC replies

    client/
        client_state.h
        client_types.C
        scheduler_op.h
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

David  15 Jan 2006
    - user web: moved eah_server_status.php and sample_server_status.php
        from user/ to ops/.
        These pages have queries that are too slow for
        big projects like SETI@home.

    html/
        ops/
            eah_server_status.php (new)
            sample_server_status.php (new)
        user/
            eah_server_status.php (removed)
            sample_server_status.php (removed)
            server_status.php (removed)

David  15 Jan 2006
    - user web: add optional team_id argument to team_lookup.php
        (returns XML description of a particular team)

    html/
        user/
            team_lookup.php

David  15 Jan 2006
    - compile fixes for gcc4.0

    client/
        gui_rpc_server.C
    lib/
        network.C

Bruce 16 Jan 2006
    - ops page: add external IP to data shown for host
    - user host info page: when giving IP data, show both private
      AND external IP (only for owner of host machine).
    - user web pages: if can't delete host because there are still
      results, give clearer error message and link to list of results.
    - user web pages: in list of hosts, add link to show results
      if project is configured to show results.
    html/
        inc/
            db_ops.inc
            host.inc
        user/
            host_delete.php

David  16 Jan 2006
    - compile fix for Win

    client/
        gui_rpc_server.C

David  16 Jan 2006
    - Call get_host_info() (not just get_filesystem_info())
        before each scheduler RPC (from Bruce Allen)
    client/
        cs_scheduler.C

David  16 Jan 2006
    - add <hostid> element to account manager RPC request.

    client/
        acct_mgr.C

David  16 Jan 2006
    - core client: enhancements to duration correction factor (DCF):
        - on project reset, set DCF to one.
        - when do CPU benchmarks, scale all DCFs by new/old benchmark

        (from Josef Segur)

    client/
        client_state.C,h
        cs_benchmark.C
        cs_scheduler.C

Rom    17 Jan 2006 (HEAD)
    - Tag for 5.3.12 release, all platforms
      boinc_core_release_5_3_12

David  17 Jan 2006
    - user web: add Mauritius to country list

    html/inc/
        countries.inc

David  17 Jan 2006
    - Core client error messages:
        - "task" instead of "result"
        - Don't include function names in messages
        - Don't end with \n
    - Removed files superceded by curl
        
    client/
        *.C
        http.C,h (removed)
        net_xfer.C,h (removed)
        ssl_http.C,h (removed)
        ssl_net_xfer.C,h (removed)

David  18 Jan 2006
    - GUI RPC client lib: add PROJECT::copy() function
        (copies data, doesn't change vectors)

    client/
        file_xfer.C,h
        pers_file_xfer.h
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C
    sched/
        handle_request.C

David  18 Jan 2006
    - If a download isn't complete and gained less than 5 KB,
        truncate back to the original starting size.
        This addresses a bug where some proxies append
        error messages on download failures
        (reported by Rattledagger)

    client/
        file_xfer.C
    lib/
        error_numbers.h
        filesys.C,h
        util.C

David  18 Jan 2006
    - implement boinc_truncate() for Windows

    lib/
        filesys.C

David  18 Jan 2006
    - remove #define bool char stuff,
        and change a couple of functions to return int instead of bool.
        Rule: if any function is potentially callable
        from an ANSI C application, don't use bool in its interface,
        since there's inconsistency in the size of bool
        between C and C++ compilers

    api/
        graphics_api.h
    lib/
        filesys.C,h

David  18 Jan 2006
    - added HTTP error codes to boincerror(),
        since these are sometimes used as return values.

    client/
        http_curl.h
        pers_file_xfer.C
    lib/
        util.C

Rom    19 Jan 2006
    - CPDNBBC Update
    
    clientgui/
        BOINCGUIApp.cpp, .h
        CompletionPage.cpp
        MainFrame.cpp
    win_build/installerv2/redist/CPDNBBC
        CPDNBBC_splash.bmp

David  19 Jan 2006
    - feeder/scheduler: try to fix bug where shmem array slots
        get stuck in "CHECKED_OUT" state.
        Get rid of this state.
        Instead, use the PID of the scheduler process that
        has it checked out (as we're already doing for "reserved" slots)
        and let the feeder clean up slots checked out by dead processes.
    - several of the DB enumerate() function were returning
        1 or -1 (rather than ERR_DB_NOT_FOUND) when no results.
        Bad!!!  Some programs, including the feeder,
        treat values other than 0 and ERR_DB_NOT FOUND as fatal DB errors.

    db/
        boinc_db.C
    sched/
        feeder.C
        sched_array.C
        sched_shmem.C,h
        show_shmem.C

David  19 Jan 2006
    - RSS items should refer to a page that has all news items,
        not just old ones
    - Make news item indices permanent

    html/
        inc/
            news.inc
        user/
            all_news.php (new)
            sample_rss_main.php

David  20 Jan 2006
    - tweak to partial download fix:
        only truncate file if got >0 new bytes

    client/
        file_xfer.C

David  20 Jan 2006
    - suppress "Expect: 100 continue" in HTTP header.
        Apparently this causes problems with some proxies
        (from Ian Hay)

    client/
        http_curl.C

Charlie 20 Jan 2006
    -Mac: Changes for Grid Republic: remove BOINCManager from Dock; 
    different plist file for GR; new application icon for GR; 
    screensaver changes for GR. 
    Remove obsolete files from XCode project (net_xfer.C,h, http.C,h, 
    proxy.C,h)
    Update release script to allow development test builds.
    Update installer for Grid Republic.

    client/
        mac/
            GridRepublic.icns (new)
            SetVersion.C
    clientgui/
        mac/
            mac_saver_module.cpp
    mac_build/
        Info.plist
        GR_Info.plist (new)
        boinc.xcodeproj/
            project.pbxproj
    mac_installer/
        release_boinc.sh
        Postinstall.cpp

David  20 Jan 2006
    - core client: if we change host CPID and we're using an account manager,
        do scheduler RPCs to all projects,
        so that the account manager gets a consistent view when
        it gets host data from the project servers

    client/
        client_state.h
        cs_scheduler.C

David  20 Jan 2006
    - Manager: improvements to Statistics tab
       (from mifistor_x)

    clientgui/
        Events.h
        ViewStatistics.C,h

Charlie 21 Jan 2006
    -Mac: Changes for Grid Republic: manager determines branding before 
      launching client; create new release script for GR; GR screen saver 
      displays GR icon in system preferences dialog; data directory is 
      "GridRepublic Data" if a GR install; installing BOINC over an 
      existing GR installation or GR over existing BOINC installation 
      renames data directory and performs other necessary tasks to ensure 
      continued processing of existing work.  (But user's screensaver 
      selection is not changed automatically.)
      
   clientgui/
        BOINCGUIApp.cpp - Set up branding before launching boinc client.
        mac/
            mac_saver_module.cpp
            gridrepublic.tiff
            SetVersion.C

    mac_installer/
        release_boinc.sh
        PostInstall.cpp
        postinstall
        postupgrade
        preinstall (new)
        preupgrade (new)
        release_GridRepublic.sh (new)
        GR-preinstall (new)
        GR-preupgrade (new)
        GR-Description.plist (new)
        GR-Branding (new)
        GR-ReadMe.rtf (new)

    mac_build/
        GR-InfoPlist.strings (new)
        GR-ScreenSaver-Info.plist (new)
        boinc.xcodeproj/
            project.pbxproj
      
Bruce  22 Jan 2006
    - update_stats program.  Fix 'bug of omission' where member counts
      of teams are calculated but were not written back into the database.
      Also, change algorithm so that for hosts/teams/users, when the RAC
      (Recent Average Credit) values have decayed to exactly 0.0 (double
      precision) then neither expavg_credit nor expavg_time are updated.
      In this way, by looking at the value of expavg_time, you can see
      exactly WHEN the RAC decayed to zero.  This effectively indicates
      the 'drop-out-date' for the host/team/user.

    sched/
        update_stats.C

Rom    23 Jan 2006
    - On Windows use the System Event Notification Service to determine
        network connectivity instead of using InternetGetConnectedState
        since it was proving to be unreliable.
        
      NOTE: This is a big change on Windows.  SENS uses COM as it's
        communication infrastructure and so therefore boinc.dll now has
        to be regsvr32'ed before network notification messages will be
        sent to the client.  If, for whatever reason SENS isn't working
        we'll fall back to InternetGetConnectedState.
        
    client/
        main.C
    client/win/
        hostinfo_win.cpp
    clientgui/
        AccountManagerPropertiesPage.cpp
        BOINCGUIApp.cpp, .h
        MainFrame.cpp
        ProjectPropertiesPage.cpp
    clientlib/win/
        boinc_dll.cpp, .h (Added)
        BOINCSENSSink.cpp, .h (Added)
        Identification.cpp, .h (Added)
        IdleTracker.cpp, .h (Added)
        NetworkTracker.cpp, .h (Added)
        resource.h (Added)
        SENSLogonSubscriptions.h (Added)
        SENSNetworkSubscriptions.h (Added)
        SENSOnNowSubscriptions.h (Added)
        SENSSubscriptions.h (Added)
        stdafx.cpp, .h (Added)
    lib/
        network.C, .h
    win_build/
        boinc_dll.vcproj

Rom    23 Jan 2006
    - Add an File/Exit warning for CPDNBBC so that the users know they will
        be stopping any executing tasks.
    - Update the Project and Work views changing 'work' to 'tasks'
    
    clientgui/
        BOINCGUI.pjd
        BOINCGUIApp.cpp, .h
        DlgGenericMessage.cpp, .h (Added)
        MainFrame.cpp, .h
        Makefile.am
        ViewProjects.cpp
        ViewWork.cpp

Charlie 23 Jan 2006
    -Mac: Improve GridRepublic release script so it uses sed commands 
      to convert standard BOINC plist, preinstall and preupgrade files 
      for Grid Republic; standard BOINC release script creates preupgrade 
      script by copying preinstall script;  these changes eliminate the 
      need for seven files I checked in earlier.
      Also generalize Grid Republic release script so it can easily be 
      modified for other brands by changing a few variable definitions.
      Changed name of GR Manager to "GridRepublic Manager" from just 
      "GridRepublic."
      Restore my change of 1/21/06 which was lost: manager determines 
      branding before launching client.  
      Remove mac_build/Installer-info.plist and replace with 
      mac_build/Installer-info.plist (CVS is case-sensitive).

   clientgui/
        BOINCGUIApp.cpp
    mac/
        SetVersion.C
    mac_build/
        GR_Info.plist (Remove)
        GR-InfoPlist.strings (Remove)
        GR-ScreenSaver-Info.plist (Remove)
        Installer-info.plist (Remove)
        Installer-info.plist (Add)
        boinc.xcodeproj/
            project.pbxproj
    mac_installer/
        GR-ReadMe.rtf
        PostInstall.cpp
        preinstall
        release_boinc.sh
        release_GridRepublic.sh
        preupgrade (Remove)
        GR-Description.plist (Remove)
        GR-preinstall (Remove)
        GR-preupgrade (Remove)

David  23 Jan 2006
    - Core client: D'oh!  When change host CPID,
        need to notify ALL projects, even the one we just contacted.

    client/
        client_state.h
        cs_scheduler.C
        
Charlie 23 Jan 2006
    -Mac: Add new files DlgGenericMessage.cpp, .h to XCode project .

    mac_build/
        boinc.xcodeproj/
            project.pbxproj

Rom    24 Jan 2006
    - String and graphics changes for CPDNBBC.
    - Add email address validation to the wizards.
    
    clientgui/
        AccountInfoPage.cpp
        BOINCGUIApp.cpp
        BOINCGUIApp.rc
        ValidateEmailAddress.cpp, .h (Added)

Rom    24 Jan 2006 (HEAD)
    - Tag for 5.3.14 release, all platforms
      boinc_core_release_5_3_14

Rom    24 Jan 2006
    - Bug Fix: Remove the last line of the function that handles the 
        launching of the wizards on first execution which was causing
        the manager to switch over to the messages tab no matter if the
        wizard completed successfully or not.
        
    clientgui/
        MainFrame.cpp

David  24 Jan 2006
    - core client: move code that deals with generating new host CPID
        to the end of handle_scheduler_reply(),
        after the part that clears sched_rpc_pending and sets min_rpc_time,
        since if we generate a new host CPID
        we're going to modify these (to request another RPC).
        Also: in this case request an immediate scheduler RPC to all projects
        whether or not we're using an account manager.
    - core client: if detach from account manager,
        clear "attached_via_acct_mgr" flag on all projects
    - database: change type of xml field in msg_to_host and msg_from_host
        from text (64KB limit)
        to medium_text (16MB limit, but use at most 256KB)
    - scheduler: don't print trickle message contents (swamps logfile)
        (the latter two from Carl Christensen)

    client/
        acct_mgr.C
        cs_scheduler.C
    clientgui/
        Events.h
    db/
        boinc_db.h
        schema.sql
    sched/
        handle_request.C

David  24 Jan 2006
    - core client: statefile read fails if don't find </client_state>

    client/
        cs_statefile.C

Charlie 24 Jan 2006
    -Mac: Add new files ValidateEmailAddress.cpp, .h to XCode project.
      Change conditional compile #ifdef __ppc__ in mac_backtrace.C 
      so library links properly for Intel Macs (but backtrace is disabled).
      Fix compile error by excluding CPDNBBC client code from Mac builds.
      Remove obsolete XCode project; update build script to use new project.
      Set plaform correctly for powerpc-apple-darwin and i686-apple-darwin.

    clientgui/
        BOINCGUIApp.cpp
        mac/
            config.h
    lib/
        mac_backtrace.C
    mac_build/
        BuildMacBOINC.sh
        boinc.xcodeproj/
            project.pbxproj
        boinc.pbproj/
            project.pbxproj (Remove)
            config.h

Rom    24 Jan 2006
    - Bug Fix: Fix a blocking compilation issue on the Mac with the new
        email validation class.
        
    clientgui/
        ValidateEmailAddress.cpp
        
David  24 Jan 2006
    - new FORTRAN-callable function boinc_zip_()
        (from Juan Perez)

    api/
        boinc_api_fortran.C

Rom    25 Jan 2006
    - Bug Fix: Fix the wizard so that it can display customized graphics
        on the welcome page.
    - Bug Fix: Display the minimum password length in the wizard.
    - Bug Fix: Add two new pages for dealing with account manager updates
        and removal from account managers.  Text needs some work though.

    clientgui/
        AccountInfoPage.cpp, .h
        AccountManagerProcessingPage.cpp
        AccountManagerStatusPage.cpp
        BOINCBaseWizard.cpp, .h
        BOINCGUIApp.cpp
        BOINCWizards.h
        CompletionErrorPage.cpp
        CompletionPage.cpp
        CompletionRemovePage.cpp, .h (Added)
        CompletionUpdatePage.cpp, .h (Added)
        NotDetectedPage.cpp
        ProxyPage.cpp
        UnavailablePage.cpp
        WelcomePage.cpp
        WizardAccountManager.cpp, .h
        WizardAttachProject.cpp
        wizardex.cpp

David  25 Jan 2006
    - core client: add declarations of free_mem() functions
        (but still comment them out)

    client/
        app.h
        client_state.h
    html/user/
        am_seti_info.php
    lib/
        util.C

David  25 Jan 2006
    - add "added_via_acct_mgr" flag to GUI RPC PROJECT structure

    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

David  25 Jan 2006
    - core client: added "Deferring scheduler requests for X" messages

    client/
        cs_scheduler.C

David  25 Jan 2006
    - account manager RPC request now lists all projects;
        <attached_via_acct_mgr/> is included for those attached via AMS

    client/
        acct_mgr.C

David  25 Jan 2006
    - Initialize result.batch to workunit.batch
        This required adding a batch field to TRANSITIONER_ITEM.
        (for Rosetta@home)

    Note: if you're using the batch field for anything,
    you should add indices on it to workunit and/or result


    db/
        boinc_db.C,h
    tools/
        backend_lib.C

David  26 Jan 2006
    - core client: always use HTTP 1.1
        (from Carl Christensen)

    client/
        http_curl.C

Rom    26 Jan 2006
    - Bug Fix: Overhaul the wizard control creation process.  The RAD tool
        we used broke the process into two parts and arranged things where
        the bulk of the control creation and text assignment happened
        during dialog contruction.  This causes problems since not all of
        the relevant data is available at dialog construction, such as
        account manager name or project name.
        
        The new scheme creates all the controls during dialog creation and
        sets the associated text to null.  When the OnPageChanged event is
        fired we'll go and make all the necessary changes to the control text
        as well as hide and show the correct controls.
        
    clientgui/
        <All wizard related files>

Rom    27 Jan 2006
    - Bug Fix: The screensaver should properly detect the shortcut for all
        branded clients.
        
    client/win/
        boinc_ss.h
        boinc_ss.rc
        win_screensaver.cpp, .h

Rom    27 Jan 2006 (HEAD)
    - Tag for 5.3.15 release, all platforms
      boinc_core_release_5_3_15

David  27 Jan 2006
    - server build fix for Mac OS X 10.3
        (from Derek Wright)

    m4/
        kc_mysql.m4

David  27 Jan 2006
    - Manager:
        "Website" is still not a word.
        Don't use exclamation points.

    clientgui/
        AccountInfoPage.cpp
        AccountManagerPropertiesPage.cpp
        CompletionRemovePage.cpp
        CompletionUpdatePage.cpp

David  27 Jan 2006
    - core client: fix calculation of STD/LTD

    client/
        cs_apps.C

David  27 Jan 2006
    - core client: various scheduler fixes
        (from John McLeod)

    client/
        client_state.C,h
        client_types.C,h
        cs_prefs.C
        cs_scheduler.C
        cs_statefile.C

David  27 Jan 2006
    - core client: initial checkin of new CPU scheduling code
        (in a very incomplete state).
        To enable it, define NEW_CPU_SCHED in a couple of .h files

    api/
        boinc_api_fortran.C
    client/
        client_state.C,h
        client_types.C,h
        cs_apps.C
        cs_scheduler.C

Reinhard 30 Jan 2006
     - improved _autosetup: 
    * make version-checks more robust if '--version' is not supported
    * removed libtool-check: libtool is shipped with boinc, this check therefore pointless
     ./autosetup

Charlie 30 Jan 2006
    -Mac: XCode project fixes: path to Mac_GUI.cpp; remove GR_Info.plist, add 
        source files CompletionRemovePage.cpp,.h, CompletionUpdatePage.cpp,.h.

    mac_build/
        boinc.xcodeproj/
            project.pbxproj

Reinhard 30 Jan 2006
     - updated boincmgr build for MacOSX:
    * added Mac_GUI.cpp, MacGUI.pch and Security.Framework

     clientgui/
         Makefile.am
         MainFrame.cpp

Reinhard 30 Jan 2006
     - applied Derek Wright's patch to get --enable-release-client working on MacOS10.4
    (this simply adds a check for '-lSystemStubs') [can't test this myself on 10.4 right now]
     ./configure.ac


David  30 Jan 2006
    - updates to new scheduler code (commented out)

    client
        client_state.h
        client_types.h
        cs_apps.C

David  30 Jan 2006
    - back out scheduler changes of 27 Jan.
        They caused write of statefile in infinite loop in some cases

    client/
        client_state.C,h
        client_types.C,h
        cs_apps.C
        cs_prefs.C
        cs_scheduler.C
        cs_statefile.C

Rom    30 Jan 2006
    - Change the scheme used to select the default item when no other
        items are selected within a single selection list control.
        
    clientgui/
        BOINCBaseView.cpp
        BOINCListCtrl.cpp

David  30 Jan 2006
    - fixes for LTD calculation (from James Drews)

    client/
        client_types.C,h
        cs_apps.C

Rom    30 Jan 2006 (HEAD)
    - Tag for 5.3.16 release, all platforms
      boinc_core_release_5_3_16

Charlie 30 Jan 2006
    -Mac: Undo change of 1/20/06 to Info.plist: restore manager to Dock because 
        use of NSUIElement also eliminated menu bar.
        (Tagged new Info.plist for boinc_core_release_5_3_16.)

    mac_build/
        Info.plist
        
Charlie 31 Jan 2006
    -Mac: Remove redundant second link with libwx_mac.a.
       Fix buildWxMac.sh script to fix wxRegEx problems. 
       Fix bug so a new default item is selected when the old selected item 
       is deleted within a single selection list control.
       Update release scripts for separate ppc_Deployment build directory.
       (Tagged changed files for boinc_core_release_5_3_16.)
       
    clientgui/
        BOINCBaseView.cpp
    mac_build/
        buildWxMac.sh
        boinc.xcodeproj/
            project.pbxproj
    mac_installer/
        release_boinc.sh
        release_GridRepublic.sh

Rom    31 Jan 2006
     - Bug Fix: If the wizard is configured for usernames, do not use the email
         address validator on the account info page.
         
     clientgui/
         AccountInfoPage.cpp

David  31 Jan 2006
    - Back out changes to LTD calculation

    client/
        client_types.C,h
        cs_apps.C

David  31 Jan 2006
    - add "table stats" web page
        (from Carl Christensen)

    html/
        inc/
            util.inc
        ops/
            sample_table_stats.php

David  31 Jan 2006
    - user web: remove "pending credit" link from user page

    html/inc/
        user.inc

Bruce 31 Jan 2006
    - user web: modify David's change just above.  Make 'pending
      credit link display only if 'show_results' enabled in
      project config.xml file.

    html/
        inc/
            user.inc

David  31 Jan 2005
    - core client: finish logic for recovering from state file write failures.
        For some reason I'd done the write part but not the read part.
        write:
            1) write "next"
            2) rename "current" to "prev"
            3) rename "next" to "current"
        read:
            if "next" is valid, use it
                (in case failure between 1 and 2)
                In principle we should rename "next" to "current" here,
                but I didn't bother doing this.
            else if "current" is valid use it
                (normal case)
            else if "prev" is valid use it
                (in case 3) failed and file got deleted)

        "is valid" means that the file has a <state_file> tag,
        followed later by a </state_file> tag

    client/
        cs_statefile.C

Charlie 1 Feb 2006
    -Mac: Changes for Intel Macs.
       
    clientgui/
        MainFrame.cpp
        mac/
            MacGUI.pch
        res/
            mess.xpm
            proj.xpm
            result.xpm
            usage.xpm
            xfer.xpm
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

Rom    1 Feb 2006
    - Bug Fix: The account manager wizard wasn't actually calling the
        get_project_config routine and so various account manager
        specific settings were not being picked up.
    - Bug Fix: Include the account manager name in the wizard
        communication dialogs if we have it.
    - Bug Fix: Account manager errors were no longer being bubbled
        up to the manager.  The manager was declaring everything a
        success and displaying the success page.
    - Bug Fix: Add 'Account not Found' to the account manager wizard.
    - Bug Fix: Don't attempt an account manager rpc until after a
        proper username and password have been specified.  Various
        attributes in the acct_mgr_url.xml were being nulled out
        since the handle_reply function wasn't properly detecting the
        account not found condition, or any condition where only an
        error number was returned.
    - Bug Fix: Keep the tab graphics consistant across all the
        platforms.
        
    client/
        acct_mgr.C
        cs_scheduler.C
    clientgui/
        AccountInfoPage.cpp, .h
        AccountManagerProcessingPage.cpp, .h
        AccountManagerPropertiesPage.cpp, .h
        BOINCGUIApp.cpp, .h
        MainFrame.cpp
        ProjectProcessingPage.cpp
        WizardAccountManager.cpp, .h
    clientgui/res/
        mess.xpm
        proj.xpm
        result.xpm
        usage.xpm
        xfer.xpm
    lib/
        util.C

David  1 Feb 2006
    - added web RPC for creating teams
    - on team creation (whether via RPC or web interface)
        make sure the country name and team type or legitimate

    html/
        inc/
            countries.inc
            team.inc
            team_types.inc (new)
        user/
            create_team.php (new)
            team_create_action.php

David  1 Feb 2006
    - Core client: there's a feature where certain GUI RPCs
        enable network communication (if it would otherwise be disabled)
        for 5 minutes or so.
        This set of RPCs was too large.
        Restrict it to things like attach/update project etc.,
        for which network communication is clearly required.
    - core client: parse <want_network> elements in status messages from apps.
        I had forgotten to do this.
        This should finally allow F@h to work with modem users.

    client/
        app.h
        app_control.C
        gui_rpc_server_ops.C

Rom    2 Feb 2006
    - Bug Fix: Always use the ai.email_addr field for the user identifier for
        both the create_account and lookup_account RPCs.  ai.user_name is only
        used to prepopulate the post account creation setup form.
        
    client/
        acct_setup.h
    clientgui/
        ProjectProcessingPage.cpp
    lib/
        gui_rpc_client.h

Rom    2 Feb 2006
    - Setup new menu layout
    
    clientgui/
        BOINCGUIApp.cpp
        Events.h
        MainFrame.cpp, .h
        WizardAccountManager.cpp, .h

Charlie 2 Feb 2006
    -Mac: Changes for Universal Binaries.

    mac_build/
        boinc.xcodeproj/
            project.pbxproj
        buildcurl.sh
        buildjpeg.sh
        BuildMacBOINC.sh
    mac_installer/
        release_boinc.sh
        release_GridRepublic.sh

Rom    2 Feb 2006
    - Update GridRepublic Icons
    - Add aditional menu item for the task tray when managed via an account
        manager.
    
    clientgui/
        BOINCGUIApp.cpp
        BOINCGUIApp.rc
        BOINCTaskBar.cpp, .h
        Events.h
    clientgui/res/
        gridrepublic16.xpm (Added)
        gridrepublic32.xpm (Added)
        gridrepublic.ico


Rom    2 Feb 2006 (HEAD)
    - Tag for 5.3.17 release, all platforms
      boinc_core_release_5_3_17

David  2 Feb 2006
    - web RPC: bug fix

    html/user
        am_set_info.php

David  2 Feb 2006
    - core client: small logic error in statefile read
        (for "prev", use is_valid_statefile() instead
        of boinc_file_exists())

    client/
        cs_statefile.C

David  2 Feb 2005
    - core client: correctly update long-term debt when a project
        finishes its last result and becomes no longer "potentially runnable".
        From James Drews.

    client/
        cs_apps.C

David  2 Feb 2005
    - core client: long-term debt is modified only over
        potentially runnable projects,
        but it's averaged and normalized over all projects.

    client/
        cs_apps.C

David  3 Feb 2005
    - Allow apps to do cleanup when they're aborted.
        - Add abort_request to BOINC_STATUS structure
        - API library: handle <abort/> message
        - Change boinc_get_status() arg from reference
            to pointer (for easier FORTRAN interface).
            This is an API change, but I think only CPDN uses this.
        - ACTIVE_TASK_SET::poll():
            Check for processes that are ABORT_PENDING
            for more than 5 seconds, and kill them

        From Carl Christensen, somewhat modified.
        I changed the way tasks are aborted.
        The core client can't sleep; that locks up the UI.
        So we can't sleep 5 seconds waiting for an app to exit
        after sending it an <abort/> message
        (existing apps don't recognize this message).
        Instead, send it the <abort/> message,
        set its state to PROCESS_ABORT_PENDING,
        and check it from the polling loop 5 seconds later.

    api/
        boinc_api.C,h
    client/
        app.C,h
        app_control.C

David  6 Feb 2005
    - compile warning fixes

    client/
        cs_statefile.C
        gui_rpc_server_ops.C

Rom    6 Feb 2006
    - Bug Fix: when running as a Windows Service we should use
        suspend_task/resume_task and suspend_network/resume_network
        instead of setting the activity states.
        
    client/
        client_state.h
        main.C

David  6 Feb 2005
    - Core client: when we switched to Curl, we lost the code
        that sets gstate.want_network_flag when name resolution fails.
        I restored this to the Curl code.

    - The above is a kludge for detecting lack of physical connection.
        But name resolution can fail for reasons other than lack of
        physical connection; e.g. hostname might be bad.
        So if get name resolution failure,
        try to contact a reference web site,
        and only if that also fails set want_network_flag.

    client/
        acct_setup.C
        client_state.C,h
        net_xfer_curl.C

Charlie 6 Feb 2006
    -Mac: Changes for Universal Binaries: when running on an Intel Mac, 
       read mach header of project application to determine if it has 
       Intel native executable or only PowerPC executable.  If emulating 
       PowerPC on an Intel Mac, treat the application as not supporting 
       graphics.  This works around a crash bug when displaying graphics 
       under PPC emulation.
    Fix multiple compiler warnings and one error.
    
    api/
        gutil.C
        mac_icon.C
    client/
        app.h
        app_graphics.C
        app_start.C
    clientgui/
        BOINCBaseView.cpp
        BOINCGUIApp.cpp
        ViewStatistics.cpp
    lib/
        mac_backtrace.C
        shmem.C
    mac_build/
        boinc.xcodeproj/
            project.pbxproj
    mac_installer/
        LoginItemAPI.c

David  6 Feb 2006
    - Slight refinement to next-earlier checkin.
        Set want_network_flag only if the request to the reference network site
        results in a CURLE_COULDNT_RESOLVE_HOST Curl error code.

    client/
        acct_setup.C,h
        gui_http.C,h

David  6 Feb 2006
    - try to get rid of gcc4 warnings about virtual destructors
    - project creation bug fix (from Andre Kerstens)

    api/
        graphics_data.h
    client/
        client_msgs.h
    lib/
        msg_log.h
    py/Boinc
        setup_projects.py

Charlie 7 Feb 2006
    -Mac: Adjust XCode project for David's warnings fix.  We now build on Mac 
       with no warnings!

    mac_build/
        boinc.xcodeproj/
            project.pbxproj

David  7 Feb 2006
    - Core client: check for a file "global_prefs_override.xml"
        that overrides the global prefs obtained from server.
        This lets people manually tweak prefs on a given host,
        or develop add-on programs that do so.
    - Remove programs that tested old HTTP code

    client/
        client_state.C,h
        test_file_xfer.C (removed)
        test_http.C (removed)
        test_net_xfer.C (removed)
    lib/
        prefs.C,h

David  7 Feb 2006
    - Add GUI RPC for rereading global prefs override file

    client/
        client_state.C,h
        gui_rpc_server_ops.C
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

David  7 Feb 2006
    - remove the "new CPU scheduler" code I added a couple weeks ago (sigh)

    client/
        client_state.h
        client_types.h
        cs_apps.C
        cs_scheduler.C

David  7 Feb 2006
    - Unravel the CPU scheduler code a little:
        - split set_scheduler_modes() into two functions,
            set_scheduler_mode() and set_work_fetch_mode().
        - make a separate function, enforce_schedule(),
            that does the actual starting and stopping of processes

    client/
        client_state.h
        cs_apps.C
        cs_scheduler.C

Bruce 7 Feb 2006
    - Added a script (originally provided by DA, I think) to
      send mass email to project participants.  The script allows
      one to select the TYPE of user, including 'all', 'active',
      'lapsed', 'unsuccessful' and so on.  Also appends a 'how to opt
      out' message at the end. Do NOT use this script without testing it.

    html/
        ops/
            mass_email.php
            index.php

David  7 Feb 2006
    - Manager: change "Tasks" to "Commands".
        We're using "Tasks" to mean work now.

    clientgui/
        View*.cpp

Charlie 8 Feb 2006
    -Mac: Enhance BOINC command-line build script with new options 
      to build only the 3 BOINC libraries (libboinc, gfxlibboinc and 
      api_libboinc), only 2 targets (boinc client and boinc_cmd), or 
      a combination of these two (5 targets).  The default is still 
      Build_all, which also builds the BOINC Manager.
      
    mac_build/
        BuildMacBOINC.sh

David  8 Feb 2006
    - Move CPU scheduling code to a new file, cpu_sched.C
    - PHP: use $_POST, not $HTTP_POST_VARS

    client/
        Makefile.am
        client_state.h
        cpu_sched.C
        cs_apps.C
        cs_scheduler.C
    html/user/
        create_account_action.php
    win_build/
        boinc_cli_curl.vcproj

Rom    8 Feb 2006 (HEAD)
    - Tag for 5.3.18 release, all platforms
      boinc_core_release_5_3_18

David  8 Feb 2006
    - Change the way the manager learns about the core client's network status.
        Replace the <network_query> GUI RPC with a new one, <network_status>
        It returns:
        0 if currently have network connections
        1 if need a physical connection
        2 if don't have connections, and don't need any

    client/
        acct_setup.C
        client_state.C,h
        gui_rpc_server_ops.C
        net_xfer_curl.C
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

Bruce 9 Feb 2006
    - Ops page bug fix from Carl Christensen for manage special users page.

    html/
        ops/
            manage_special_users.php


Rom    9 Feb 2006
    - Integrate BOINC Manager into David's last API change.
    - Breakout the dial up functionality into its own class.
    - Increase the refresh rate of the list view to 1 second.
    - Terminology change in the project tab.  credit = work done.
    
    clientgui/
        BOINCDialupManager.cpp, .h (Added)
        MainFrame.cpp, .h
        ViewProjects.cpp

Charlie 8 Feb 2006
    - Mac: Add backtrace capability for Intel-based Macs. Add new 
        sources BOINCDialupManager.cpp, .h, cpu_sched.C to project.
        Fix a link error with SETI@home.
    
    api/
        graphics_data.h
    lib/
        MoreAddrToSym.c,h (Added)
        mac_backtrace.C,h
        MoreBacktrace.c,h (Added)
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

David  10 Feb 2005
    - cosmetic

    client/
        client_msgs.h
        client_types.h
        cpu_sched.C
        cs_scheduler.C

Charlie 10 Feb 2006
    - Mac: Free memory allocated for strings when longer needed.
    
    lib/
        mac_backtrace.C

David  11 Feb 2006
    - user web: add links to combined stats sites from user page;
        reorganize user page.
    - user web: enable pending credit page as long as
        config file has <show_result/>

    html/
        inc/
            stats_sites.inc (new)
            user.inc
        user/
            pending.php

David  11 Feb 2006
    - web tweaks

    html/inc/
        user.inc

Rom    13 Feb 2006
    - Fix dialup functionality
    - Numerious fixes for CPDN
    - Enable dialup on platforms other than Windows.
    
    clientgui/
        BOINCDialupManager.cpp, .h
        DlgDialupCredentials.h
        DlgOptions.cpp, .h
        DlgSelectComputer.h
        MainFrame.cpp, .h

Rom    13 Feb 2006 (HEAD)
    - Tag for 5.3.19 release, all platforms
      boinc_core_release_5_3_19

Rom    13 Feb 2006
    - Bug Fix: Fix a possible invalid pointer issue with the taskbar
        notifications.
        
    clientgui/
        BOINCTaskBar.cpp

David  13 Feb 2006
    - core client: changes to the way we check
        for presence of network connection.
        Don't check for DNS failures,
        since these won't show up for ~24 hours in some cases.
        Instead, if we get any HTTP failure,
        try an HTTP op to a high-availability URL,
        and if that fails assume it's because of lack of network.

        NOTE: this checkin prints lots of messages for debugging

    client/
        acct_setup.C,h
        client_state.C
        net_xfer_curl.C

David  13 Feb 2006
    - make test_uc.py work again

    test/
        testbase.py

Rom    13 Feb 2006
    - Bug Fix: Fix a few issues that were introduced with the new dial up
        manager functionality.  Variables that were once seperate are now
        mutually exclusive and so two conditions would never have fired
        when traversing the state machine.
        
    clientgui/
        BOINCDialupManager.cpp

David  14 Feb 2006
    - fix bug that broke account manager attach
    - removed 2nd arg (CurlError) from handle_reply functions.
        We were using this to check for DNS failure,
        but we're not doing this anymore.

    client/
        acct_setup.C,h
        gui_http.C,h

David  14 Feb 2006
    - core client: on Windows, use commit mode ("wc") for state file
        (from Walt Gribben)

    client
        cs_statefile.C

Rom    14 Feb 2006
    - Bug Fix: After any of the wizards have been executed, recreate the
        menus.
    - Bug Fix: Call Fit() before setting focus to any of the controls.
        Fit() messes up the input focus even though the control still
        seems like it is selected and has focus.
    - Bug Fix: Disable the detach button when the project is managed
        via an account manager.  This only affects the project tab.
    - Feature Change: Trim down the number of menu items in the taskbar
        context menu by making the suspend activities and suspend
        network acivities menu checkbox items.  When the items are checked
        they are suspended, and when they are unchecked they are set to be
        based on preferences.
        
    clientgui/
        AccountInfoPage.cpp
        AccountKeyPage.cpp
        BOINCTaskBar.cpp
        MainFrame.cpp
        ProjectInfoPage.cpp
        ProxyPage.cpp
        ViewProjects.cpp

David  14 Feb 2006
    - user web: on "Statistics" page, remove the XML mumbo-jumbo.
        Show a list of all current stats sites,
        and sites that provide signature images.
        The central repository for these lists is html/inc/stats_sites.inc

    html/
        doc/
            stats_sites.dat (removed)
        inc/
            stats_sites.inc
            user.inc
        user/
            stats.php

David  14 Feb 2006
    - Manager: rename menu item from "Update now"
        to "Synchronize with [name of account manager]".
        Fixed some spelling/grammar.

    clientgui/
        MainFrame.cpp

Rom    14 Feb 2006
    - Spec Change: Transfers should be 0% until data is actually transfered.
    - Spec Change: Warn a user that aborting a file transfer will invalidate
        a task and report an error.
    - Add some comments around the Update Now menu item so the localizers
        know what information is expected and make the string contruction
        the same as with the other menu items.

    clientgui/
        ViewTransfers.cpp

Rom    15 Feb 2005
    - Spec Change: Adjust the refresh rate for list view items to 1 second.
        This was previously done in the constructor for CMainFrame but was
        later changed in SetFrameListPanelRenderTimerRate() for deal with
        CPU utilization on Mac's.
        
    clientgui/
        MainFrame.cpp

David  15 Feb 2006
    - core client: if socket/bind/listen on the GUI RPC socket fails,
        sleep for a second and retry; repeat 30 times.
        This will hopefully deal with situations on Windows
        where we're running at boot time
        and network comm doesn't work for a few seconds
        (resulting in the core client exiting,
        and the Manager being disconnected).

    client/
        client_state.C

David  15 Feb 2006
    - Manager: fix menu strings and remove erroneous comments

    clientgui/
        MainFrame.cpp

Rom    15 Feb 2006
    - Bug Fix: Force a project state update even when we are looking at
        the tasks tab.  Copy the updated project state to the existing global
        state structure.
        
    clientgui/
        MainDocument.cpp, .h
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

David  15 Feb 2006
    - make crypt_prog work on Windows
        (from James Drews)

    lib/
        crypt_prog.C

Charlie 16 Feb 2006
    - Mac: Fix menubar draw bug by calling MacInstallMenuBar().  
    - Since Quit (Exit) is not in File menu on Mac OSX, don't show File 
        menu unless it contains other items in addition to Exit.
    - Dialup manager doesn't work on Mac or Linux, so compile it and 
        Options dialog Connections tab only for Windows.
    - Fix a small bug in release scripts.
    
    clientgui/
        MainDocument.cpp
        DlgOptions.cpp
    mac_installer/
        release_boinc.sh
        release_GridRepublic.sh

Rom    16 Feb 2006
    - Modify the disk usage and statistics tab icons
    - Add a worning before the account manager wizard will actually
        defect from an account manager
    - Remove CompletionUpdatePage.cpp and CompletionRemovePage.cpp
    - Remove AccountManagerStatusPage.cpp
    - Remove trace messages from boinc dll.
    - Followup Eric's last change that delt with prematurly showing
        100% progress for tasks due to rounding with a change to
        file transfer progress using the same scheme.
    
    clientgui/
        AccountManagerProcessingPage.cpp
        BOINCWizards.h
        CompletionPage.cpp
        ViewStatistics.cpp, .h
        ViewTransfers.cpp
        WelcomePage.cpp
        WizardAccountManager.cpp, .h
        CompletionUpdatePage.cpp, .h (Removed)
        CompletionRemovePage.cpp, .h (Removed)
        AccountManagerStatusPage.cpp, .h (Removed)
    clientgui/res/
        stats.xpm (Added)
        usage.xpm
    clientlib/win/
        BOINCSENSSink.cpp
        NetworkTracker.cpp

David  16 Feb 2006
    - core client: bug fix (hopefully) for situation where
        a server or proxy doesn't understand Range: in HTTP header,
        and sends us the entire file when we just want the tail.
        Solution: if we asked for a partial transfer,
        and we got a 200 HTTP return,
        and the file is bigger than it's supposed to be,
        trim off the part that was there initially.
    - remove NET_XFER::strCurlResult, file_read_buf* fields

    client/
        file_xfer.C,h
        net_xfer_curl.C,h

Rom    16 Feb 2006
    - Followup Eric's last change that delt with prematurly showing
        100% progress for tasks due to rounding with a change to
        file transfer progress using the same scheme.
    
    clientgui/
        ViewTransfers.cpp

David  16 Feb 2006
    - clientgui compile on unix

    clientgui/
        Makefile.am

Charlie 17 Feb 2006
    - Mac: Remove obsolete files from XCode project (CompletionUpdatePage.cpp, 
        .h, CompletionRemovePage.cpp, .h, AccountManagerStatusPage.cpp, .h)
    - Remove unused variable pWAP to fix compiler warning.

    clientgui/
        WelcomePage.cpp
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

Rom    17 Feb 2006
    - Bug Fix: Remove the defect account manager functionality
        from the wizard and put it into it's own routine
        per David's request.
    - Bug Fix: Fix the context menu item indentation problem on the task bar.
    
    clientgui/
        BOINCDialupManager.cpp
        BOINCTaskBar.cpp
        MainFrame.cpp

David  17 Feb 2006
    - Add Visual Studio project file for crypt_prog
        (from James Drews)

    win_build/
        crypt_prog.vcproj

Rom    17 Feb 2006
    - Bug Fix: Adjust the dialog title code for both the attach to project wizard
        and the attach to account manager wizard per David's request.
        
    clientgui/
        WizardAccountManager.cpp
        WizardAttachProject.cpp

Rom    17 Feb 2006
    - Bug Fix: Reset the reminder timers when the user updates something.
    
    clientgui/
        BOINCDialupManager.cpp, .h
        MainFrame.cpp, .h
        ViewProjects.cpp
        ViewTransfers.cpp

David  17 Feb 2006
    - user web: restore posts link on public user page
        (not sure how it got deleted)
    - minor code cleanup

    html/
        inc/
            profile.inc
            user.inc
        user/
            delete_profile.php

David  17 Feb 2006
    - core client: remove network_status messages

    client/
        client_state.C

Walt   17 Feb 2006
    - bug fix: Fix core client crash on startup when an unknown tag is part of
      <pers_file_xfer> XML structure.
    - core client, GUI RPC: changed persistent file transfers to save the count
      of bytes transferred.  Previously the count was only available when the
      file transfer was active.
       -Adds member last_bytes_xferred to PERS_FILE_XFER class.
       -Adds <last_bytes_xferred> tag to the XML structure and GUI RPC ops.
       -GUI RPC op FILE_TRANSFER::parse is changed to get the count of bytes
        transferred (bytes_xferred) from <last_bytes_xferred>. 

    client/
        pers_file_xfer.C, .h
    lib/
        gui_rpc_client_ops.C

Charlie 17 Feb 2006
    - Mac: - Fix unused variable compiler warnings.
    - added MoreAddrToSym.c, h, MoreBacktrace.c, h to Makefile
    - fixes to Mac build scripts
    - check in XCode project used by buildWxMac.sh script to build wxMac 
        libraries for BOINC.

     lib/
         Makefile.am
    clientgui/
        BOINCTaskBar.cpp
    mac_build/
        buildcurl.sh
        buildjpeg.sh
        BuildMacBOINC.sh
        buildWxMac.sh
        setupForBOINC.sh
        wxMac-BOINC.xcodeproj/  (added)
            project.pbxproj     (added)

David  17 Feb 2006
    - If statefile doesn't have right platform name, reset all projects.
        This is intended to deal with the case where someone
        copies all their files from a Mac/PPC to a Mac/Intel
        and expects everything to work.
        (suggested by Charlie Fenton).
    - minor code cleanup

    client/
        check_state.C
        client_state.C,h
        cs_statefile.C
        http_curl.C

Bruce 18 Feb 2006
    - User RSS page: make it pass the validation check
      http://feedvalidator.org/                                                                                                                                                 

    html/
        user/
            sample_rss_main.php

Charlie 18 Feb 2006
    - Mac: - Fix compiler setting which caused bug when building on PowerPC.
    - Fix compiler errors and crash bug.
    
    mac_build/
        boinc.xcodeproj/
            project.pbxproj
    client/
        client_state.C
    clientgui/
        BOINCTaskBar.cpp
        MainFrame.cpp

David  19 Feb 2006
    - user web: show error results with pink background
        (from Rytis Slatkevicius)

    html/
        inc/
            result.inc
        user/
            white.css

Bruce 20 Feb 2006
     - user web: allow sorting of columns of host data for a given user. I
       have done this in a general way, which should permit any page to
       be easily modified to permit sorting by any column.

    html/
        inc/
            util.inc
            host.inc
        user/
            hosts_user.php

Charlie 21 Feb 2006
    - Mac: Add safety timer to kill application if screensaver hangs.
    - Improve screensaver display when no graphics: don't display 0.00% 
        when client has not yet returned fraction_done; better message.
    - Add time/date stamp to backtrace output.
    - Update ReadMe files for universal binaries and version 5.3.19.

    client/
        app_graphics.C
        ss_logic.C
        app.C
        app.h
    clientgui/
        mac/
            mac_saver_module.cpp
    lib/
        mac_backtrace.C
    mac_installer/
        GR-ReadMe.rtf
        ReadMe.rtf
        

Rom    21 Feb 2006
    - Check in new suspend menu code.
    - Bug Fix: Fix memory leak condition in gui rpc.
    - Bug Fix: Copy gui_urls from new project class to the old class when
        updating project stats.
    - Bug Fix: Make sure the default connection is properly displayed
        in the connection tab.
        
    clientgui/
        BOINCTaskBar.cpp, .h
        Events.h
        MainFrame.cpp
    lib/
        gui_rpc_client_ops.C

Rom    21 Feb 2006
    - Spec Change: Add the ability for the ACCOUNT_OUT rpc structure to contain
        custom project error messages
        
    clientgui/
        ProjectProcessingPage.cpp
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

Bruce 22 Feb 2006
    - User web pages.  Make RSS feed type application/xml rather than text/xml.
      Make RSS feed link permanent guid rather than temporary.
    - Better caching mechanism for hosts_user.php to prevent malicious user
      from passing _GET[] strings that would lead to unbounded cache usage.

    html/
        user/
            hosts_user.php
            sample_rss_main.php

Charlie 22 Feb 2006
    - Mac: Update build instructions and scripts for Intel Macs and Universal 
        Binaries.
    
    doc/
        mac_build.html
    mac_build/
        HowToBuildBOINC_XCode.rtf
        setupForBOINC.sh

Rom    22 Feb 2006
    - Bug Fix: ACCOUNT_OUT::parse should not return after encountering the
        error_num element.
    - Bug Fix: Make sure we are looking at the ACCOUNT_OUT messages array
        instead of the attach to project response.
        
    clientgui/
        ProjectProcessingPage.cpp
    lib/
        gui_rpc_client_ops.C

Rom    22 Feb 2006
    - Bug Fix: We seem to be having trouble with sub menus on the Mac.  So
        we will make the Snooze menu item a checkbox menu item and default
        it to an hour. 

    clientgui/
        BOINCTaskBar.cpp, .h
        Events.h
        MainFrame.cpp

David  22 Feb 2006
    - core client: configure Curl to not accept self-signed SSL certificates.
        Projects that use SSL will have to get SSL certificates
        from Thawte, Verisign etc.
        This prevents certain man-in-the-middle attacks.
    - core client: configure Curl to accept any encoding (including gzip)

    (both from Kevin Reed, WCG)

    client/
        http_curl.C

David  22 Feb 2006
    - temporarily back out the above SSL change,
        since it appears that Curl doesn't have a CA bundle by default,
        so all SSL connections fail.

    client/
        http_curl.C

Rom    22 Feb 2006
    - Bug Fix: Close down the OpenGL handles as well as the window handles
        when boinc_finish() is called.
    - Bug Fix: Add better power management handling to science applications
        if they have a lingering graphics window open.
        
    api/
        boinc_api.C, .h
        windows_opengl.C

Rom    22 Feb 2006
    - Code Cleanup
    - Make S@H enhanced compile again on Windows.
    
    clientgui/
        AccountManagerProcessingPage.cpp
        MainFrame.h
        ProjectProcessingPage.cpp
    lib/
        proxy_info.C

Rom    23 Feb 2006 (HEAD)
    - Tag for 5.3.20 release, all platforms
      boinc_core_release_5_3_20

Walt   23 Feb 2006
    - Bug Fix: last_bytes_xferred was only counting the current bytes transferrred
        on uploads.
    
    client/
        pers_file_xfer.C

Rom    23 Feb 2006
    - Bug Fix: When changing how return values are handled, make sure the callers
        know about the API change.
        
    clientgui/
        ProjectProcessingPage.cpp

Walt   23 Feb 2006
    - Bug Fix: PROJECT::attach_via_acct_mgr flag wasn't being initialized or copied, 
        causing the manager to incorrectly disabled the detach button.   Also added
        the flag to PROJECT::print().
    
    lib/
        gui_rpc_client_ops.C
        gui_rpc_client_print.C

Charlie 23 Feb 2006
    - Mac: Fix compiler warning.
     
    clientgui/
        BOINCTaskBar.cpp

Rom    23 Feb 2006
    - Bug Fix: The new project copy operation instead of replace had the drawback
        of not deleting a project from the listview after a project detach operaton.
        
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

Rom    24 Feb 2006 (HEAD)
    - Tag for 5.3.21 release, all platforms
      boinc_core_release_5_3_21

David  24 Feb 2006
    - remove "gzip" from list of encodings accepted by Curl;
        having it in the list breaks existing projects
        that use .gz files and decompress them in the app
        (e.g. Einstein and CPDN).
        We can fix this by adding a <gzip/> element in <file_info>; 
        I'll do this later.
    - Remove old HTTP code and data that's deprecated by Curl
        (e.g. timeout, blocksize stuff; stuff related
        to parsing URL into host/port/file/)
        remove commented-out code.
    - GUI RPC: a <file_xfer> elements now includes
        a <url> rather than a <hostname>.
        This change doesn't affect the BOINC Manager,
        which I believe is the only client of this RPC

    client/
        http_curl.C,h
        net_xfer_curl.C,h
        pers_file_xfer.C

David  24 Feb 2006
    - Scheduler: increment the infeasible count for a result
        in a slot that cannot be sent to a host because
        the workunit has already be assigned to a different platform.
        This helps projects that use homogenous redundancy
        because once the result is marked infeasible
        it will be checked for compatibility for a given host first,
        thus leaving results for workunits that have not yet
        been assigned free for other hosts.
        (from Kevin Reed, WCG)

    sched/
        sched_array.C

Rom    24 Feb 2006 (HEAD)
    - Tag for 5.3.22 release, all platforms
      boinc_core_release_5_3_22

David  24 Feb 2006
    - Add new config file options, which are typically used together:
        <max_claimed_credit> (double)
            If a result claims more credit than this, mark it as invalid
        <grant_claimed_credit> (bool)
            Grant the claimed credit,
            regardless of what other results for this workunit claimed.
        These are used by Rosetta@home, which has the unusual
        property that different instances of the same job
        can do much different amounts of work,
        depending on the user's project settings.

        (from David Kim)

    sched/
        sched_config.C
        sched_config.h
        validate_util.C
        sched/validator.C
        
Charlie 25 Feb 2006
    - Mac: Fix a small bug in release scripts which made the zip 
        files larger than necessary.
    mac_installer/
        release_boinc.sh
        release_GridRepublic.sh

Charlie 27 Feb 2006
    - Mac: Fix tilde expansion bug in setupForBOINC build script.
    - Fix bug in buildWxMac build script.
    - Update build instructions to restore info on adding an icon 
        to a science application.
    - Fix minor bug in diagnostic error message in setMacRsrcForFile().
    
    doc/
        mac_build.html
    mac_build/
        HowToBuildBOINC_XCode.rtf
        setupForBOINC.sh
        buildWxMac.sh
    api/
        mac_icon.C

Bruce 27 Feb 2006
    - User web page to show hosts: check all GET[] values to 
      be sure they are legal/allowed.

    html/
        user/
            hosts_user.php

Rom    27 Feb 2006
    - Bug Fix: Restore the encoding behavior back to 5.2 defaults until
        we have a better solution in place.
        
    client/
        http_curl.C

Rom    27 Feb 2006
    - Expose Windows detection code in the DLL to BOINC proper.
    
    clientlib/win/
        Identification.cpp
        Identification.h

Walt   27 Feb 2006
    - Bug Fix: On Win2k and later, use global mutex so only one
        instance of the core client runs at a time.
    
    client/
        main.C
    cliend/win
        win_util.h

Charlie 28 Feb 2006
    - Mac: Get path for setMacPList in a more reilable way.
    
    api/
        boinc_api.h
        mac_icon.C
        x_openGL.C

David  28 Feb 2006
    - Continuing saga of Curl encodings.
        It seems like if you call set CURLOPT_ENCODING
        with any value, even "identity",
        it will accept any encoding.
        This breaks projects that do application-level gzip.
        Solution: if the filename ends with ".gz",
        don't set CURLOPT_ENCODING.
        Otherwise set it to "" (accept all).
        NOTE: I think this supports current requirements
        (for "deflate" to work, and for app-level gzip to work).
        At some point I'll implement BOINC-level gzip.
    - Fix the format of <error_msg> elements within <file_info>.
        Need a CR between the last line and the </error_msg> tag.
    - In the course of testing I found that a <file_info>
        with no <url>s will crash the core client.
        Fixed this.
    client/
        client_types.C
        file_xfer.C
        http_curl.C

Rom    1 Mar 2006
    - Bug Fix: Make detach from account managers work again.
    - Bug Fix: url encode the lookup account and create account
        rpcs.  Canonicalize the urls before use.
        
    client/
        acct_setup.C
    clientgui/
        MainFrame.cpp
    lib/
        util.C, .h

Rom    1 Mar 2006 (HEAD)
    - Tag for 5.3.23 release, all platforms
      boinc_core_release_5_3_23

David  1 Mar 2006
    - Core client: don't lose <send_gui_rpc_info/> tag from acct mgr URL file
        when make acct mgr RPC
    - Core client: make RAM size measurement work on HPUX > 4GB

    client/
        acct_mgr.C
        hostinfo_unix.C

Rom    2 Mar 2006
    - Bug Fix: When Windows resumes from hibernation return the application to
        it's previously desired state instead of blindly resuming it.
    - Bug Fix: Copy all the project data except the master_url for each project
        status update.
        
    api/
        boinc_api.C, .h
        windows_opengl.C
    lib/
        gui_rpc_client_ops.C

Rom    2 Mar 2006
    - Further refinements to the core client launch code when the core client
        has been configured as a service.
        
      NOTE: boincmgr.exe now explictly depends on boinc.dll
        
    clientgui/
        BOINCGUIApp.cpp
    clientlib/win/
        Service.cpp
    win_build/
        boinc.sln
        boinc_dll.vcproj
        boincmgr_curl.vcproj

David  2 Mar 2006
    - core client: is a scheduler RPC is pending to a project,
        do it even if project is suspended via GUI.
        This is needed to propagate host CPIDs for GridRepublic.
        It also seems like the right semantics for update requests via GUI
        (i.e. Update should override Suspended)

    client/
        cs_scheduler.C

David  2 Mar 2006
    - core client: tighten up XML parsing.
        When we use copy_element_contents() or dup_element_contents()
        and don't find the end tag, that's an error,
        and probably means we skipped over a bunch of critical elements.
        Fix places where we ignored this error.
    - don't do fprintf(stderr) from util functions
    - have strcatdup() return an error
        (rather than write to stderr and exit()) if realloc() fails

    client/
        schedule_op.C
    lib/
        gui_rpc_client.C
        parse.C,h
    sched/
        file_upload_handler.C

David  2 Mar 2006
    - core client: when host CPID changes,
        delay the resulting scheduler RPCs by 15 seconds

    client/
        cs_scheduler.C

David  3 Mar 2006
    - core client: on scheduler RPC, if our host ID is zero,
        set RPC seqno to zero also.
        This avoids a bug where the scheduler creates a new host record
        with rpc_seqno zero, and then on the next RPC creates
        ANOTHER host record because the client's rpc_seqno is > 0
    - core client: propagate host CPID change only
        if we're using an account manager.

    client/
        cs_scheduler.C

David  3 Mar 2006
    - scheduler: server-side fix for above bug.
        If we create a new host record,
        pretend that the client sent rpc_seqno 0

    sched/
        handle_request.C

David  3 Mar 2006
    - On project attach: if PROJECT/app_info.xml exists,
        don't clear out the project directory.
        This makes life easier for people who use anonymous platform;
        they don't have to re-download apps.
        (suggested by Lars Bausch)
    - Eliminate the PATH_SEPARATOR symbol.  Just use /

    client/
        app.C
        app_control.C
        app_start.C
        cs_account.C
        cs_statefile.C
        cs_trickle.C
        file_names.C
    lib/
        filesys.C,h

Walt   3 Mar 2006
    - GUI RPC: change to <file_transfers> to include files to be
        transferred that don't have a pers_file_xfer object yet. 
    - Manager: Don't show 'uploading' or 'downloading' unless file
        transfer is active.

    client/
        cs_statefile.C
    clientgui/
        ViewTransfers.cpp

David  5 Mar 2006
    - Maybe fix bug where work fetch stopped

    client/
        cs_scheduler.C
        file_names.h

Rom    6 Mar 2006
    - Bug Fix: Fix a couple text issues when using an existing account
        in the wizard
        
    clientgui/
        AccountInfoPage.cpp
        CompletionPage.cpp

Rom    6 Mar 2006 (HEAD)
    - Tag for 5.3.24 release, all platforms
      boinc_core_release_5_3_24

Rom    6 Mar 2006
    - Update localization Template
    
    locale/client/en_US
        BOINC Manager.mo
        BOINC Manager.po

David  6 Mar 2006
    - add db_dump_spec.xml to source tree (in sched/)
        and copy it when create new project
    - Core client: after read_global_prefs_override GUI RPC,
        request CPU reschedule (in case #CPUs changed)

    client/
        file_names.h
        gui_rpc_server_ops.C
    py/Boinc/
        setup_project.py
    sched/
        db_dump_spec.xml (new)

David  6 Mar 2006
    - boinc_cmd: add --read_global_prefs_override command

    lib/
        boinc_cmd.C

Rom    7 Mar 2006
    - Start the account manager wizard anytime their is an acct_mgr_url.xml
        file and no credentials.
        
    clientgui/
        MainFrame.cpp

David  7 Mar 2006
    - scheduler: add <master_url> element to reply
        (Lets clients check that they have the right project URL)
    - core client: if a project is suspended, and a scheduler RPC fails,
        clear the sched_rpc_pending flag so we don't keep retrying

    client/
        scheduler_op.C
    sched/
        sched_config.C,h
        server_types.C

David  7 Mar 2006
    - core client: print project URL in startup message
    - core client: is <master_url> is present in a scheduler reply,
        and it doesn't match project's master URL,
        print error messages advising detach/reattach.
        If there's another project with that URL,
        tell user to detach them both, since (in the BOINC Manager)
        there's no way to distinguish them.

    client/
        client_state.C
        scheduler_op.C,h

David  7 Mar 2006
    - don't allow attaching a project with same name as existing project

    client/
        cs_scheduler.C
        scheduler_op.C
    lib/
        error_numbers.C

Rom    7 Mar 2006
    - Bug Fix: Somewhere along the line, the code to store the account
        manager login name and password hash was removed from the source
        tree.  Put it back in.
        
    client/
        acct_mgr.C

Rom    7 Mar 2006
    - Bug Fix: Choose a password nit for account managers.
    
    clientgui/
        AccountInfoPage.cpp

Rom    6 Mar 2006 (HEAD)
    - Tag for 5.3.25 release, all platforms
      boinc_core_release_5_3_25

Rom    9 Mar 2006
    - Bug Fix: Don't display the minimum password length when a project
        has account creation disabled in the attach to project wizard.
    - Bug Fix: Hide the messages from server static box if there are
        no messages from the server to report.  Instead tell the user
        to check the messages tab.
    - Bug Fix: Make the next and back button go back to the account
        info page when an invalid username or password are used.
    - Bug Fix: Don't use Next and Back buttons in the Statistics view.
        Localizers need different text because of the changes in context.
    - Bug Fix: Don't allow an error message to be localized.
    - Bug Fix: Where possible use a safer string copy function. 
        Defence in depth and all that.
    
    client/
        acct_mgr.C
    clientgui/
        AccountInfoPage.cpp
        CompletionErrorPage.cpp
        hyperlink.cpp
        NotFoundPage.cpp
        ViewStatistics.cpp

David  9 Mar 2006
    - core client: generate a new host CPID only if we sent a nonzero host ID
        to the scheduler and it returned a (different) host ID

    client/
        cs_scheduler.C

David  9 Mar 2006
    - user web: minor fixes

    html/user/
        debug.php (removed)
        profile_search_action.php
        user_search_action.php

David  9 Mar 2006
    - Scheduler: avoid creating redundant host records.
        If a scheduler request has zero host ID but non-blank host CPID,
        see if there's a host record in the DB with that CPID;
        if so, pick the most recent (i.e. largest ID)
        and use it (rather than creating a new host record).

        This change means that when you detach/reattach to a project,
        you won't get a new host record.  Woo hoo!

    sched/
        handle_request.C

David  9 Mar 2006
    - core client: if change host CPID, do immediate notification
        only of projects managed via account manager

    client/
        cs_scheduler.C

Rom    11 Mar 2006
    Problem:  On Windows it seems like random crashes occur with
      the science application is trying to shutdown.

    Cause:  When a science application that supports graphics is
      running on Windows it is generally running with three threads.

        Worker: normally contains the science package and normally
          does the bulk of the memory allocations and de-allocations.

        Graphics: normally just reads what the worker thread has
          produced and displays it in a graphics window.  Memory
          allocations are normally handled on the stack or as
          global variables which are only used via the graphics
          thread.

        Timer: normally handles the IPC to and from the core client.

    When the quit request is received from the core client the timer
      thread would call exit which in turn would cause the C Runtime
      Library to clean up after itself before calling the ExitProcess
      Windows API which would actually stop the threads and exit the
      process.  The thread that calls ExitProcess causes the heaps to
      be freed before the other threads have been stopped.  The
      greater the number of allocations the longer the graphics and
      worker threads are left running and the greater the chance of 
      touching an address of memory that has been freed.

    Solution: Instead of calling exit call TerminateProcess. 
      TerminateProcess causes the OS to halt all executing threads at
      the same time and then starts the shutdown process for the
      process.

    api/
        boinc_api.C, .h
        windows_opengl.C

David  11 Mar 2006
    - Scheduler (see checkin of 9 Mar): When we use a host record
        based on host CPID (presumably because user detached/reattached)
        mark all in-progress results as over, client error.
        This prevents them from being resent.
        Avoid a situation where a result causes problems on a host,
        user detaches/reattaches to clear things up,
        and then the host gets sent the same result again.
        (from Bruce Allen)

    sched/
        handle_request.C
        transitioner.C

David  13 Mar 2006
    - change arg of boinc_init_options() from BOINC_OPTIONS&
        to BOINC_OPTIONS* (so you can call it from C)

    api/
        boinc_api.C,h
        graphics_lib.C

Walt   13 Mar 2006
    - Bug Fix: in boinc_exit(), all platforms, call fflush(NULL) so
      output buffers get flushed.  Moves the call outside the #ifdef.
    - Bug Fix: Account manager shouldn't be contacted if the network
        is suspended.  This affects the automatic (every hour)
        connections only.

    api/
        boinc_api.C
    client/
        client_state.C

Rom    14 Mar 2006 (HEAD)
    - Tag for 5.3.26 release, all platforms
      boinc_core_release_5_3_26

Charlie  14 Mar 2006
    - Fix compiler bug due to BOINC_OPTIONS* when using objective-C.

    api/
        boinc_api.h

Rom    14 Mar 2006
    - Bug Fix: Copy over the account manager url from the rpc to
        the global account manager structure so that the
        acct_mgr_url.xml file can be created.
        
    client/
        acct_mgr.C

David  15 Mar 2006
    - API: add boinc_get_fraction_done(): call this from graphics thread
        to get latest fraction done reported by worker thread.

    api/
        boinc_api.C,h

David  15 Mar 2006
    - core client: if an account manager RPC succeeds,
        do a scheduler RPC to a project that was attached via the AMS,
        in case the user updated preferences.
    - web RPC to set user info: make sure global and project
        preferences are valid XML
        (well, at least make sure they have start/end tags)

    client/
        acct_mgr.C
    html/user/
        am_set_info.php

Charlie  16 Mar 2006
    - Add typedef to BOINC_OPTIONS and BOINC_STATUS so boinc_get_status() 
        and boinc_init_options() declarations compile without errors 
        when using straight C and objective-C with GCC-4.0.

    api/
        boinc_api.h

Rom    16 Mar 2006
    - Bug Fix: If we detect a condition in which we really can't display
        graphics, then we should notify the GUI's that graphics are
        not enabled via the ACTIVE_TASK::write function.
        
    client/
        app.C
        client_state.C, .h

Bruce 16 March 2006
    - Make 'last-modified' and '<lastBuildDate>' entries in RSS feed
      correctly correspond to the last time the project_news.inc file
      was modified.

    html/
        user/
            sample_rss_main.php

Rom    16 Mar 2006
    - Bug Fix: Only allow the SENS Event Notification registration to
        happen on Windows 2000 machines or better.  This appears to
        resolve explorer crashing on Win9x machines during shutdown.
        
    clientlib/win/
        boinc_dll.cpp
        NetworkTracker.cpp

David  16 Mar 2006
    - scheduler: when mark a result as sent, make sure its
        server_state is what we expected (e.g. UNSENT).
        This guards against two scheduler instances trying to
        send the same result at about the same time.
        (from Bruce Allen)

    db/
        boinc_db.C,h
        db_base.C,h
    sched/
        sched_resend.C
        sched_send.C

Bruce 16 Mar 2006
    - missing return value in David's check-in

    db/
        boinc_db.C

David  17 Mar 2006
    - fix mysql_affected_rows() problem: needed to include mysql.h

    db/
        boinc_db.C
        db_base.C

Rom    17 Mar 2006
    - Bug Fix: Stackwalker was using printf's to describe errors during
        initialization, so I'm changing them to fprintf(stderr, "") style
        messages so we can at least get more information about the
        initialization error.
    - Bug Fix: In fixing the bug above I noticed that the code to
        load the dbghelp.dll library wasn't attempting to look
        in the BOINC installation folder for it when executing as part
        of the science applications.  Check in the BOINC installation
        directory first then fall back to the search path.
    - Bug Fix: Treat the about box bitmap the same as the wizard bitmaps
        which gets rid of the transparent whole where the BOINC splat
        logo should be.  The BBC and GridRepublic logos show up correctly
        but the BOINC splat logo doesn't want to be seen.  I'll take care
        of that in a following release.
        
    clientgui/
        DlgAbout.cpp
    lib/
        stackwalker_win.cpp

Rom    17 Mar 2006 (HEAD)
    - Tag for 5.3.27 release, all platforms
      boinc_core_release_5_3_27

Bruce 17 Mar 2006
    - Adding some logging for scheduler fixes from yesterday: log specific
      message saying when a result is unavilable because aonther scheduler
      instance grabbed it from under our hands.

    sched/
        sched_send.C
        sched_resend.C
        sched_locality.C

David  17 Mar 2006
    - compile fix (from James Drews)

    lib/
        gui_rpc_client_print.C

Rom    17 Mar 2006
    - Bug Fix: Allow generic read/write/execute for users in the user group
        for the shared installation type.
        
    win_build/installerv2
        BOINC.ism

David  17 Mar 2006
    - Add <prefs_mod_time> and <prefs_source_project> elements
        to account manager requests;
        tells the AMS what version of global prefs we have
    - Add optional <update/> tag in <account> elements
        of account manager replies.
        This tells the core client to do a scheduler RPC to the project.
        The account manager should set this when it has updated prefs
        and wants the core client to get them;
        put <update/> in the <account> element for one of
        the projects to which prefs were successfully sent.
    - Core client: remove code (from 15 Mar) that contacts a project
        after every successful AMS operation.

    client/
        acct_mgr.C,h
    doc/
        acct_mgt.php

Rom    17 Mar 2006
    - Bug Fix: If graphics have been disabled because the client configuration
        cannot handle them, then report back to the screensaver that graphics
        are not available instead of cycling through them.
        
        This also reduces the bug surface area for applications who are having
        problems with application graphics since it avoids spinning up the
        graphics window even though it cannot be seen.
        
    client/
        ss_logic.C

Bruce 20 Mar 2006
    - User web pages: outcome validate error was being reported as unknown.

    html/
        inc/
            result.inc

Charlie  20 Mar 2006
    - Add /Library/Receipts/BOINC.pkg to list of files to remove for uninstall.

    doc/
        mac_advanced.php
    mac_installer/
        GR-ReadMe.rtf
        ReadMe.rtf

David  20 Mar 2005
    - If a project's web site is turned off
        (i.e. if the stop_web file is present)
        the get_project_config.php script returns a ERR_PROJECT_DOWN error,
        so that the BOINC Manager's Attach Project Wizard
        will show a "project not available" message
        before asking for email/password

    html/user/
        get_project_config.php

Walt   20 Mar 2005
    - Bug fix: Fix issues with proxy authorization:
       -libcurl resends 'post' requests when negotiating authorization
        type with the proxy server, needed curl callback function to
        rewind the data.
       -add variables to NET_XFER to save proxy server authorization type.
        NET_XFER::auth_flag is BOOL, TRUE = proxy server uses authorization
        NET_XFER::auth_type: 0 = libcurl negotiates auth type
                            ~0 = authorization type libcurl used with proxy

    client/
        http_curl.C,h
        net_xfer_curl.C,h

Rom    21 Mar 2005
    - BOINC API: When an application is being aborted, dump the backtraces for
        the timer, worker, and graphics threads. (Windows Only)
        
        This helps with applications that are stuck in an endless loop for
          some reason.  We should no longer need to solicit users with debugging
          experience to track down these kinds of issues anymore.  When the
          user aborts the workunit the needed data should show up in stderr.
          From there the user can post a message in the forum and go on about
          their business.
        
    api/
        boinc_api.C
        graphics_impl.C
        windows_opengl.C
    lib/
        diagnostics.C, .h
        stackwalker_win.cpp, .h

Rom    21 Mar 2005
    - Move the structure out of the header into the .C file
    
    lib/
        diagnostics.C, .h

Walt  21 Mar 2005
    - Bug Fix: Don't use Range: header when resuming file uploads
    
    client/
        http_curl.C

Rom    21 Mar 2006 (HEAD)
    - Tag for 5.3.28 release, all platforms
      boinc_core_release_5_3_28

Rom    21 Mar 2006
    - Compile fix for Linux
    
    client/
        http_curl.C
        net_xfer_curl.C

Charlie  21 Mar 2006
    - Mac: fix compiler "unused variable" warning.
      Please remember to remove unused variables from source files 
      before checking them in.

    lib/
        diagnostics.C

David  22 Mar 2006
    - API: Added some code for drawing characters
        in a variety of fonts, sizes, textures etc.
        Also added font files;
        you'll need to bundle them with your application.
        See http://www.opengl.org//resources/code/samples/mjktips/TexFont/TexFont.html
        From Tolu Aina.
        
    api/
        texfont.c,h
        txf_util.C
        txf/
            *.txf

Rom    22 Mar 2006
    - Make moincmgr compile cleanly on Linux distro's where the
        wxWidget libraries only come in the Unicode flavor.
        From: Frank S. Thomas
        
    clientgui/
        AccountManagerProcessingPage.cpp
        AccountManagerPropertiesPage.cpp
        BOINCBaseView.cpp
        BOINCGUIApp.cpp, .h
        BOINCTaskBar.cpp
        DlgAbout.cpp
        MainDocument.cpp
        MainFrame.cpp
        ProjectProcessingPage.cpp
        ProjectPropertiesPage.cpp
        ProxyPage.cpp
        ValidateURL.cpp
        ViewMessages.cpp
        ViewProjects.cpp
        ViewResources.cpp
        ViewStatistics.cpp, .h
        ViewTransfers.cpp
        ViewWork.cpp
        WizardAccountManager.cpp

Rom    22 Mar 2006
    - Remove the TerminateProcess kludge and make it part of the default
        behavior.
        
    api/
        boinc_api.C, .h

Charlie  23 Mar 2006
    - Mac: Backtrace now always dumps all threads.  User abort calls 
    
    api/
        boinc_api.C
    lib/
        mac_backtrace.C

Rom    23 Mar 2006
    - Fix the boinc_exit(0) call when an abort happens to 
        boinc_exit(ERR_ABORTED_VIA_GUI).
    - Remove a duplicated class identifier so that the manager will
        with g++ 4.1
    - Bug Fix: Treat 301 and 302 http status codes as a
        get_project_config.php error so that the invalid project page
        comes up, instead of the unavailable page.
        
    api/
        boinc_api.C
    clientgui/
        BOINCTaskBar.h
        AccountManagerPropertiesPage.cpp
        ProjectPropertiesPage.cpp

David  23 Mar 2006
    - Core client: ignore <fraction_done>0</fraction_done> from apps.
        If an app is being restarted,
        and hasn't called boinc_fraction_done() yet,
        the fraction done will be reported as zero even
        though the actual fraction done is nonzero.

    client/
        app_control.C

David  23 Mar 2006
    - make_project:
        - allow use of .htaccess in cgi-bin
        - if --project_root is specified, put the key_dir there too
    (from Eric Myers)

    tools/
        make_project

Rom    23 Mar 2006
    - Bug Fix: Fix a COM initialization error within BOINC DLL.
    
    clientlib/lib/
        boinc_dll.cpp

Rom    23 Mar 2006
    - make_project:
        - Copy missing images
    (from Eric Myers)

    tools/
        make_project

Walt   23 Mar 2006
    - Bug Fix: Multiple load/unloads of boinc.dll messed up the
        idle detection routine.  Removed redundant load/free module
        code so dll is loaded once in beginning, unloaded at program
        end.
    
    client
        main.C
    client/win
        hostinfo_win.C

David  24 Mar 2006
    - Let team founders get lists of team members
        (including their email addresses) via XML RPC.
        The URL is PROJECT/team_email_list.php?teamid=X&account_key=Y&xml=1

        This feature lets cross-project teams more easily get their
        combined email-address list.
        It doesn't change BOINC's privacy policy;
        team founders could always get member email addresses.

    html/
        inc/
            xml.inc
        user/
            team_email_list.php

Walt   25 Mar 2006
    - Cleanup unused code left over from testing, adjust temporary
        buffer size so error messages don't overflow
    - BugFix: Fix couple of problems with boinc_cmd:
        --project command options 'suspend' and 'resume' shown as valid
          but they weren't being parsed.
        --file_transfer help text shows options in wrong order
    
    client
        main.C
    lib
        boinc_cmd.C

Rom    26 Mar 2006
    - BOINC API: OpenThread() doesn't exist on Win98 or Win95, so get the
        thread handle by way of DuplicateHandle() since GetCurrentThread()
        just returns a -2.
        
    api/
        boinc_api.C
        windows_opengl.C

Rom    26 Mar 2006
    - Bug Fix: Finish the implementation of the "Hide Graphics" button.
    - Bug Fix: Don't enable the "Copy selected message" button until at least
        one message is highlighted.
        
    client/
        gui_rpc_server_ops.C
    clientgui/
        MainDocument.cpp, .h
        ViewMessages.cpp
        ViewWork.cpp
    lib/
        boinc_cmd.C
        gui_rpc_client.h
        gui_rpc_client_ops.C
    locale/client/en_US/
        BOINC Manager.mo, .po

Rom    26 Mar 2006
    - Bug Fix: Provide that little extra tid bit of information that might keep
        somebody from aborting a CPDN task when it is 70% complete and not over
        due.
        
    clientgui/
        ViewWork.cpp
    locale/client/en_US/
        BOINC Manager.mo, .po

Rom    26 Mar 2006
    - Bug Fix: Since we changed over to async connections the manager has been
        shutting down which ever client is was currently connected to.  So
        wait until we have successfully reconnected to the local BOINC client
        and verify we are connected to the local BOINC client before sending
        the quit command.
        
    clientgui/
        BOINCGUIApp.cpp
        MainDocument.cpp, .h

Rom    27 Mar 2006
    - Bug Fix: When choosing a default value for something, use a value that
        connot be confused with valid data otherwise you might overwrite valid
        default values setup during object creation.
        
    clientgui/
        BOINCListCtrl.cpp

Rom    27 Mar 2006
    - Bug Fix: Make sure that the thread that has caused an exception dumps
        it's callstack even if it didn't register itself to the diagnostics
        functions.
        
    lib/
        diagnostics.C

Walt   27 Mar 2006
    - Enable some CBOINCDialupManager functions for non MS-Windows platforms.
        As the auto-dialer doesn't work on these systems, just display a 
        notification box telling the user an Internet connection is needed.
        
    clientgui/
        MainFrame.cpp
        BOINCDialupManager.cpp

Walt   27 Mar 2006
    - Second half of CBOINCDialupManager changes

    clientgui/
        BOINCDialupManager.cpp, h
        Makefile.am

Rom    27 Mar 2006 (HEAD)
    - Tag for 5.3.29 release, all platforms
      boinc_core_release_5_3_29

Walt   28 Mar 2006
    - Bug Fix: 'Need Internet connection' message wasn't being displayed
        on non MS-Windows systems.  
       
    clientgui/
        MainFrame.cpp

Rom    28 Mar 2006
    - Bug Fix: On non-windows systems be sure to call the wxApp::Yield()
        function to process outstanding window messages when shutting
        down.  This should resolve the issue of CDocument::Poll() not being
        called on shutdown when a connection to the local BOINC client
        needs to be reestablished.
    - Bug Fix: Disable the 'Hide graphics' button for now.
        
    clientgui/
        BOINCGUIApp.cpp
        ViewWork.cpp

Walt   28 Mar 2006
    - Bug Fix: Use alert box for 'need Internet connection' message when
        manager window is hidden.
       
    clientgui/
        BOINCDialupManager.cpp

Rom    28 Mar 2006
    - Bug Fix: Try a different method to notify the local BOINC CC that it
        needs to shutdown on all platforms.
    - Bug Fix: Discard notification only events for platforms other than
        Windows until we can figure out a better way to display them.
        
    clientgui/
        BOINCGUIApp.cpp
        MainFrame.cpp

Charlie 28 Mar 2006
    - Mac: Fix compiler warnings.
    
    clientgui/
        BOINCDialupManager.cpp
        ViewWork.cpp

Walt   28 Mar 2006
    - Bug Fix: Show 'needs Internet connection' dialog only when the 
        manager is the foreground window.  Comment out the alert messages
        until they're implement in non-MS-Windows platforms
       
    clientgui/
        BOINCDialupManager.cpp

Rom    28 Mar 2006 (HEAD)
    - Tag for 5.3.30 release, all platforms
      boinc_core_release_5_3_30

Walt   28 Mar 2006
    - Bug Fix: Manager window always shows 'active' on MAC, so check
        whether application has the focus instead.
       
    clientgui/
        BOINCDialupManager.cpp

David  29 Mar 2006
    - boinc_cmd: fix
        boinc_cmd --project X resume
        and
        boinc_cmd --project X suspend
    - user web: RPC to get team membership:
        if account_key missing, show members but omit email addresses

    html/
        inc/
            xml.inc
        ops/
            mass_email.php
        user/
            team_email_list.php
    lib/
        boinc_cmd.C

David  30 Mar 2006
    - API: move code that uses GLUT character-drawing functions
        to a separate file (gutil_text.C).
        This makes it easier for apps to not include GLUT.
    - API: if you compile gutil.C with -DSANS_JPEGLIB,
        you won't get any calls to jpeglib functions.

    api/
        gutil.C
        gutil_text.C

Rom    30 Mar 2006
    - Make the SENS initialization code non fatal when an error
        occurs.
    - Change the Windows installer so that the DLLs that BOINC
        is dependant on are are contained in a seperate component
        that is always installed and removed duplicate references
        from the install type specific components.  This shrinks
        the install package by 2MB.
        
    clientlib/win/
        boinc_dll.cpp
    win_build/installerv2/
        BOINC.ism

David  30 Mar 2006
    - Core client: fix nasty crash bug.
        If a result had a lot of output files, its failure message
        (originating from X)
        could exceed 1024 chars.
        It gets passed up to show_message(),
        and is copied (by strcpy()) into a 1024-char buffer.  Crash!
        Fixed this by using strlcpy() instead.
    - Core client: return file errors in a std::string instead of char*
    - Core client: in generating XML descriptions of file failures,
        insert <error_message>X</error_message> elements
        only if there's a message.

    At some point we should replace char[N] with std::string
    everywhere in the code.
    Fix-size buffers are crashes waiting to happen.
    I wish you could sprintf() to a string.

    client/
        client_state.C
        client_types.C,h
        main.C

Rom    30 Mar 2006
    - Bug Fix: Initializing some of the dependant DLLs on Windows was
        causing us to bump up against the 30 second marker and making
        the service control manager think something was wrong and kill
        the BOINC service on boot.  I moved the bulk of the 
        initialization code to boinc_main_loop which is called by the
        service control manager when running as a service.  This change
        will keep this from happening in the future if we take on any more
        dependencies.
        
    client/
        main.C
    clientlib/win/
        BOINCSENSSink.cpp

Rom    30 Mar 2006 (HEAD)
    - Tag for 5.3.31 release, all platforms
      boinc_core_release_5_3_31

Charlie 30 Mar 2006
    - Mac: Fix "unused variable" compiler warning.
    - Mac: "Fix" bug 460: Mac OS X automatically puts a "Preferences" item 
      in the BOINC menu, but we don't use it so it was disabled.  This was 
      confusing some users, so hide (delete) this menu item.
    - Mac: add gutil_text.C to project.
      
    client/
        main.C
    clientgui/
        MainFrame.cpp
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

David  30 Mar 2006
    - API: move GLUT-related includes to a separate file,
        which is included only from files that need it.

    api/
        boinc_gl.h
        boinc_glut.h (new)
        gutil_text.C
        x_opengl.C

Eric    2 Apr 2006
    - Added stream memory bandwidth benchmark.  Still needs modifications 
      to timing logic and possibly changes to allow multiple threads or 
      processes.  This is not yet added to Makefiles or called from the code.

    client/
        stream.C (new)

David  3 Apr 2006
    - Add script to find results with no corresponding workunit

    html/ops/
        db_cleanse.php

Rom    3 Apr 2006
    - Bug Fix: When switching from any state to SS_STATUS_ENABLED make sure
        we set the ss_status back to SS_STATUS_ENABLED.
    - Bug Fix: Increase the screensaver polling frequency when the
        screensaver is set to anything other than SS_STATUS_ENABLED.  This
        makes the status messages disappear faster when the graphics app
        is started again.
    - Bug Fix: Right justify Work:Progress and Disk:Diskspace list view
        columns.
        
    client/
        ss_logic.C
    client/win/
        win_screensaver.cpp
    clientgui/
        ViewResources.cpp
        ViewWork.cpp

David  4 Apr 2006
    - back end: have the "dir_hier_path" script create the fanout directory
        if it's not there.

    tools/
        dir_hier_path.C

David  4 Apr 2006
    - Finish script to delete orphan results

    html/ops/
        db_cleanse.php

David  4 Apr 2006
    - core client: define a result's "computation deadline":
        it's report deadline minus network connect period
        and minus cpu scheduling period.
        Use this, rather than report deadline, in CPU scheduling.
    - take network connect period into account in deciding
        when results have to be reported

    (from John McLeod)

    client/
        client_types.C,h
        cpu_sched.C
        cs_scheduler.C

Rom    5 Apr 2006
    - Bug Fix: Set the AccountInfo.cpp control states before
        attempting to set the text for the controls.  Otherwise
        we'll see text that says 'choose a password' instead
        of 'password'.
        
    clientgui/
        AccountInfoPage.cpp

Charlie 5 Apr 2006
    - Mac: New shell script to sets up Mac to run BOINC Client as 
        a daemon / service.  Note: when running as a daemon, the 
        graphics (screensaver and "Show Graphics" button) work only 
        if BOINC's owner is the logged in user.
    - Added boinc_glut.h to XCode project.
        
    mac_build/
        boinc.xcodeproj/
            project.pbxproj
        Make_BOINC_Service.sh (new)

Rom    5 Apr 2006
    - Bug Fix: Change the progress field to display xx.xxx% since
        some projects use that to debug looping issues.
    - Bug Fix: In the screensaver make sure that the foreground window
        is either a screensaver window or a BOINC application window.
        If another window is the foreground window, shutdown the
        screensaver.
        
    client/win
        win_screensaver.cpp
    clientgui/
        ViewWork.cpp

Rom    6 Apr 2006
    - Bug Fix: Add some text about connectivity problems to the proxy
        into page.
    - Bug Fix: Remove the code that was keeping the 'Not Found' page from
        going to the 'Account Info' page.
        
    clientgui/
        ProxyInfoPage.cpp
        WizardAccountManager.cpp
        WizardAttachProject.cpp

Rom    6 Apr 2006 (From Frank S. Thomas)
    - Bug Fix: Allow a connection request to reset a connection attempt
        to the local computer or another computer.
        
    clientgui/
        MainDocument.cpp

Rom    6 Apr 2006 (From Darrel Holz)
    - Bug Fix: Fix the Logo display for BOINC when not running as a branded
        client.
        
    clientgui/
        DlgAbout.cpp

Charlie 7 Apr 2006
    - Mac: Fix bug in shell script to sets up Mac to run BOINC Client as 
        a daemon / service.
        
    mac_build/
        Make_BOINC_Service.sh

David  7 Apr 2006
	- add graphics to sample app

	api/
		gutil.C
		txt_util.C
	apps/
		upper_case.C

Charlie 7 Apr 2006
    - Mac: If launching client as a daemon / service at system startup, retry 
       gethostbyname() for up to 10 seconds if needed, to allow system  
       support to become available.

    client/
        hostinfo_network.C

Rom    8 Apr 2006
    - Bug Fix: Make stackwalker more useful on Windows by dumping the function
        pointers and registers for each thread.  Cut away all the extra code.
        
    lib/
        diagnostics.C
        stackwalker_win.cpp, .h

Rom    9 Apr 2006
    - Bug Fix: Add a check to stackwalker so that if it detects it is running on
        Win9x it'll switch over to the Win9x compatible dbghelp.dll.  After
        checking it out, it doesn't require any changes to the stack walker code
        as it has the 64 bit function exports.  So all that was required was
        just changing which DLL was used to get the function pointers.
    - Bug Fix: Upgrade to the latest stable debugging tools from Microsoft.
    
    lib/
        stackwalker_win.cpp
    win_build/installerv2/redist/Windows/x86/
        dbghelp.dll
        dbghelp95.dll (Added)
        srcsrv.dll (Added)
        symsrv.dll (Added)

Rom    9 Apr 2006
    - Put the infrastructure in place to be able to use Symbol Servers.  This
        is just the basics.  Many details need to be worked out.
        
    lib/
        diagnostics.C, .h
        stackwalker_win.cpp, .h

Rom    10 Apr 2006
    - Bug Fix: Fix a crash condition where a result maybe in the list view but
        may have already been cycled out of the system.  There is a brief
        period of time where the result is being sent back to the scheduler and
        the user may switch back to the work tab where this crash would occur.
        
    clientgui/
        ViewWork.cpp

Rom    10 Apr 2006 (boinc_core_release_5_4)
    - Tag for 5.4.0 release, all platforms
      boinc_core_release_5_4

Charlie 10 Apr 2006
    - Extend Mac screensaver safety timer of 21 Feb 2006 to all platforms.
      (checked this in to both HEAD and boinc_core_release_5_4 branches.)
    
    client/
        app_graphics.C
        ss_logic.C
        app.C
        app.h

Charlie 11 Apr 2006
    - Changes to allow building upper_case application on Mac.
    
    api/
        texfont.c,h
        txf_util.C,h

David  11 Apr 2006
    - rename sample en.po so update won't overwrite project's file
        (from Eric Myers)
    - use "request" instead of "RPC" in user-visible messages

    html/languages/project_specific_translations/
        en.po (removed)
        sample_en.po (new)
    sched/
        handle_request.C

Rom    11 Apr 2006
    - Bug Fix: Account creation controls should be disabled for all
        account manager code paths, not just update.
    - Bug Fix: Extend the timeout for the graphics mode ack to 30
        seconds in the screensaver poll function to give LHC and
        CPDN more time to create and display their graphics window
        when going into screensaver mode.
    - Bug Fix: Add some extra logic to the screensaver to handle
        detection of idle user input without needing to be the
        active window.  If the science application window hasn't
        processed a window message for 5 seconds do an additional
        check to determine if any mouse or keyboard activity has
        been detected.  If activity has been detected, shutdown the
        screensaver system.
    - Bug Fix: Add a please wait message to the screensaver for
        applications that take a long time before they display
        their own graphics.
        
    client/
        ss_logic.C
    client/win/
        boinc_ss.h
        boinc_ss.rc
        win_screensaver.cpp, .h
    clientgui/
        AccountInfoPage.cpp

Eric K 12 Apr 2006
    - Changed some function defines to inlines (i.e. formerly "#define read
      _read" becomes "static inline read(...) {return read(...);})  These 
      defines were breaking some classes that had methods named read().
    - Altered boinc_fopen() to call _fsopen under _WIN32 with the sharing
      flags set to the most permissive value.  This may solve some of the
      virus scanner locking problems.
    - Fixed some problems with non-MSC compilers with diagnostics.[Ch]
    - Added checks for stdint.h and inttypes.h to configure.ac
    
    lib/
        boinc_win.h
        filesys.C
        diagnostics.[Ch]
        configure.ac

Rom    12 Apr 2006
    - Bug Fix: Fix a crash on Win9x when leaving the screensaver and
        password protection is enabled.
    - Bug Fix: Do not allow the Win9x password dialog to get stuck behind
        the main screensaver windows, otherwise the only thing you can do
        is reboot the machine.
    - Include the thread id with trace statements.
        
    client/win/
        win_screensaver.cpp, .h
    lib/
        diagnostics.C

David  13 Apr 2006
    - Add texfont stuff to API makefile
    - Unix graphics API: when looking for .so graphics file,
        if it's not a symlink file, prepend "./" to the name
        so that ldopen() will find it.
    - diagnostics: don't buffer stderr

    api/
        Makefile.am
        graphics_lib.C
        gutil.h
        texfont.h
    client/
        acct_setup.C
    html/user/
        edit_forum_preferences_action.php
    lib/
        diagnostics.C

David  13 Apr 2006
	- graphics API: in txf_load_fonts(),
		use boinc_resolve_filename() so that font files
		can be in the project dir

	api/
		txf_util.C

Rom    13 Apr 2006
    - Bug Fix: Adjust the startup sequence on Windows a bit so that the
        window doesn't flicker.  Another perk is that on startup the
        window won't display itself until it can fully deal with user
        input.
    - Define some basic data types for MINGW and CYGWIN
        
    clientgui/
        BOINCGUIApp.cpp
        MainFrame.cpp, .h
    lib/
        boinc_win.h

Rom    13 Apr 2006
    - Bug Fix: Fix a shutdown bug that was causing the manager to wait
        the full 10 seconds before closing itself.
        
    clientgui/
        BOINCGUIApp.cpp

Charlie 14 Apr 2006
    - Mac: OnShow() is not implemented in wxMac-2.6.2, so move code from 
      CMainFrame::OnShow() into new method CMainFrame::SetWindowDimensions(). 
      Call SetWindowDimensions() from CMainFrame::OnShow() and also from 
      Mac-only method CMainFrame::Show().
    - Mac: Fix compile errors due to xpm files.
    - Save main window dimensions on Hide so SaveState can write them even 
      if the window is hidden before application exit.
      
    clientgui/
        BOINCGUIApp.cpp
        MainFrame.cpp, .h

David  14 Apr 2006
    - Core client: change the way that application priority is set on Unix
        Old: fork/exec app, then setpriority(pid)
            PROBLEM: race condition.  When the app starts,
            it's initially at regular priority.
            If it immediately creates another process,
            the child process has regular priority
            (and continues to even after the app's priority is lowered).
        New: fork, lower priority, exec.
        (From Mike Fleetwood)

    apps/
        upper_case.C
    client/
        app_start.C

David  14 Apr 2006
    - User web: add Web RPC for setting forum preferences
        (repurpose existing script)

    html/user
        edit_forum_preferences_action.php

Rom    14 Apr 2006
    - Bug Fix: Apparently Windows and Mac message boxes by default have an OK
        button and Linux does not.  So add wxOK to all the alerts sent.
        
    clientgui/
        BOINCDialupManager.cpp
        MainFrame.cpp

Rom    15 Apr 2006
    - Enable proxy support to retrieve symbols from a web based symbol store.
    - Enable trace debugging for various components that the Windows debugging
        environment uses.  This only works with tools that can trap
        OutputDebugString based messages.  It is something we may support in
        a future release.  If dbghelp.dll or symsrv.dll ever use their
        callbacks, that output will be logged to stderr.txt
        
    lib/
        diagnostics.C
        stackwalker_win.cpp, .h

David  16 Apr 2006
	- core client: get rid of min_report_rpc_time

	client/
		client_types.C,h
		cs_scheduler.C

Rom    16 Apr 2006
    - Bug Fix: Add cache timestamps for project, task, transfers, statistics,
        and resources.
        
    clientgui/
        MainDocument.cpp, .h

Rom    16 Apr 2006
    - Bug Fix: Include file version informaton in the debugger module list
    
    lib/
        stackwalker_win.cpp

Charlie 17 Apr 2006
    - Mac bug fix: If window was never opened, window dimensions were never 
        read from preferences, so SaveState wrote bad values in preferences.
    - Mac: Don't customize name of BOINC Data directory for branding; change 
        "GridRepublic Manager" to "GridRepublic Desktop; make branding script 
        more robust if there is a space in any file or directory name or path.
    - Mac: Release scripts automatically update ReadMe version numbers.
    - Mac: clarify that upgrade warning from older versions applies only to 
        Intel Macs.
      
    clientgui/
        BOINCGUIApp.cpp
        MainFrame.cpp
    mac_installer/
        GR-ReadMe.rtf
        PostInstall.cpp
        preinstall
        ReadMe.rtf
        release_boinc.sh
        release_GridRepublic.sh
    doc/
        versions.inc

Rom    17 Apr 2006
    - Clean up the caching scheme used in the manager
    - Remove the message cache update for all tabs except
        the messages tab.
    - Remove the project update from the work tab.  Use a new flag being
        introduced to show if the project has been suspended via GUI.

    clientgui/
        MainDocument.cpp
        MainFrame.cpp
        ViewMessages.cpp
        ViewProjects.cpp
        ViewResources.cpp
        ViewStatistics.cpp
        ViewTransfers.cpp
        ViewWork.cpp

David  17 Apr 2006
	- get rid of the versions of xml_escape() and xml_unescape()
		that take std::string args.
		These are too inefficient.
	- boolean constant is "true", not "TRUE"

	client/
		client_types.C
	lib/
		app_ipc.C
		diagnostics.C
		parse.C,h
		proxy_info.C
	sched/
		db_dump.C
		db_purge.C
		server_types.C

David  17 Apr 2006
    - GUI RPC: add an optional <project_suspended_via_gui/>
        tag to <result> elements.
        This tells the Manager that the project is suspended
        without having to do a separate get_projects GUI RPC

    client/
        client_types.C
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

Rom    17 Apr 2006
    - Use the boolean flag now defined in the result instead of
        looking it up in the project structure.
        
    clientgui/
        ViewWork.cpp

Walt   17 Apr 2006
    - Bug Fix: Fix a problem where it was passing the xml tag line
        instead of the string to xml_unescape.
        
    lib/
        proxy_info.C

Rom    18 Apr 2006
    - Bug Fix: Move the project_suspended_via_gui flag from the
        client state file write routine to the gui write routine.
        
    client/
        client_types.C

David  18 Apr 2006
	- make match_tag(), parse_int(), parse_double() into inlines
	- remove setlocale() calls from parse_int(), parse_double().
		Numbers in XML (including GUI RPCs) are always in standard format.
		Whoever writes XML (e.g. the Manager) must ensure this.

	lib/
		parse.C,h

David  18 Apr 2006
    - core client: better messages on network check
    - unix compile fix

    client/
        acct_setup.C
    lib/
        parse.h

Charlie 18 Apr 2006
    - Mac: Add texfont.C,h and txf_util.C,h to XCode project for building 
        graphics library; fix compiler warning.

    api/
        texfont.c,h
    clientgui/
        MainFrame.cpp
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

David  18 Apr 2006
    - if no physical network connection (gstate.need_physical_connection is set)
        then don't increment failure count for file transfers
        and scheduler RPCs.
        (avoid ending up with 2-week backoff when network is down for a while.)

    client/
        pers_file_xfer.C
        scheduler_op.C

David  18 Apr 2006
	- improve network-related messages
		Add error_msg field to NET_XFER.
		Put Curl error messages here; print them at a higher level,
		where we can give the context

	client/
		acct_setup.C
		net_xfer_curl.C,h
		scheduler_op.C

Rom    18 Apr 2006
    - Bug Fix: setlocale is needed in environments where the C runtime library
        will attempt to use the current locales' numerical formating rules to
        extract integer or floating point numbers.  The core client doesn't
        observe local formating rules and defaults to the "C" locale.  When
        parsing data from the CC be sure to flip the locale to "C" and return
        it when your done.
        
    lib/
        gui_rpc_client_ops.C

David  19 Apr 2006
    - scheduler: put \n after global and project prefs in reply message;
        otherwise, if those fields don't have \n,
        we end up with 2 elements on 1 line and it doesn't parse right.

    sched/
        server_types.C

Walt   19 Apr 2006
    - Code cleanup: remove duplicate calls to xml_unescape.
    - Bug Fix: Change HTTP redirect limit to 50
    - Bug Fix: Fix problems with socks5 proxys:
        - Auth negotiation is handled by libcurl, remove that from BOINC
        - Set connection timeouts to 20 seconds
          *NOTE* Using socks5 proxies will cause BOINC to block until a
          connection is made to the end server.  BOINC will 'lock up'
          until the connection attempt completes or times out.

    client/
        http_curl.C
    lib/
        proxy_info.C

Rom    19 Apr 2006
    - If an application hasn't initialized the diagnostics system, provide
        reasonable defaults and initialize it for them.  This only handles
        the boinc_init() and boinc_init_graphics() cases.
        
    api/
        boinc_api.C
        graphics_api.C
    lib/
        diagnostics.C, .h

Rom    19 Apr 2006
    - Update dependancies.
    
    curl/
        <various files>
    openssl/
        <various files>
    zlib/
        <various files>

Walt   20 Apr 2006
    - Enable network tracing when <net_xfer_debug> log_flag is set.
        Dumps libcurl info messages and http header information.
    
    client/
        http_curl.C,h

Rom    21 Apr 2006
    - Bug Fix: Fix the account lookup and get project config rpcs which
        I broke fixing the setlocale stuff.
        
    lib/
        gui_rpc_client_ops.C

David  21 Apr 2006
    - Slight philosophy change in deciding whether network
        communication is working
        (e.g. by checking a reference web site when an HTTP operation fails):
        the core client, not the Manager, is in charge of this.
    - Eliminate the lookup_website() and lookup_website_poll() GUI RPCs
    - Add a new possible return value to the "network_status" GUI RPC:
        3 means the client is currently trying to access a reference web site.
        Check back in a few seconds to see the outcome.

    client/
        acct_setup.C,h
        client_state.C
        gui_rpc_server_ops.C
        net_xfer_curl.C
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

David  21 Apr 2006
    - use an object constructor/destructor to do setlocale() stuff.
        Use char* instead of string (??)

        Coding style: never have the same lines of code appear over and over

    lib
        gui_rpc_client.h
        gui_rpc_client_ops.C

Walt   21 Apr 2006
    - Bug fix: When tracing network activity, increment trace_id when request
        is created.  All the trace records for that network operation will have
        the same request number.

    client/
        http_curl.C

David  21 Apr 2006
	- Kludge to make things work even when a project left out
		a </gui_url> tag in its GUI URL list.
	- comment out google/yahoo code in the BOINC Manager.
		Rom: please finish this job

	clientgui/
		AccountManagerPropertiesPage.cpp
		BOINCDialupManager.cpp
		ProjectPropertiesPage.cpp
	lib/
		gui_rpc_client_ops.C

Walt   22 Apr 2006
    - Bug fix: Don't use NTLM authorization for proxys.

    client/
        http_curl.C

David  23 Apr 2006
    - core client: add missing \n to error string for failed results

    client/
        client_state.C

Rom    24 Apr 2006
    - Bug Fix: Fix a connection to a remote machine bug.
    
    clientgui/
        MainDocument.h

Rom    25 Apr 2006
    - Bug Fix: Fix for missing includes.
    
    client/
        cpu_sched.C

Rom    25 Apr 2006
    - Bug Fix: PPM files need to be closed when we are finished using them
        or we'll experience a handle leak
    - Bug Fix: After drawing the PPM bitmap on an OpenGL surface, free the
        memory.

    api/
        gutil.C

Rom    25 Apr 2006
    - Bug Fix: Hide everything about a thread if it has been closed to
        prevent identity information being disclosed as part of the
        subject line.

    html/user/
        forum_thread.php

Walt   26 Apr 2006
    - Bug Fix: Save local copy of locale so it gets restored properly later.

    lib/
        gui_rpc_client.h

Charlie 27 Apr 2006
    -Mac: Change XCode project. build instructions and build scripts to use 
      curl-7.15.3 and to apply Walt's patch to curl-7.15.3/lib/url.c file.
      
    doc/
        mac_build.html
    mac_build/
        buildcurl.sh
        buildjpeg.sh
        setupForBOINC.sh
        HowToBuildBOINC_XCode.rtf
        boinc.xcodeproj/
            project.pbxproj

Rom    27 Apr 2006
    - Bug Fix: Create a BOINC Service shutdown custom action for the installer
        since the installer technology wants to wait until after it has found
        out which files are in use to shutdown the service.
        
    win_build/installerv2/redist/Windows/src/boinccas/
        CAShutdownBOINC.cpp, .h (Added)
    win_build/installerv2/redist/Windows/x86/
        boinccas95.dll
        boinccas.dll

Charlie 28 Apr 2006
    - Mac: Fix bug of 17 April creating BOINC Data directory.
    - Change shell script which sets up Mac to run BOINC Client as a
        daemon / service to launch BOINC only if BOINC Data directory
        exists.
    - Flush output of SetVersion and add Run Script phases to XCode project to 
        insure that updated info.plist file with correct version number is put 
        into the BOINC Manager, ScreenSaver, SystemMenu and PostInstall bundles.
        
    clientgui/
        BOINCGUIApp.cpp
        Mac/
            SetVersion.C
    mac_build/
        Make_BOINC_Service.sh
        boinc.xcodeproj/
            project.pbxproj

David  28 Apr 2006
    - create_work (both program and function):
		handle <command_line> element in WU template file
	- remove assert()

	client/
		cpu_sched.C
    html/inc/
        stats_sites.inc
    tools/
        backend_lib.C

David  28 Apr 2006
    - core client: if an input file has <generated_locally/> set,
        don't try to download it.
        This allows apps to use "initialization" files
        that are large and/or computationally expensive to generate.
        The app generates the file once,
        and it will be available (assuming <sticky/> is set)
        for subsequent workunits.

    client/
        app_start.C
        cs_apps.C
        cs_files.C

David  28 Apr 2006
    - back end: handle <generated_locally/> in WU file infos.
        There are for input files that are generated by the app.
        We don't need to generate MD5, list URLs, etc.
    - user web: enclose scheduler list in comments (from Roberto Virga)

    html/user/
        sample_index.php
    tools/
        backend_lib.C

Rom    28 Apr 2006 (by Frank S. Thomas)
    - Bug Fix: The shutdown procedure should be passing ANSI strings to
        the GUI RPC's instead of Unicode strings.
    - Bug Fix: Remove the --no-unicode flags from configure.ac when trying
        to determine which wxWidget libraries to use.
    
    /
        configure.ac
    clientgui/
        BOINCGUIApp.cpp

David  30 Apr 2006
    - API: add all_threads_cpu_time flag to BOINC_OPTIONS
        for applications that have more than one CPU-intensive thread.
        Measure the CPU time of whole process, not just worker thread.
    - Less insistent messages when client has worng URL for project

    api/
        boinc_api.C,h
    client/
        cs_scheduler.C
    lib/
        util.C,h

David  1 May 2006
    - Web RPC: return flag if user is founder of their team

    html/user/
        am_get_info.php

David  1 May 2006
	- API: win compile fix

	api/
		boinc_api.C

Rom    1 May 2006
    - Windows Runtime Debugger Update:
    
      New Features:
          1. Enumerates and dumps the backtraces for all threads within
             the process space.
          2. Monitors and records data sent to the debugger viewport via
             OutputDebugStringA and OutputDebugStringW
          3. Displays the thread id and process id within the output.
          4. Display the topmost window titles, class, processid, and
             thread id.
             
    api/
        boinc_api.C
        graphics_api.C
        windows_opengl.C
    clientgui/
        stdwx.h
    lib/
        boinc_win.h
        diagnostics.C, .h
        diagnostics_win.C (Added)
        stackwalker_imports.h (Added)
        stackwalker_win.cpp
    win_build/
        boinc_ss.vcproj
        boincmgr_curl.vcproj
        libboinc.vcproj

Charlie 1 May 2006
    - Mac: Fix bugs when linking with wxMac-2.6.3.
    
    clientgui/
        mac/
            MacSysMenu.cpp

Rom    1 May 2006
    - Add a commandline option to the screensaver to do a simple RPC
        so that we can trick the firewall packages into displaying
        a dialog asking for user approval before the real screensaver
        ever launches.
    - Fix the remaining issues with the Windows Runtime Debugger so
        that it can now trap DBGHELP.DLL and SYMSRV.DLL messages and
        log them as part of the crash.
    - Remove some extra verbose messages from stdout and stderr in
        the client library.
        
    client/win/
        win_screensaver.cpp
    clientlib/win/
        NetworkTracker.cpp
    lib/
        diagnostics.h
        diagnostics_win.C

Rom    2 May 2006
    - Have the BOINC Manager perform the screensaver test everytime
        is successfully makes a connection to the localhost core
        client.  It executes so fast it doesn't even show up in the
        process list and if the user ever switches firewall packages
        it'll at least prevent the machine from going into limbo
        when the screensaver is spposed to shutdown.
        
    clientgui/
        BOINCGUIApp.cpp, .h
        MainFrame.cpp

Rom    2 May 2006
    - Bug Fix: Calculate the page size after the OnChangedEvent is fired
        and then set the dialog size.  Should keep the wizard pages from
        clipping the text.
    - Bug Fix: Change the process execution code to use wxExecute since
        it is async.  If for some reason the old screensaver doesn't
        get replaced by setup, we don't want to block the main UI thread.
        
    clientgui/
        BOINCGUIApp.cpp
        wizardex.cpp

David  2 May 2006
	- feeder: change the way -allapps work, so that results
		from different apps alternate in shared memory.
		This ensures that when an RPC returns >1 result,
		they'll be for different apps.
		TODO: make the ratio configurable.
	- feeder: add -priority_order_create_time:
		enumerate results by increasing workunit create time
	- feeder: add -purge_stale X option: removes items that have been
		in shared memory more than X minutes.
	- scheduler: parse user project preference for elements
		of the form <app_id>N</app_id>.
		If any are found, only send the user work for those applications.

	TODO: document the above

	All the above from Kevin Reed of World Community Grid

	sched/
		feeder.C
		sched_send.C,h
		sched_shmem.h
		server_types.h
		show_shmem.C

David  2 May 2006
    - got the above checkin compiling on linux
    - server: removed all_apps arg to DB_WORK_ITEM::enumerate()
    - removed some unused code in client

    client/
        client_state.C
        client_types.h
    db/
        boinc_db.C,h
    sched/
        feeder.C
        handle_request.C
        sched_send.C

Walt   2 May 2006
    - Display HTTP status message or code when its not 1xx or 2xx.
    - Add a few more HTTP status messges to boincerror().

    client/
        net_xfer_curl.C
    lib/
        util.C

Rom    3 May 2006
    - Bug Fix: To keep the Mac from clipping text in the wizard
        increase the default width of a wizard page.  The width
        of each character is wider with the Mac fonts.
        
    clientgui/
        wizardex.cpp

David  3 May 2006
    - user web: add "previous 20" link to result list page
        (from Rytis Slatkevicius)
    - code formatting, comments

    api/
        x_opengl.C
    html/
        user/
            results.php
        inc/
            result.inc
    sched/
        feeder.C

Rom    4 May 2006
    - Bug Fix: Increase the WaitHint from 10 seconds to 30 seconds so
        the service mode install isn't so jumpy when it takes awhile
        to shutdown.
        
    client/win/
        win_service.cpp

Charlie 5 May 2006
    - Mac: Clean up build scripts for jpeg and curl.
    
    mac_build/
        buildcurl.sh
        buildjpeg.sh

David  5 May 2006
    - web user: fix typo
        (from David Braun)

    html/user/
        get_project_config.php

David  5 May 2006
    - GUI RPC sockets need to be close-on-exec
        (otherwise applications inherit them)
    - compile fix: change longs to ints

    client/
        gui_rpc_server.C
        net_xfer_curl.h

Rom    8 May 2006
    - Windows Runtime Debugger Update:
    
        1. ERR_NESTED_UNHANDLED_EXCEPTIONS no longer exist.
        2. Stack overflow conditions no longer cause the exception
             handling code to blow up.
             
        When a thread has an unhandled exception it stores the
          exception pointer record in the thread list, signals the
          unhandled exception monitor and then goes to sleep waiting
          on a mutex that it will never be and to aquire.
          
        If any other threads throw an unhandled exception they'll
          store their exception records and go to sleep.
          
        The unhandled exception monitor wakes up when signaled and
          suspends all the non-excempt threads and proceeds to dump
          all the information it has aquired on them to stderr.
          
    api/
        boinc_api.C
        windows_opengl.C
    lib/
        diagnostics.C, .h
        diagnostics_win.C, .h
        error_numbers.h
        stackwalker_win.cpp
        util.C

Charlie 8 May 2006
    - Mac: Add callback glutPassiveMotionFunc(mouse_move) to dismiss 
        screensaver on mouse move when no mouse button is pressed.
        
    api/
        x_opengl.C

Walt  8 May 2006
    - Bug fix:  DNS lookup when network was unavailable consumed all
         available CPU.  Fix limits times thru loop and adds a short
         sleep before breaking out of it.
        
    client/
        client_state.C

David  9 May 2006
    - Remove the constant MASTER_URL from html/project/project.inc.
        Instead, use the <master_url> element from config.xml.
    - PHP translation code: check for existence of last_compile_timer
        before getting its mod time (avoid error msg)
    - small fixes so the web site created by make_project
        doesn't have broken links and images
    - updates to sample front page
    - make_project: copy a few additional files (e.g. graphics, en.po)

    html/
        inc/
            email.inc
            translation.inc
            util.inc
        languages/translations/
            en.po
        project.sample/
            project.inc
        user/
            intro.php (removed)
            sample_index.php
    py/Boinc/
        setup_project.py
    tools/
        make_project

David  9 May 2006
    - core client: remove account mgr "already attached" message

    client/
        acct_mgr.C

Rom    10 May 2006
    - IsDebuggerPresent first appeared in the Win98 timeframe, dynamically
        link to it if it is there, otherwise assume that the debugger is not
        present.
        
    lib/
        diagnostics_win.C

Rom    10 May 2006
    - Make the capturing of debugger messages configurable via the registry.
        Some software that plays music and DVDs is a little to chatty and
        when we are capturing debugger output it causes the playback software
        to freak out and become unplayable.
        
    lib/
        diagnostics_win.C

Eric K	11 May 2006
    - (pthreads) Put a mutex around the cpu time calculation in
      boinc_worker_thread_cpu_time().  If called from multiple
      threads, this would occasionally report the wrong CPU time,
      which could cause applications to abort.
    - (unix) Added check of return value from getrusage() and retry on
      failure.
    - (WIN32) Added check of return value from timeSetEvent() and retry
      on failure.
    - (WIN32) Added timeKillEvent() calls to the boinc_exit() function
      ensure that timers are freed properly.
    - Added function boinc_timer_thread_active() function that apps can
      call to see if the timer thread was properly created.
    - Added function boinc_worker_timer() that application worker threads
      can call in their main loop.  This function will communicate with the
      core client if the timer thread was not created.
    - Added a dummy call to alloca() in LoadJPG to prevent failure of 
      setjmp/longjmp in the case that the frame pointer is optimized away.
      This should be done on all functions where setjmp is called because
      on some platforms longjmp will segfault if the frame pointer doesn't
      exist.  Some compilers aren't smart enough to know this.
    - (WIN32) Added code to the windows exception handler to allow it pass 
      exceptions to the standard C signal handlers in the case where the 
      signal handlers have been overridden.

    api/
        boinc_api.C
        boinc_api.h
        gutil.C
    lib/
        diagnostics_win.C

Rom    10 May 2006
    - Make the BOINC sample uppercase build again.
    
    api/
        gutil.C
    lib/
        boinc_win.h
        diagnostics_win.C

David  15 May 2006
    - make_project: copy example templates to templates/
    - removed lib/language* (not used)

    client/
        client_state.C,h
        file_names.h
    html/inc/
        news.inc
        stats_sites.inc
    lib/
        language.C,h (removed)
        Makefile.am
    py/Boinc/
        setup_project.py
    test/
        uc_result
    tools/
        create_work_example

Eric K	15 May 2006
    - Added check check for alloca.h and memory.h to configure.ac
    - Added check for alloca and _alloca to configure.ac
    - Structural change to boinc_worker_timer() to get rid of essentially
      empty if clause.
    - (WIN32) set_worker_timer() now checks that interrupt_count is incrementing
      before assuming success.
    - Added MINGW32 fix for missing alloca() define to gutil.C
    - Added MINGW32/Dev-C++ fix for missing fpreset() prototypes to boinc_win.h

    configure.ac
    api/
        boinc_api.C
        gutil.C
    lib/
        boinc_win.h
       
Rom    15 May 2006
    - Switch the setTimerEvent to using a thread.  setTimerEvent has to many
        restrictions on it which may cause deadlocks if violated.
        
    api/
        boinc_api.C

Charlie 16 May 2006
    - Mac: Fix a bug if name of default browser contains spaces.
        Remove obsolete files language.C,h from XCode project
    
    clientgui/
        hyperlink.cpp
    mac_build/
        Make_BOINC_Service.sh
        boinc.xcodeproj/
            project.pbxproj

Rom    15 May 2006
    - Bug Fix: Change the account not found window title to login failed.
    - Bug Fix: If a login call fails for an account manager turn off using
        cached credentials for the next login request.
    - Add a field to the host info structure called accelerators.  Right now
        it just contains the name of the video card(s) in the computer on
        Windows.  In the future it could also contain information such as
        if CrealSpeed, PCI-X math accelerator, is installed on the system.
    - Remove what is now dead code in the manager.
    
    client/win/
        hostinfo_win.cpp
    clientgui/
        AccountManagerProcessingPage.cpp
        AccountManagerPropertiesPage.cpp, .h
        NotFoundPage.cpp
        ProjectPropertiesPage.cpp, .h
    lib/
        hostinfo.C, .h

Rom    15 May 2006
    - Remove the old BOINC GUI app from the source tree.
    - Remove the old BOINC client lib from the source tree.
    
    client/
        file_names.C
        main.C
    cient/win/
        StdAfx.cpp, .h (Removed)
        boinc_dll.h (Removed)
        boinc_dll.rc (Removed)
        boinc_gui.h (Removed)
        boinc_gui.rc (Removed)
        win_idle_tracker.cpp, .h (Removed)
        win_idle_tracker.def (Removed)
        win_screensaver.cpp
        win_util.cpp, .h (Removed)
        wingui.cpp, .h (Removed)
        wingui_dialog.cpp, .h (Removed)
        wingui_listctrl.cpp, .h (Removed)
        wingui_mainwindow.cpp, .h (Removed)
        wingui_piectrl.cpp, .h (Removed)
        wingui_proxydlg.cpp, .h (Removed)
        wingui_sswindow.cpp, .h (Removed)
    lib/
        util.h
    win_build/
        boinc_gui.vcproj (Removed)

Rom    15 May 2006
    - Another two files that can be deleted.
    
    lib/
        exception.C, .h (Removed)

Rom    15 May 2006
    - Remove some more code that isn't currently used, if we need it
        it is still in the 5.2 and 5.4 branches.
        
    client/win/
        cpuid_tbl.cpp, .h (Removed)
        optBench.hpp (Removed)
        opt_x86.h (Removed)
        opt_x86cpu.cpp (Removed)
        optimize.hpp (Removed)

David  16 May 2006
	- remove references to exception.C,h
	- save stat data for 30 days, not 30 records

	client/
		app_graphics.C
		scheduler_op.C
		win/
			win_screensaver.cpp
	win_build/
		boinc_ss.vcproj
		libboinc.vcproj

Rom    16 May 2006
    - Manually perform memory leak detection since we now terminate the
        process before the memory leak detection stuff kicks in.
    - Cleanup used diagnostic resources when boinc_exit() is called.

    api/
        boinc_api.C
    lib/
        boinc_win.h
        diagnostics.C, .h
        diagnostics_win.C

Charlie 16 May 2006
    - Mac: Update XCode project, build instructions and build scripts 
        to use wxMac-2.6.3 instead of 2.6.2.
        Remove obsolete files exception.C,.h from XCode project.
    - Compile fix: don't #include <malloc.h> in stdwx.h if Mac.
    
    clientgui/
        stdwx.h
    mac_build/
        HowToBuildBOINC_XCode.rtf
        buildWxMac.sh
        setupForBOINC.sh
        boinc.xcodeproj/
            project.pbxproj

Rom    16 May 2006
    - Add a field to host info which contains CPU feature information.
    
    client/win/
        hostinfo_win.cpp
    lib/
        diagnostics_win.C
        hostinfo.C, .h

Rom    16 May 2006
    - Core client needs to still support Win95, so make the processor
        feature detection code work on Win95.
        
    client/win/
        hostinfo_win.cpp

Rom    16 May 2006
    - Bug Fix: When an application is running in standalone mode the missing
        init file should not cause the diagnostics_init() routine to return
        an error.
    - Bug Fix: Prevent the exception handling thread from stalling when the
        foreground window happens to be from its own process space.  If you
        were single stepping inside of a debugger then the process acted as
        though it was deadlocked since the debugger had suspended the other
        threads.
    - Bug Fix: Initialize the diagnostics library even thuogh an alternate
        entrypoint might have been used.
        
    api/
        graphics_api.C
    lib/
        diagnostics.C
        diagnostics_win.C

Rom    19 May 2006
    - Add a check for the FPU and add it to the capabilities list for a
        host.
    - Bug Fix: Change CreateThread calls to _beginthreadex calls in
        diagnostics_win.C to avoid having the CRT terminating a thread
        when it attempt to use fprintf or any other CRT function when
        memory is running really tight.
        
    client/win/
        hostinfo_win.cpp
    lib/
        diagnostics.h
        diagnostics_win.C

Rom    19 May 2006
    - Add the CPU flags for various flavors of *nix
    
    client/
        hostinfo_unix.C

David  21 May 2006
    - core client: change name of configuration file
        old name: log_flags.xml
        new name: cc_config.xml
            format:
                <cc_config>
                    <log_flags>
                        ...
                    </log_flags>
                    [ <save_stats_days>N</save_stats_days> ]
                </cc_config>
    - core client: limit on how many days of statistics to save
        is now configurable (see above)
    - user web: add "CPU usage limit" preference
        (soon to be implemented in client)
    - add wrapper program for existing binaries (not finished)

    apps/
        wrapper.C
        Makefile.am
    client/
        file_names.h
        log_flags.C,h
        main.C
        scheduler_op.C
    html/inc/
        prefs.inc
        stats_sites.inc

David 21 May 2006
	- core client: implement "CPU usage limit" preference
	- core client: print CPU scheduling messages only if
		"tasks" log flag is set
	- core client: mechanisms for suspending activities
		(idle, time-of-day, explicit control)
		affect only CPU, not network usage
	- Manager: fix garbled message about needing network connection

	client/
		app_control.C
		app_start.C
		client_state.C,h
		cs_apps.C
		cs_prefs.C
		log_flags.C
		main.C
	clientgui/
		BOINCDialupManager.cpp
	lib/
		prefs.C,h

Rom    21 May 2006
    - Translate the process and thread priorities into text.
    
    lib/
        diagnostics_win.C

David  21 May 2006
    - core client: move "dont_check_file_sizes" tag out of log flags
        section of config file

    client/
        cs_files.C
        log_flags.C,h

David  22 May 2006
    Support for Microsoft "symstore" mechanism,
    for getting symbols from a remote server:

    - core client: add "symstore" element to PROJECT.
        Parse this from scheduler reply file;
        store in client state file.
        Add to app info file that's passed to applications.
    - API: parse symstore from app init file
    - server: parse symstore URL from config file;
        include in scheduler reply

    client/
        app_start.C
        client_types.C,h
        scheduler_op.C
    lib/
        app_ipc.C,h
        hostinfo.h
    sched/
        sched_config.C,h
        server_types.C

Rom    22 May 2006
    - Add some additional logging to the unhandled exception filter
        initialization routine.
    - If the unhandled exception filter monitor hasn't been created
        for some reason don't even attempt to signal the thread to
        do anything just terminate the process with the exception
        code.  If more than one thread crashes at a time let the OS
        decide who wins the critical section.
        
    lib/
        diagnostics_win.C

David  22 May 2006
	- core client: fix logic error involving the
		"5 minutes of network after GUI RPC" thing.

	client/
		client_state.C

Bruce 23 May 2006
    - Make backend more robust, to prevent 'stuck' workunits. Now
      transitioner will not sent the transition_time to INT_MAX
      UNLESS a canonical result has been found.  Otherwise it is
      set to MAX(ten days, 1.5*delay_bound) in the future.  This
      ensures that the transition will 'see' the workunit again
      if no canonical result has been found.

    sched/
        transitioner.C

David  22 May 2006
    - Client: handle "<next_rpc_delay>" element in scheduler reply.
        This tells the client to do another scheduler RPC after X seconds.

    apps/
        wrapper.C
    client/
        client_types.C,h
        cs_scheduler.C
        scheduler_op.C,h

Rom    22 May 2006 (From Sebastian Masch)
    - Bug Fix: Keep the CPU capabilities string from growing without
        bound by initializing the string each time
        get_processor_capabilities() is called.
        
    client/win/
        hostinfo_win.cpp

Rom    23 May 2006
    - Dump process statistics and the time of a crash.
    - Add some more error logging to the diagnostics startup routines.
    
    lib/
        diagnostics_win.C

Bruce 24 May 2006
    - Adding a bit of logging to the scheduler to try and track down a
      bug that might have been introduced ~ March 11, which is marking
      some 'in progress' results as 'client error' and triggering
      the transitioner.
    - Have scheduler ignore some additional unrecognized tags in sched
      requests: cache_l[123] and cpu_caps.  These appear not to be
      anywhere in the source code tree or documented anywhere!!

    sched/
        handle_request.C
        server_types.C

Rom    24 May 2006
    - Provide a way for an application to specify its symstore even when
        the core client doesn't yet support symstores.
        
    lib/
        diagnostics.C, .h

David  24 May 2006
    - Implement a new XML parsing mechanism, consisting of functions
        get_tag(), get_int(), get_double(), and get_bool().
        These will correctly (and efficiently) parse
            <foo>X</foo>
        and
            <foo>
                X
            </foo>
        and
            <foo>

            X

            </foo>
        etc.
        It will parse
            <foo/>
        and
            <foo></foo>
        and
            <foo>

            </foo>
        identically.
        The python-generated XML (e.g. config.xml) is of the form
            <foo>
            X
            </foo>
        Currently the new code is used to parse config.xml.
        Eventually all XML parsing should be done this way.
    - User web: initialize cpu_usage_limit in prefs

    html/inc/
        prefs.inc
    lib/
        parse.C,h
    sched/
        sched_config.C,h

Rom    24 May 2006
    - Remove references to the MM Timer stuff.  A real thread is now used
        in its place.
    
    api/
        boinc_api.C

Rom    25 May 2006
    - Trap delay load exceptions and dump meaningful messages when a delay
        load dll fails to load.
        
      NOTE: At a minimum projects should flag GDI32.DLL, OPENGL32.DLL, and
        GLU32.DLL as delay load dlls.  If all goes well we'll see more
        meaningful messages when one of the system graphics dll's fail to
        load for whatever reason.  For those who are building their
        applications with Visual Studio you can detect the DLL load
        failure and just disable graphics for that instance of the
        application.
        
        0xC0000135 = STATUS_DLL_NOT_FOUND
        0xC0000139 = STATUS_ENTRYPOINT_NOT_FOUND
        0xC0000142 = STATUS_DLL_INIT_FAILED
        0xC0000143 = STATUS_MISSING_SYSTEMFILE
        
    lib/
        diagnostics_win.C, .h

David  25 May 2006
    - scheduler: add "next_rpc_delay" item to config file.
        This lets a project tell clients to reconnect after some interval.
        It's intended to support projects with tight delay bounds
        (e.g. a few minutes) and therefore need to control the rate
        of client requests.
        Currently the delay interval is specified in the config file.
        This is for testing.
        Ultimately we'll need a dynamic mechanism.
    - default cpu_usage_limit is 100, not 1

    lib/
        prefs.C
    sched/
        sched_config.C,h
        server_types.C

David  25 May 2006
    - core client: add optional <result_abort> and <result_abort_if_unstarted>
        elements to scheduler reply.
        Each is a list of result names.
        In the first case the results are aborted.
        In the second case the results are aborted if they
        haven't started computing yet.
        NOTE: the scheduler doesn't currently use these.
        But they're there in case we want them.
    - added RESULT_ABORTED status code and ERR_ABORTED_BY_PROJECT error number.
        This eliminates the kludge in which aborted results
        were classified as RESULT_COMPUTE_ERROR
    - core client: remove aborted_via_gui field from RESULT.
        Aborts are now always handled immediately,
        and recorded in the "state" and "exit_status" fields of RESULT.
    - Manager: changes to reflect the above

    client/
        app_start.C
        client_types.C,h
        cpu_sched.C
        cs_scheduler.C
        gui_rpc_server_ops.C
        scheduler_op.C,h
    clientgui/
        ViewWork.cpp
    html/inc/
        result.inc
    lib/
        error_numbers.h
        gui_rpc_client.h
        gui_rpc_client_ops.C
        result_state.h
        util.C

David  25 May 2006
	- compile fixes

	lib/
		gui_rpc_client.h
		gui_rpc_client_print.C

David  25 May 2006
	- fixes for result abort logic

	client/
		cs_apps.C
	clientgui/
		ViewWork.cpp

David  25 May 2006
    - scheduler: if client reports a result, and it currently has
        state = OVER and outcome != NO_REPLY,
        then don't change its state or process it further.
        (from Bruce Allen)

    sched/
        handle_request.C

David  26 May 2006
    - bug fix in new XML parser - wasn't stripping whitespace
        from single-line elements
    - scheduler: parse all elements, even unused ones

    lib/
        parse.C
    sched/
        sched_config.C

David  27 May 2006
    - Add "invitation code" mechanism for restricting account creation.
        See http://boinc.berkeley.edu/account_control.php
        From Eric Myers.
    - Remove "client_account_creation_disabled" config flag
        (it was temporary during transition to version 5 software)

    html/
        languages/translations/
            en.po
        user/
            create_account.php
            create_account_action.php
            create_account_form.php
            get_project_config.php

David  28 May 2006
    - Add account manager URL to APP_INIT_DATA structure
        (so that apps can see what acct mgr is being used, if they want)

    client/
        app_start.C
    lib/
        app_ipc.C,h

David  29 May 2006
    - Windows version of wrapper

    apps/
        wrapper.C

Rom    29 May 2006
    - Bug Fix: MinGW doesn't define RVA so define it.
    - Bug Fix: When building under something other than a Microsoft compiler
        comment out some of the thread naming code so that other compilers
        can be happy.  At some point we should revisit this as a project
        who builds with MinGW may need somebody to debug their application
        with the Debugging Tools for Windows which does understand the
        thread naming convention.
        
    lib/
        diagnostics_win.C, .h

Rom    29 May 2006
    - Bug Fix: Implemented the thread naming code for compilers that do not
        understand SEH exceptions.
        
    lib/
        diagnostics_win.C    

David  30 May 2006
    - Transitioner: check return value of process_result_template()
        (e.g. if upload certificate generation fails)
    - move wrapper.C to boinc_samples

    apps/
        Makefile.am
        wrapper.C (removed)
    tools/
        backend_lib.C

Rom    29 May 2006
    - Bug Fix: Wait until the exception monitor has finished initializing
        before finishing boinc_diagnostics_init() in case the very next thing
        the program does is throw an exception.
        
    lib/
        diagnostics_win.C    

David  31 May 2006
    - database code: the following functions
        DB_VALIDATOR_ITEM_SET::enumerate()
        DB_WORK_ITEM::enumerate()
        were using a left join on (workunit, result) or (result, workunit),
        then parsing the result in a way that would crash
        if only one item was present
        (e.g. if there's a WU without corresponding result, or vice-versa).

        Solution: replaced "left join" with a "natural join", i.e.
        select ... from workunit, result where ...

    db/
        boinc_db.C
    sched/
        sched_config.C

Bruce 31 May 2006

    - scheduler: do a better job of accepting results from host machines
      which may modify an EXISTING & OVER result in the database.

    - file_upload_handler: check for 'stop_upload' trigger file in the
      project root directory.  If so, return ERR_TRANSIENT to hosts which
      attempt uploads.  This is the equivalent of 'stop_sched' for the
      scheduler.  (Eric, you may want to check that this is FCGI compatible).

    db/
        boinc_db.C

    sched/
        handle_request.C
        file_upload_handler.C
        sched_config.C
 
David  31 May 2006
    - Server: new scheme for directory permissions.
        The scheme assumes that the 'apache' user belongs
        to the primary group of the project creator (say, 'boinc').
        The components are:
        1) make_project sets the permissions of various directories
            (upload, profiles, etc.)  to 02770 (set GID).
            This means that when apache creates a file or directory
            within that directory,
            it will be owned by group 'boinc'.
        2) The code that creates files and directories uses 0770 permissions,
            so by default nothing is world-accessible.

        This fixes a bug where directories and files created by apache
        (i.e. by the scheduler or file upload handler)
        are inaccessible to the project creator.
        (So that, e.g., the file deleter can't delete files)

        There are other schemes for handling this problem; see
        http://boinc.berkeley.edu/groups.php
        but this one is the best, IMHO.
    - scheduler: if store req/reply messages in files,
        put them in /tmp, not in cgi-bin/
    - document 'stop_upload'

    doc/
        groups.php (new)
        tool_start.php
    lib/
        filesys.C
    py/Boinc/
        setup_project.py
    sched/
        main.C
        sched_util.C
        

David  31 May 2006
    - Add new GUI RPC <get_cc_status>: returns
        1) network status (same as <network_status> RPC)
        2) flag saying whether a timer-driven account managaer RPC
            has returned a bad-password error
            (so Manager can notify user)
        ... any future status items will be added here
    - got rid of commented-out <lookup_website> RPC

    client/
        acct_mgr.C,h
        gui_rpc_server_ops.C
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

Rom    1 June 2006
    - Bug Fix: boinc_finish() can be called from any thread, so do not
        close the handle to one of the potiential calling threads from it.
        
      NOTE: I haven't found any documentation that states what the expected
        behavior is for closing the handle to the actively running thread
        but I don't expect it to be good.
        
    api/
        boinc_api.C

Bruce 1 June 2006
    - scheduler: clearer messages to use if refusing to accept a result.
    - DB purger: make sleep interval a command line option (current 600
                 secs is still the default value).

    sched/
        db_purge.C
        handle_request.C

David  1 June 2006
    - Changes to account manager protocol,
        to allow account managers to directly manipulate global preferences:
        1) request message now includes <global_preferences> element,
            with current global preferences,
            and their source and mod time
        2) request message no longer includes <prefs_mod_time>
            and <prefs_source_project>;
            these items are in the new <global_preferences> element.
        3) reply message now includes optional <global_preferences> element.
            This should be sent only if prefs are newer
            than those in the request message.
        4) reply message now includes optional <host_venue> element.
            This determines what preferences set is used.

    client/
        acct_mgr.C,h
        client_state.h
        cs_prefs.C
        cs_scheduler.C

David  1 June 2006
    - wherever xml_escape() is used, make sure the output buffer
        is at least 6X the size of the input,
        since the largest expansion is X -> &#NNN;

        This is a kludge.
        We should switch to #defined buffer-size params,
        instead of having 256 and 2048 everywhere.
        Or we should use std::string everywhere.
        (but I don't think we can do this, because I've seen
        repeated performance problems and outright bugs with std::string).


    client/
        client_types.C
    db/
        boinc_db.C
    lib/
        app_ipc.C
        parse.C
        proxy_info.C
    sched/
        db_dump.C
        db_purge.C

David  1 June 2006
    - don't ignore global prefs override file when handling
        new prefs from a project (from Ian Hay)

    client/
        acct_mgr.C
        client_state.C,h
        cs_prefs.C

Charlie 1 June 2006
    - Mac: Fix "About BOINC" menu item in Dock when linking with wxMac-2.6.3.

    clientgui/
        BOINCTaskBar.cpp

David  2 June 2006
    - Code cleanup and logic fixes in general prefs code

    client/
        acct_mgr.C
        client_state.h
        cs_apps.C
        cs_prefs.C
        cs_scheduler.C

Bruce 3 June 2006
    - Transitioner: nasty bug in logging, wrong result id/name
    - Scheduler: clearer logging for debugging purposes
    - Scheduler: refuse to upload results if DB item is
      (1) over and (2) validate state init and (3) NOT file_delete==INIT.
    - Unix package: since BOINC manager now starts client, change message
      to user after install.

      (David, please bless addition of file_delete_state to SCHED_RESULT_ITEM.)

    db/
        boinc_db.C
        boinc_db.h
    sched/
        handle_request.C
        transitioner.C

Bruce 4 June 2006
    - HTML ops page: properly display queries containing '<' and '>'.
    - HTML ops page: close <head> tag in page head.

    html/
        ops/
            db_action.php
        inc/
            util_ops.php

David  4 June 2006
    - add "switcher" program (part of new sandbox scheme)

    client/
        Makefile.am
        app.C
        switcher.C (new)


Charlie 6 June 2006
    - Mac: New helper command-line application SetUpSecurity creates boinc_master 
        and boinc_project users and groups if needed.  When complete, this 
        application will also set users, groups and permissions of Manager, Client, 
        etc. to aid debugging during build / debug cycles.

    clientgui/
        mac/
            SetupSecurity.cpp (new)
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

David  6 June 2006
    - scheduler: if we think a host has detached
        (because of zero host ID but existing CPID)
        marks its in-progress results as NO_REPLY, not CLIENT_ERROR
    - scheduler: remove special handling for reported results
        that are OVER/CLIENT_ERROR
        (with above change, this shouldn't happen)
    - scheduler: if we can't attach to shared memory,
        return "Project encountered internal error" to client,
        not misleading "Project is temporarily shut down for maintenance"
    - shmem-related functions: call perror() on error
    - make_project: <show_results>, not <show_result>
    - my email address was hardwired in watchdog.php - ouch!

    db/
        boinc_db.h
    html/ops/
        watchdog.php
    lib/
        shmem.C
    py/Boinc/
        setup_project.py
    sched/
        handle_request.C
        main.C

David  6 June 2006
    - boinc_mkdir(): temporarily zero umask so that
        directories will always be group RW
        (from Dr. M.F. Somers)
    - Back end: add optional <dont_delete_batches> flag to config.xml.
        If set, the file deleter won't delete files for workunits
        or results with positive batch.
        Use this to preserve files until you're done looking at them
        (then do a SQL query that zeros or negates the batch
        numbers for that particular batch).
        See http://boinc.berkeley.edu/configuration.php

    client/
        client_state.C,h
        client_types.C
    lib/
        filesys.C
    sched/
        file_deleter.C
        sched_config.C,h

David  6 June 2006
    - Scheduler/file upload handler: added optional config.xml items
        <sched_debug_level> and <fuh_debug_level>
        for specifying log verbosity level for
        scheduler and file upload handler respectively
        (from Dr. M.F. Somers)

    sched/
        file_upload_handler.C
        main.C
        sched_config.C,h

Charlie 6 June 2006
    - Mac: Separate out main() from SetUpSecurity so it can be called either 
        standalone from XCode as well as from Installer, Manager or Core Client.
        CreateBOINCUsersAndGroups() sets default shell of users boinc_master 
        and boinc_project to /sbin/nologin to prevent a security hole by not 
        allowing these users to log in.  Make CreateBOINCUsersAndGroups() more 
        robust by retrying each step up to 5 times.
        Add code to call CreateBOINCUsersAndGroups() from installer.

    clientgui/
        mac/
            SecurityUtility.cpp (new)
            SetupSecurity.h (new)
            SetupSecurity.cpp
    mac_build/
        boinc.xcodeproj/
            project.pbxproj
    mac_installer/
        postinstall.cpp

Rom    7 June 2006
    - Finish implementing the BOINCINFO macro which will display trace type
        statements even in release builds when BOINC_INFOMSGS is defined as
        a preprocessor define.
    - Tag each of the control messages and graphics messages with the
        BOINCINFO macro so we can see what was going on when an application
        executes.
        
    api/
        boinc_api.C
        windows_opengl.C
    client/
        app_graphics.C
    lib/
        boinc_win.h
        diagnostics.C
        diagnostics_win.C

Charlie 7 June 2006
    - Mac: SetUpSecurity sets owner=boinc_master, group=boinc_master and 
        permissions of BOINC Manager bundle and its contents.  
        When run standalone (from XCode), it assists the development / debug 
        cycle by making everything group writable and adds logged in user 
        to group boinc_master.  When run from Installer, Manager or Client, 
        makes everything non-writable by owner, group and other for security.

    clientgui/
        mac/
            SecurityUtility.cpp
            SetupSecurity.h
            SetupSecurity.cpp
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

David  7 June 2006
    - make_work: allow multiple -wu_name arguments.
        Make_work will create copies of these WUs, cyclically

    sched/
        feeder.C
        make_work.C

Charlie 8 June 2006
    - Mac: SetUpSecurity sets owner, group and permissions of BOINC Data 
        directory.  Put short delays after each step to make it more robust.
    clientgui/
        mac/
            SecurityUtility.cpp
            SetupSecurity.h
            SetupSecurity.cpp

Rom    8 June 2006
    - Bug Fix: When the debugger fails to initialize do not attempt to use
        the other debugger functions.
    - Bug Fix: Display which functions are not found in dbghelp.dll when one
        or more are missing.
        
    lib/
        diagnostics_win.C
        stackwalker_win.cpp

David  8 June 2006
    - Add WU items (rsc_fpops_est, rsc_fpops_bound, rsc_memory_bound,
        rsc_disk_bound) to APP_INIT_DATA structure,
        so app can knows its own limitations
    - Added boinc_get_init_data_p(APP_INIT_DATA*),
        so that plain C apps can get this info

    api/
        boinc_api.C,h
    client/
        app_start.C
    html/inc/
        stats_sites.inc
    lib/
        app_ipc.C,h
        gui_rpc_client.h
    sched/
        sample_bitwise_validator.C

Rom    8 June 2006
    - Reduce the amount of duplicate error information when dbghelp.dll
        fails to be able to find references to symbolic information.
    - Bug Fix: Fix a sympath parsing issue that will freak out dbghelp.dll
        
    lib/
        stackwalker_win.cpp

Charlie 9 June 2006
    - Mac: Reorganize SetUpSecurity for better efficiency.  When run 
        standalone (from XCode), SetUpSecurity adds logged in user to 
        group boinc_project in addition to group boinc_master. Change 
        default shell of users boinc_master and boinc_project to 
        /usr/bin/false and set their home directory to /vars/empty; 
        these changes prevent these users from appearing in the Mac's 
        GUI login window.
    - Fix opening URLs in default browser with wxMac-2.6.3.
    - Fix compile error in macglutfix.m due to boinc_api.h declaration of 
        boinc_get_init_data_p().
    clientgui/
        mac/
            SetupSecurity.cpp
    api/
        boinc_api.h
    clientgui/
        hyperlink.cpp

Rom    9 June 2006
    - Bug Fix: After many many many weeks of hunting the 0xc000000d bug I
        finally hit it.  It appears that the timer thread was attempting
        to shutdown graphics while the graphics thread was still trying to
        render a frame.  The next call to an OpenGL function throws an
        exception.
        
        I had to use WinDBG because Visual Studio wouldn't attach to the
        process.
        
        Another interesting note, for some reason the Unhandled Exception
        Filter was triggered.  Maybe OpenGL installs its own filter?
        
        In anycase the solution is remove the graphics thread shutdown
        code.  It was only being used on Windows, and now that we are
        using TerminateProcess() all the threads will be halted and
        resources cleaned up which should include OpenGL.
        
    api/
        boinc_api.C, .h
        windows_opengl.C

David  9 June 2006
    - Core client: Linux bug fix.  New code to get CPU capabilities
        was appending rather than replacing.
        No check for buffer length.
        Eventually overflowed and crashed client.

        Notes:
            - Never use strncpy().
            - Never have the same block of code repeated several times
                (the \n stuff).
            - Remember these notes
    - Create all shared mem segs with 0660 protection
        (affects both server and client)

    client/
        hostinfo_unix.C
    lib/
        shmem.C

Bruce 9 June 2006
    - Sched code: move function into sched_util; useful for project
      validation.
    - Minor E@H specific change

    sched/
        handle_request.C
        sched_util.[hC]
        sched_locality.C

David  9 June 2006
    - Extended checkin-before-last to work for MIPS and Alpha also.
        Eliminated separate versions of parse_cpuinfo() (see 2nd Note above).
        MIPS/Alpha people: please verify that it still works

    client/
        hostinfo_unix.C

David  9 June 2006
    - First pass on reforming the validator framework.
        OLD: the documents made the task of creating a custom validator
            seem impossibly daunting.
        NEW: Defined two frameworks.
            - A "simple framework" lets you create a custom validator
            by supplying three simple functions:
                1) parse a result
                2) compare two parsed results
                3) free a parsed results
            This is based on the "generic_check_set()" code that
            Karl Chen wrote for the sample bitwise validator;
            I simplified this, got rid of the function pointers,
            and moved it to a separate file (validate_util2.C,h)
            - An "advanced framework" requires you to supply
                check_set() and check_pair() functions.
                This sounds simple, but actually is not; see
                http://boinc.berkeley.edu/validate_logic.txt
            Note: the check_set() function defined by the simple framework
            doesn't do everything the above spec says it should;
            I'll get back to that later.
    - added lookup_group() and associated error codes (for sandbox)

    lib/
        error_numbers.h
        util.C,h
    sched/
        Makefile.am
        handle_request.C
        sample_bitwise_validator.C
        sample_trivial_validator.C
        validate_util.C,h
        validate_util2.C,h (new)
        validator_placeholder.C

Charlie 9 June 2006
    - Changes for sandbox:
        Renamed global variable boinc_project_gid to g_boinc_project_gid.
        Change shared memory segment group to g_boinc_project_gid.
        Set umask to 002 in both client and manager so files are writable 
            by both user and group.
        Allow access to gui_rpc_auth.cfg by group boinc_master so authorized 
            administrator can create or modify it.
        
    client/
        app_start.C
        client_state.C,h
        client_types.C
        gui_rpc_server.C
        main.C
    clientgui/
        BOINCGUIApp.cpp
    lib/
        shmem.C,h

David  9 June 2006
    - Make boinc_project_id a field of CLIENT_STATE
    - Fix compile failuer when SANDBOX is not defined
    - Fix logic error in create_shmem()

    client/
        app_start.C
        client_state.C,h
    lib/
        shmem.C

Bruce 10 June 2006
    - When calling project-provided validator functions, populate the
      WU.rsc_fpops_est field. This can be useful in
      determining how much credit to assign, and preventing cheating.

    - file_deleter: if deleting antique files, follow links when
      finding the files.  This allows NFS mounting of the upload
      directory, pointed to by a symbolic link.

      DAVID: I was going to be a good guy and document this, but you
      forgot to check validate_simple.php and validate_advanced.php
      into CVS (:-).

      DAVID: your change to create_shmem() broke the sched build.
      Check my 'fix' to feeder.C to see if this is what you had
      intended.

      DAVID: config was not defined in validate_util.C ; I made
      it extern. Likewise for validate_util2.C.  Also messed up
      includes in latter file.

    sched/
        boinc_db.C
        feeder.C
        validate_util.C
        validate_util2.C
        file_deleter.C

David
    - tweaks

    sched/
        make_work.C
        validate_util.C,h
        validate_util2.C

Charlie 11 June 2006
    - Change g_boinc_project_gid to gstate.boinc_project_gid in 
      FILE_INFO::set_permissions().

    client/
       client_state.C

David  11 June 2006
    - more sandbox stuff, with #ifdef SANDBOX:
        - make projects/ and slots/ owned by boinc_projects
        - make link files owned by boinc_projects
    - add boinc_chown() function

    client/
        app_start.C
        file_names.C
    lib/
        app_ipc.C
        error_numberse.h
        filesys.C,h
        util.C

David  12 June 2006
    - Graphics API: change params of boinc_app_mouse_button()
        and boinc_app_mouse_move() from bool to int (for ANSI C compatibility)

    api/
        graphics_api.h
        static_graphics.C
        x_opengl.C

David  12 June 2006
    - User web: expand the list of message-board rules a bit
        (no ads, no trolling etc.)
        Link to a page that describes the moderation policy in more detail.
    - Add a page (not linked to anywhere) containing instructions for moderators.

    NOTE: the latter 2 pages are included as samples;
    you'll want to rename sample_X to X unless you need to customize it.

    html/
        inc/
            forum.inc
        user/
            sample_moderation.inc (new)
            sample_moderator_instructions.inc (new)

David  12 June 2006
    - API: get rid of boinc_timer_thread_active(), boinc_worker_timer():
        either we can create a timer thread, or the app doesn't run.

    api/
        boinc_api.C,h

David  12 June 2006
    - shuffle #ifdefs for ANSI C compile

    lib/
        filesys.h

Charlie 13 June 2006
    - more sandbox stuff, with #ifdef SANDBOX.
    - Mac: Add switcher to XCode project.
       Update SetUpSecurity to match latest protections spec.

    client/
        app_start.C
        client_types.C
        file_names.C
        gui_rpc_server.C
        main.C
    clientgui/
        BOINCGUIApp.cpp
        mac/
            SecurityUtility.cpp
            SetupSecurity.cpp,h
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

David  13 June 2006
    - core client: don't check app disk usage more often than
        every 5 min (used to be 5*disk interval)
    - scheduler XML parsing code: handle XML comments
        (you can now have comments in config.xml)

    client/
        app_control.C
    lib/
        parse.C
    sched/
        sched_config.C

David  13 June 2006
    - Web RPC: fix bug where am_set_info.php wasn't correctly
        removing user from team when teamid=0

    html/
        inc/
            team.inc
        user/
            am_set_info.php
            team_quit_action.php

Rom    14 June 2006
    - Bug Fix: Fix crashing condition with Unicode BOINC Manager.
        (From Frank S. Thomas)
    - Reduce duplicate code in diagnostics.C.
    - Change screensaver logging mechinisms.

    client/win/
        win_screensaver.cpp
    clientgui/
        MainFrame.cpp
    lib/
        diagnostics.C, .h

Rom    14 June 2006
    - Reduce duplicate code in diagnostics.C.
    - Display the detected CPU capabilities for those who want to
        manually use an optimized application via app_info.xml

    client/
        client_state.C
    lib/
        diagnostics.C, .h

Charlie 14 June 2006
    - more sandbox stuff, with #ifdef SANDBOX:
        Change projects, slots directories to boinc_master:boinc_master 0775.
        Mac: I Manager creates BOINC Data directory set its permissions to 0575.
        Manager checks ownership and permissions; if incorrect it alerts user 
          and quits.
    
    client/
        check_security.C (new)
        file_names.C
    clientgui/
        BOINCGUIApp.cpp
        mac/
            SetupSecurity.cpp,h
    lib/
        util.h
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

Rom    14 June 2006
    - Fix build break in diagnostics.C.

    lib/
        diagnostics.C

David  14 June 2006
    - core client: implement <copy_file/> property for output files
        (previously it was implemented for input files only).
        If present, move the file from slot directory
        to project directory when the result is done.

    client/
        app.h
        app_control.C
        app_start.C

Rom    14 June 2006
    - Bug Fix: Fix crashing condition with Unicode BOINC Manager.
        (From Frank S. Thomas)

    clientgui/
        ViewTransfers.cpp

