Rom    4 Jan 2006
    - Branding update for GridRepublic
    
    client/win/
        boinc_cli.rc
        boinc_cmd.rc
        boinc_ss.rc
    clientgui/
        AccountInfoPage.cpp, .h
        BOINCGUIApp.cpp, .h
        WizardAccountManager.cpp
        WizardAttachProject.cpp
        resource.h
    clientgui/res/
        gridrepublic.ico
        gridrepublic.xpm
        gridrepublicamwizard.xpm (Added)
    clientgui/res/
        gridrepublic.ico
        gridrepublicamwizard.bmp (Added)
    win_build/installerv2/
        GridRepublic.ism
    win_build/installerv2/redist/GridRepublic/
        GridRepublic.ico
        GridRepublic.url

Rom    4 Jan 2006 (HEAD)
    - Tag for 5.3.7 release, all platforms
      boinc_core_release_5_3_7

David  4 Jan 2006
    - replace safe_strncpy() with strlcpy() everywhere.
        Same semantics, but the former is less efficient.
    - simplified Bruce's recent fix to escape_string()
    
    checkin_notes_2005 (new - Woo Hoo!)
    api/
        boinc_api.C
    client/win/
        hostinfo_win.cpp
    db/
        db_base.C
    lib/
        app_ipc.C
        diagnostics.C
        filesys.C
        language.C
        parse.C
        util.C,h
    sched/
        handle_request.C
    tools/
        backend_lib.C

David  4 Jan 2006
    - scheduler: scan_work_array(): if add_result_to_reply() fails, do NOT
        reinsert the entry in the array by resetting the "present" flag.
        We previously cleared this flag,
        so the array entry may have been refilled by the feeder,
        and it might be in the CHECKED_OUT state.
        (from Paul Buck)

    sched/
        sched_array.C

Bruce 5 Jan 2006
    - Fixed David's mistake in simplifying my fix to escape_string()!
    db/
        db_base.C

David  4 Jan 2006
    - fixed inefficient unescape_string()

    db/
        db_base.C

Bruce 5 Jan 2006
    - Fixed new unescape_string(): didn't null terminate string.

    db/
        db_base.C

Bruce 6 Jan 2006
    - Nasty bug in API lib.  See checkin_nodes_2004 December 22. 
      Functions meant to be used from within C should never be
      declared bool!

      Fix: change boinc_is_standalone() to return int not bool.

      Note: some API functions still return bools, but since E@H
      doesn't use them and I am afraid of doing damage, I have
      left them alone.

    api/
        boinc_api.C
        boinc_api.h
        graphics_impl.h
        graphics_impl_lib.C

Rom    6 Jan 2006
    - Branding update for GridRepublic
    
    clientgui/
        AccountInfoPage.cpp
        AccountManagerProcessingPage.cpp
        AccountManagerPropertiesPage.cpp
        BOINCGUIApp.cpp, .h
        BOINCGUIApp.rc
        CompletionPage.cpp, .h
        MainFrame.cpp
        resource.h
    clientgui/res/
        gridrepublic2.ico (Added)
    win_build/installerv2/
        GridRepublic.ism
    win_build/installerv2/redist/GridRepublic/
        acct_mgr_url.xml
        GR_splash.bmp

Rom    6 Jan 2006 (HEAD)
    - Tag for 5.3.8 release, all platforms
      boinc_core_release_5_3_8

David  6 Jan 2006
    - fix unitialized var

    client/
        net_stats.C

David  6 Jan 2006
    - feeder: exit on database errors.
        This is a workaround for a problem where the
        feeder loses its DB connection after 10-20 hours of idleness.
        With this change, the feeder will exit, and will be restarted by cron.

    sched/
        feeder.C

David  6 Jan 2006
    - Tweak the account manager system to support "farm managers"
        that use GUI RPC to control clients.
        The farm manager needs the GUI RPC port and password of each client.
        Add an optional <send_gui_rpc_info/> element to the
        acct_mgr_url.xml file,
        which causes the GUI RPC port and password to be included
        in account manager RPC requests.
        (From James Drews)

    client/
        acct_mgr.C,h

David  6 Jan 2006
    - Change "bool" to "int" in the BOINC API.
        C and C++ compilers differ in their allocation for bool,
        making it difficult for C applications
        (which must be compiled with particular compilers)
        to use the BOINC API.
        No such problem for int.
        (from Bruce Allen)

    api/
        boinc_api.C,h

David  8 Jan 2006
    - Account manager additions (from Willy de Zutter)
        - Include <previous_host_cpid> in AM request.
            This is the host CPID sent in the previous AM request.
            It lets the AM track hosts even when their CPIDs change.
        - Include <domain_name> in AM request
        - AM replies can include <message> elements.
            The contents are printed in the Messages tab.
        - Print message that AM request has succeeded (or failed)

    client/
        acct_mgr.C,h
    lib/
        hostinfo.C

David  9 Jan 2006
    - user web: show bbcode correctly for UOTD

    html/user/
        sample_index.php

Bruce 9 Jan 2006
    - fix bug on page that shows profile for a given user.  The total
      number of posts made by a given user is not shown correctly.

      The PHP code assumes that this number is given by user.posts.  However
      in html/inc/db_forum.inc, the value of user.posts is NOT
      incremented each time a user makes a new post (either starting
      a new thread or replying to an existing one).  For the moment, my
      the fix is to simply scan the database and count the number of posts by the
      user, to give the right value on the profile page.

      An alternative fix (which would be less DB intensive, overall)
      is to (1) fix db_forum.inc so that it properly increments user.posts and
      then (2) add an update_db.php script entry that correctly sets user.posts
      by counting the number of posts for each user.

    html/
        inc/
            user.inc

Rom    9 Jan 2006 (HEAD)
    - Initial CPDN/BBC branded client
    
    client/win/
        boinc_cli.rc
        boinc_cmd.rc
        boinc_dll.rc
        boinc_ss.rc
    clientgui/
        AccountInfoPage.cpp
        BOINCBaseView.cpp, .h
        BOINCGUIApp.cpp
        BOINCGUIApp.rc
        DlgAbout.cpp, .h
        MainFrame.cpp
        ViewMessages.cpp
        ViewProjects.cpp
        ViewResources.cpp
        ViewStatistics.cpp
        ViewTransfers.cpp
        ViewWork.cpp, .h
    win_build/
        cpdnbbc.sln (added)
        cpdnbbc_boinc_cli_curl.vcproj (added)
        cpdnbbc_boinc_dll.vcproj (added)
        cpdnbbc_boinc_ss.vcproj (added)
        cpdnbbc_boinccmd.vcproj (added)
        cpdnbbc_boincmgr_curl.vcproj (added)
    win_build/installerv2/
        CPDNBBC.ism (added)
    win_build/installerv2/redist/CPDNBBC/
        Climate Change Experiment.url (added)
        project_init.xml

Rom    9 Jan 2006 (HEAD)
    - Tag for 5.3.9 release, all platforms
      boinc_core_release_5_3_9

Bruce  9 Jan 2006
    - Fixes to BOINC zip library from Carl Christensen. Carl says:
      "I found a problem with boinc_zip; it seems some Linux STL's
      aren't very nice about classes that are inherited from their
      objects on multiple use; or huge file lists that we use on CPDN.
      So I rewrite it to just use "straight" std::string's in a vector.
      It's fully backwardly compatible and seems to work fine."

    zip/
        boinc_zip.h
        boinc_zip.cpp

David  9 Jan 2006
    - changed upper_case so that the -cpu_time option
        takes an arg: the # of CPU seconds to use.

    apps/
        upper_case.C

Charlie 10 Jan 2006
    -Mac: Fix minor bugs in internal scripts in XCode 2.2 project.  Changes to 
    BOINC Manager to accomodate Rom's changes for branding.
      
    clientgui/
        BOINCGUIApp.cpp
        mac/
            MacSysMenu.cpp, .h
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

David  10 Jan 2006
    - core client: fix vector erase code in GUI RPC.
        Thanks to Darrel Holz for finding this.

    client/
        gui_rpc_server.C

David  10 Jan 2006
    - Add XML option for team lookup web interface

    html/
        inc/
            xml.inc
        user/
            team_lookup.php

Bruce 11 Jan 2006

    - Skip test for excessive CPU time, IF hostid has changed
      because host has been cloned.  If result is resent to
      the 'new' host then this can make it appear that the
      result was completed shortly after it was sent.

    sched/
        handle_request.C
 
Charlie 10 Jan 2006
    -Mac: Get BrandID from file put inside application bundle by installer.
      
    clientgui/
        BOINCGUIApp.cpp

Bruce 11 Jan 2006
    - Documentation: describe boinc_is_standalone() in documentation.
    doc/
        api.php

David  11 Jan 2006
    - file upload handler: allow upload if offset if < size
        (this can now happen, since the client skips size check
        for files < 1 MB)

    sched/
        file_upload_handler.C

David  11 Jan 2006
    - Core client: add a flow control mechanism for the case where
        output files are generated faster than they can be uploaded
        (otherwise we'll fill up the disk).
        The mechanism: don't start new results for a project
        that has > 2 uploads in progress.
        Note: this actually happens with Cunning Plan
        (5 MB output files, 60 sec CPU) over a DSL line

    client/
        client_types.h
        cs_apps.C

David  11 Jan 2006
    - core client: on file upload, always get file size (even if small file).
        Before the file upload handler checkin earlier today,
        this was actually a bug:
        if a client had uploaded part of a small file and then failed,
        it would never be able to upload the rest.
        But it was probably a bad idea in the first place,
        since 1 MB is a large file from the viewpoint of a modem user.

    client/
        file_xfer.C

Charlie 10 Jan 2006
    -Mac: Mac System Menu uses menubar icon selected by 
     CBrandingScheme::OnInit() .
      
    clientgui/
        BOINCGUIApp.cpp
        mac/
            MacSysMenu.cpp
        res/
            gridrepublic_mac.xpm (new)

David  11 Jan 2006
    - Core client: remove "unknown project" from message
        where general prefs don't come from a known project.
        They might come from an account manager.
        (from Willy de Zutter)

    client/
        cs_prefs.C

Bruce 12 Jan 2006
    - file_upload_handler: log a message when the client is starting an upload
      from the wrong offset.  This problem should gradually go away as users
      update to more current clients.

    sched/
        file_upload_handler.C

David  12 Jan 2006
    - Web RPC: fixed bug in am_set_info.php that caused password_hash
        to not update.
        (from Willy de Zutter)

    html/user/
        am_set_info.php

David  12 Jan 2006
    - Initialize user/team/host.expavg_time with current time.
        This avoids inaccurate initial values for RAC.
        From Bruce Allen.

    html/user
        create_account.php
        create_account_action.php
        team_create_action.php
    sched/
        handle_request.C

Rom    13 Jan 2006 (HEAD)
    - Tag for 5.3.10 release, all platforms
      boinc_core_release_5_3_10

David  13 Jan 2006
    - core client: handle HTTP "continue" status.
        I don't understand what this is, but hopefully this fixes
        some network problems.
        (from Ian Hay).

    client/
        http_curl.h
        net_xfer_curl.C

David  14 Jan 2006
    - user web: forum fix (from Rob Ogilvie)

    html/inc/
        forum.inc

Janus 15 Jan 2006
    - web: Fixed a special situation where the caching mechanism used on
      (amongst others) the frontpage would always refresh from the serverside
      cache regardless of whether the client had a fresh copy. (from Rob)

    html/inc/
        cache.inc

David  14 Jan 2006
    - core client: If there's only one potentially runnable project,
        ask it for work no matter how negative its debt
        (from Glenn Dill)

    client/
        cs_scheduler.C

Rom    15 Jan 2006
    - CPDB BBC update
    
    clientgui/
        AccountInfoPage.cpp, .h
        BOINCBaseWizard.h
        BOINCGUIApp.cpp, .h
        CompletionPage.cpp
        ProjectProcessingPage.cpp
        ProjectPropertiesPage.cpp
        WizardAttachProject.cpp, .h

Rom    15 Jan 2006 (HEAD)
    - Tag for 5.3.11 release, all platforms
      boinc_core_release_5_3_11

David  15 Jan 2006
    - core client: add "-daemon" option (uses daemon() system call
        to detach from controlling terminal)
        From Jan Gall

    client/
        cs_cmdline.C
        main.C

David  15 Jan 2006
    - GUI RPC: added optional <scheduler_rpc_in_progress/> element
        to <project> elements in GUI RPC replies

    client/
        client_state.h
        client_types.C
        scheduler_op.h
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

David  15 Jan 2006
    - user web: moved eah_server_status.php and sample_server_status.php
        from user/ to ops/.
        These pages have queries that are too slow for
        big projects like SETI@home.

    html/
        ops/
            eah_server_status.php (new)
            sample_server_status.php (new)
        user/
            eah_server_status.php (removed)
            sample_server_status.php (removed)
            server_status.php (removed)

David  15 Jan 2006
    - user web: add optional team_id argument to team_lookup.php
        (returns XML description of a particular team)

    html/
        user/
            team_lookup.php

David  15 Jan 2006
    - compile fixes for gcc4.0

    client/
        gui_rpc_server.C
    lib/
        network.C

Bruce 16 Jan 2006
    - ops page: add external IP to data shown for host
    - user host info page: when giving IP data, show both private
      AND external IP (only for owner of host machine).
    - user web pages: if can't delete host because there are still
      results, give clearer error message and link to list of results.
    - user web pages: in list of hosts, add link to show results
      if project is configured to show results.
    html/
        inc/
            db_ops.inc
            host.inc
        user/
            host_delete.php

David  16 Jan 2006
    - compile fix for Win

    client/
        gui_rpc_server.C

David  16 Jan 2006
    - Call get_host_info() (not just get_filesystem_info())
        before each scheduler RPC (from Bruce Allen)
    client/
        cs_scheduler.C

David  16 Jan 2006
    - add <hostid> element to account manager RPC request.

    client/
        acct_mgr.C

David  16 Jan 2006
    - core client: enhancements to duration correction factor (DCF):
        - on project reset, set DCF to one.
        - when do CPU benchmarks, scale all DCFs by new/old benchmark

        (from Josef Segur)

    client/
        client_state.C,h
        cs_benchmark.C
        cs_scheduler.C

Rom    17 Jan 2006 (HEAD)
    - Tag for 5.3.12 release, all platforms
      boinc_core_release_5_3_12

David  17 Jan 2006
    - user web: add Mauritius to country list

    html/inc/
        countries.inc

David  17 Jan 2006
    - Core client error messages:
        - "task" instead of "result"
        - Don't include function names in messages
        - Don't end with \n
    - Removed files superceded by curl
        
    client/
        *.C
        http.C,h (removed)
        net_xfer.C,h (removed)
        ssl_http.C,h (removed)
        ssl_net_xfer.C,h (removed)

David  18 Jan 2006
    - GUI RPC client lib: add PROJECT::copy() function
        (copies data, doesn't change vectors)

    client/
        file_xfer.C,h
        pers_file_xfer.h
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C
    sched/
        handle_request.C

David  18 Jan 2006
    - If a download isn't complete and gained less than 5 KB,
        truncate back to the original starting size.
        This addresses a bug where some proxies append
        error messages on download failures
        (reported by Rattledagger)

    client/
        file_xfer.C
    lib/
        error_numbers.h
        filesys.C,h
        util.C

David  18 Jan 2006
    - implement boinc_truncate() for Windows

    lib/
        filesys.C

David  18 Jan 2006
    - remove #define bool char stuff,
        and change a couple of functions to return int instead of bool.
        Rule: if any function is potentially callable
        from an ANSI C application, don't use bool in its interface,
        since there's inconsistency in the size of bool
        between C and C++ compilers

    api/
        graphics_api.h
    lib/
        filesys.C,h

David  18 Jan 2006
    - added HTTP error codes to boincerror(),
        since these are sometimes used as return values.

    client/
        http_curl.h
        pers_file_xfer.C
    lib/
        util.C

Rom    19 Jan 2006
    - CPDNBBC Update
    
    clientgui/
        BOINCGUIApp.cpp, .h
        CompletionPage.cpp
        MainFrame.cpp
    win_build/installerv2/redist/CPDNBBC
        CPDNBBC_splash.bmp

David  19 Jan 2006
    - feeder/scheduler: try to fix bug where shmem array slots
        get stuck in "CHECKED_OUT" state.
        Get rid of this state.
        Instead, use the PID of the scheduler process that
        has it checked out (as we're already doing for "reserved" slots)
        and let the feeder clean up slots checked out by dead processes.
    - several of the DB enumerate() function were returning
        1 or -1 (rather than ERR_DB_NOT_FOUND) when no results.
        Bad!!!  Some programs, including the feeder,
        treat values other than 0 and ERR_DB_NOT FOUND as fatal DB errors.

    db/
        boinc_db.C
    sched/
        feeder.C
        sched_array.C
        sched_shmem.C,h
        show_shmem.C

David  19 Jan 2006
    - RSS items should refer to a page that has all news items,
        not just old ones
    - Make news item indices permanent

    html/
        inc/
            news.inc
        user/
            all_news.php (new)
            sample_rss_main.php

David  20 Jan 2006
    - tweak to partial download fix:
        only truncate file if got >0 new bytes

    client/
        file_xfer.C

David  20 Jan 2006
    - suppress "Expect: 100 continue" in HTTP header.
        Apparently this causes problems with some proxies
        (from Ian Hay)

    client/
        http_curl.C

Charlie 20 Jan 2006
    -Mac: Changes for Grid Republic: remove BOINCManager from Dock; 
    different plist file for GR; new application icon for GR; 
    screensaver changes for GR. 
    Remove obsolete files from XCode project (net_xfer.C,h, http.C,h, 
    proxy.C,h)
    Update release script to allow development test builds.
    Update installer for Grid Republic.

    client/
        mac/
            GridRepublic.icns (new)
            SetVersion.C
    clientgui/
        mac/
            mac_saver_module.cpp
    mac_build/
        Info.plist
        GR_Info.plist (new)
        boinc.xcodeproj/
            project.pbxproj
    mac_installer/
        release_boinc.sh
        Postinstall.cpp

David  20 Jan 2006
    - core client: if we change host CPID and we're using an account manager,
        do scheduler RPCs to all projects,
        so that the account manager gets a consistent view when
        it gets host data from the project servers

    client/
        client_state.h
        cs_scheduler.C

David  20 Jan 2006
    - Manager: improvements to Statistics tab
       (from mifistor_x)

    clientgui/
        Events.h
        ViewStatistics.C,h

Charlie 21 Jan 2006
    -Mac: Changes for Grid Republic: manager determines branding before 
      launching client; create new release script for GR; GR screen saver 
      displays GR icon in system preferences dialog; data directory is 
      "GridRepublic Data" if a GR install; installing BOINC over an 
      existing GR installation or GR over existing BOINC installation 
      renames data directory and performs other necessary tasks to ensure 
      continued processing of existing work.  (But user's screensaver 
      selection is not changed automatically.)
      
   clientgui/
        BOINCGUIApp.cpp - Set up branding before launching boinc client.
        mac/
            mac_saver_module.cpp
            gridrepublic.tiff
            SetVersion.C

    mac_installer/
        release_boinc.sh
        PostInstall.cpp
        postinstall
        postupgrade
        preinstall (new)
        preupgrade (new)
        release_GridRepublic.sh (new)
        GR-preinstall (new)
        GR-preupgrade (new)
        GR-Description.plist (new)
        GR-Branding (new)
        GR-ReadMe.rtf (new)

    mac_build/
        GR-InfoPlist.strings (new)
        GR-ScreenSaver-Info.plist (new)
        boinc.xcodeproj/
            project.pbxproj
      
Bruce  22 Jan 2006
    - update_stats program.  Fix 'bug of omission' where member counts
      of teams are calculated but were not written back into the database.
      Also, change algorithm so that for hosts/teams/users, when the RAC
      (Recent Average Credit) values have decayed to exactly 0.0 (double
      precision) then neither expavg_credit nor expavg_time are updated.
      In this way, by looking at the value of expavg_time, you can see
      exactly WHEN the RAC decayed to zero.  This effectively indicates
      the 'drop-out-date' for the host/team/user.

    sched/
        update_stats.C

Rom    23 Jan 2006
    - On Windows use the System Event Notification Service to determine
        network connectivity instead of using InternetGetConnectedState
        since it was proving to be unreliable.
        
      NOTE: This is a big change on Windows.  SENS uses COM as it's
        communication infrastructure and so therefore boinc.dll now has
        to be regsvr32'ed before network notification messages will be
        sent to the client.  If, for whatever reason SENS isn't working
        we'll fall back to InternetGetConnectedState.
        
    client/
        main.C
    client/win/
        hostinfo_win.cpp
    clientgui/
        AccountManagerPropertiesPage.cpp
        BOINCGUIApp.cpp, .h
        MainFrame.cpp
        ProjectPropertiesPage.cpp
    clientlib/win/
        boinc_dll.cpp, .h (Added)
        BOINCSENSSink.cpp, .h (Added)
        Identification.cpp, .h (Added)
        IdleTracker.cpp, .h (Added)
        NetworkTracker.cpp, .h (Added)
        resource.h (Added)
        SENSLogonSubscriptions.h (Added)
        SENSNetworkSubscriptions.h (Added)
        SENSOnNowSubscriptions.h (Added)
        SENSSubscriptions.h (Added)
        stdafx.cpp, .h (Added)
    lib/
        network.C, .h
    win_build/
        boinc_dll.vcproj

Rom    23 Jan 2006
    - Add an File/Exit warning for CPDNBBC so that the users know they will
        be stopping any executing tasks.
    - Update the Project and Work views changing 'work' to 'tasks'
    
    clientgui/
        BOINCGUI.pjd
        BOINCGUIApp.cpp, .h
        DlgGenericMessage.cpp, .h (Added)
        MainFrame.cpp, .h
        Makefile.am
        ViewProjects.cpp
        ViewWork.cpp

Charlie 23 Jan 2006
    -Mac: Improve GridRepublic release script so it uses sed commands 
      to convert standard BOINC plist, preinstall and preupgrade files 
      for Grid Republic; standard BOINC release script creates preupgrade 
      script by copying preinstall script;  these changes eliminate the 
      need for seven files I checked in earlier.
      Also generalize Grid Republic release script so it can easily be 
      modified for other brands by changing a few variable definitions.
      Changed name of GR Manager to "GridRepublic Manager" from just 
      "GridRepublic."
      Restore my change of 1/21/06 which was lost: manager determines 
      branding before launching client.  
      Remove mac_build/Installer-info.plist and replace with 
      mac_build/Installer-info.plist (CVS is case-sensitive).

   clientgui/
        BOINCGUIApp.cpp
    mac/
        SetVersion.C
    mac_build/
        GR_Info.plist (Remove)
        GR-InfoPlist.strings (Remove)
        GR-ScreenSaver-Info.plist (Remove)
        Installer-info.plist (Remove)
        Installer-info.plist (Add)
        boinc.xcodeproj/
            project.pbxproj
    mac_installer/
        GR-ReadMe.rtf
        PostInstall.cpp
        preinstall
        release_boinc.sh
        release_GridRepublic.sh
        preupgrade (Remove)
        GR-Description.plist (Remove)
        GR-preinstall (Remove)
        GR-preupgrade (Remove)

David  23 Jan 2006
    - Core client: D'oh!  When change host CPID,
        need to notify ALL projects, even the one we just contacted.

    client/
        client_state.h
        cs_scheduler.C
        
Charlie 23 Jan 2006
    -Mac: Add new files DlgGenericMessage.cpp, .h to XCode project .

    mac_build/
        boinc.xcodeproj/
            project.pbxproj

Rom    24 Jan 2006
    - String and graphics changes for CPDNBBC.
    - Add email address validation to the wizards.
    
    clientgui/
        AccountInfoPage.cpp
        BOINCGUIApp.cpp
        BOINCGUIApp.rc
        ValidateEmailAddress.cpp, .h (Added)

Rom    24 Jan 2006 (HEAD)
    - Tag for 5.3.14 release, all platforms
      boinc_core_release_5_3_14

Rom    24 Jan 2006
    - Bug Fix: Remove the last line of the function that handles the 
        launching of the wizards on first execution which was causing
        the manager to switch over to the messages tab no matter if the
        wizard completed successfully or not.
        
    clientgui/
        MainFrame.cpp

David  24 Jan 2006
    - core client: move code that deals with generating new host CPID
        to the end of handle_scheduler_reply(),
        after the part that clears sched_rpc_pending and sets min_rpc_time,
        since if we generate a new host CPID
        we're going to modify these (to request another RPC).
        Also: in this case request an immediate scheduler RPC to all projects
        whether or not we're using an account manager.
    - core client: if detach from account manager,
        clear "attached_via_acct_mgr" flag on all projects
    - database: change type of xml field in msg_to_host and msg_from_host
        from text (64KB limit)
        to medium_text (16MB limit, but use at most 256KB)
    - scheduler: don't print trickle message contents (swamps logfile)
        (the latter two from Carl Christensen)

    client/
        acct_mgr.C
        cs_scheduler.C
    clientgui/
        Events.h
    db/
        boinc_db.h
        schema.sql
    sched/
        handle_request.C

David  24 Jan 2006
    - core client: statefile read fails if don't find </client_state>

    client/
        cs_statefile.C

Charlie 24 Jan 2006
    -Mac: Add new files ValidateEmailAddress.cpp, .h to XCode project.
      Change conditional compile #ifdef __ppc__ in mac_backtrace.C 
      so library links properly for Intel Macs (but backtrace is disabled).
      Fix compile error by excluding CPDNBBC client code from Mac builds.
      Remove obsolete XCode project; update build script to use new project.
      Set plaform correctly for powerpc-apple-darwin and i686-apple-darwin.

    clientgui/
        BOINCGUIApp.cpp
        mac/
            config.h
    lib/
        mac_backtrace.C
    mac_build/
        BuildMacBOINC.sh
        boinc.xcodeproj/
            project.pbxproj
        boinc.pbproj/
            project.pbxproj (Remove)
            config.h

Rom    24 Jan 2006
    - Bug Fix: Fix a blocking compilation issue on the Mac with the new
        email validation class.
        
    clientgui/
        ValidateEmailAddress.cpp
        
David  24 Jan 2006
    - new FORTRAN-callable function boinc_zip_()
        (from Juan Perez)

    api/
        boinc_api_fortran.C

Rom    25 Jan 2006
    - Bug Fix: Fix the wizard so that it can display customized graphics
        on the welcome page.
    - Bug Fix: Display the minimum password length in the wizard.
    - Bug Fix: Add two new pages for dealing with account manager updates
        and removal from account managers.  Text needs some work though.

    clientgui/
        AccountInfoPage.cpp, .h
        AccountManagerProcessingPage.cpp
        AccountManagerStatusPage.cpp
        BOINCBaseWizard.cpp, .h
        BOINCGUIApp.cpp
        BOINCWizards.h
        CompletionErrorPage.cpp
        CompletionPage.cpp
        CompletionRemovePage.cpp, .h (Added)
        CompletionUpdatePage.cpp, .h (Added)
        NotDetectedPage.cpp
        ProxyPage.cpp
        UnavailablePage.cpp
        WelcomePage.cpp
        WizardAccountManager.cpp, .h
        WizardAttachProject.cpp
        wizardex.cpp

David  25 Jan 2006
    - core client: add declarations of free_mem() functions
        (but still comment them out)

    client/
        app.h
        client_state.h
    html/user/
        am_seti_info.php
    lib/
        util.C

David  25 Jan 2006
    - add "added_via_acct_mgr" flag to GUI RPC PROJECT structure

    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

David  25 Jan 2006
    - core client: added "Deferring scheduler requests for X" messages

    client/
        cs_scheduler.C

David  25 Jan 2006
    - account manager RPC request now lists all projects;
        <attached_via_acct_mgr/> is included for those attached via AMS

    client/
        acct_mgr.C

David  25 Jan 2006
    - Initialize result.batch to workunit.batch
        This required adding a batch field to TRANSITIONER_ITEM.
        (for Rosetta@home)

    Note: if you're using the batch field for anything,
    you should add indices on it to workunit and/or result


    db/
        boinc_db.C,h
    tools/
        backend_lib.C

David  26 Jan 2006
    - core client: always use HTTP 1.1
        (from Carl Christensen)

    client/
        http_curl.C

Rom    26 Jan 2006
    - Bug Fix: Overhaul the wizard control creation process.  The RAD tool
        we used broke the process into two parts and arranged things where
        the bulk of the control creation and text assignment happened
        during dialog contruction.  This causes problems since not all of
        the relevant data is available at dialog construction, such as
        account manager name or project name.
        
        The new scheme creates all the controls during dialog creation and
        sets the associated text to null.  When the OnPageChanged event is
        fired we'll go and make all the necessary changes to the control text
        as well as hide and show the correct controls.
        
    clientgui/
        <All wizard related files>

Rom    27 Jan 2006
    - Bug Fix: The screensaver should properly detect the shortcut for all
        branded clients.
        
    client/win/
        boinc_ss.h
        boinc_ss.rc
        win_screensaver.cpp, .h

Rom    27 Jan 2006 (HEAD)
    - Tag for 5.3.15 release, all platforms
      boinc_core_release_5_3_15

David  27 Jan 2006
    - server build fix for Mac OS X 10.3
        (from Derek Wright)

    m4/
        kc_mysql.m4

David  27 Jan 2006
    - Manager:
        "Website" is still not a word.
        Don't use exclamation points.

    clientgui/
        AccountInfoPage.cpp
        AccountManagerPropertiesPage.cpp
        CompletionRemovePage.cpp
        CompletionUpdatePage.cpp

David  27 Jan 2006
    - core client: fix calculation of STD/LTD

    client/
        cs_apps.C

David  27 Jan 2006
    - core client: various scheduler fixes
        (from John McLeod)

    client/
        client_state.C,h
        client_types.C,h
        cs_prefs.C
        cs_scheduler.C
        cs_statefile.C

David  27 Jan 2006
    - core client: initial checkin of new CPU scheduling code
        (in a very incomplete state).
        To enable it, define NEW_CPU_SCHED in a couple of .h files

    api/
        boinc_api_fortran.C
    client/
        client_state.C,h
        client_types.C,h
        cs_apps.C
        cs_scheduler.C

Reinhard 30 Jan 2006
     - improved _autosetup: 
    * make version-checks more robust if '--version' is not supported
    * removed libtool-check: libtool is shipped with boinc, this check therefore pointless
     ./autosetup

Charlie 30 Jan 2006
    -Mac: XCode project fixes: path to Mac_GUI.cpp; remove GR_Info.plist, add 
        source files CompletionRemovePage.cpp,.h, CompletionUpdatePage.cpp,.h.

    mac_build/
        boinc.xcodeproj/
            project.pbxproj

Reinhard 30 Jan 2006
     - updated boincmgr build for MacOSX:
    * added Mac_GUI.cpp, MacGUI.pch and Security.Framework

     clientgui/
         Makefile.am
         MainFrame.cpp

Reinhard 30 Jan 2006
     - applied Derek Wright's patch to get --enable-release-client working on MacOS10.4
    (this simply adds a check for '-lSystemStubs') [can't test this myself on 10.4 right now]
     ./configure.ac


David  30 Jan 2006
    - updates to new scheduler code (commented out)

    client
        client_state.h
        client_types.h
        cs_apps.C

David  30 Jan 2006
    - back out scheduler changes of 27 Jan.
        They caused write of statefile in infinite loop in some cases

    client/
        client_state.C,h
        client_types.C,h
        cs_apps.C
        cs_prefs.C
        cs_scheduler.C
        cs_statefile.C

Rom    30 Jan 2006
    - Change the scheme used to select the default item when no other
        items are selected within a single selection list control.
        
    clientgui/
        BOINCBaseView.cpp
        BOINCListCtrl.cpp

David  30 Jan 2006
    - fixes for LTD calculation (from James Drews)

    client/
        client_types.C,h
        cs_apps.C

Rom    30 Jan 2006 (HEAD)
    - Tag for 5.3.16 release, all platforms
      boinc_core_release_5_3_16

Charlie 30 Jan 2006
    -Mac: Undo change of 1/20/06 to Info.plist: restore manager to Dock because 
        use of NSUIElement also eliminated menu bar.
        (Tagged new Info.plist for boinc_core_release_5_3_16.)

    mac_build/
        Info.plist
        
Charlie 31 Jan 2006
    -Mac: Remove redundant second link with libwx_mac.a.
       Fix buildWxMac.sh script to fix wxRegEx problems. 
       Fix bug so a new default item is selected when the old selected item 
       is deleted within a single selection list control.
       Update release scripts for separate ppc_Deployment build directory.
       (Tagged changed files for boinc_core_release_5_3_16.)
       
    clientgui/
        BOINCBaseView.cpp
    mac_build/
        buildWxMac.sh
        boinc.xcodeproj/
            project.pbxproj
    mac_installer/
        release_boinc.sh
        release_GridRepublic.sh

Rom    31 Jan 2006
     - Bug Fix: If the wizard is configured for usernames, do not use the email
         address validator on the account info page.
         
     clientgui/
         AccountInfoPage.cpp

David  31 Jan 2006
    - Back out changes to LTD calculation

    client/
        client_types.C,h
        cs_apps.C

David  31 Jan 2006
    - add "table stats" web page
        (from Carl Christensen)

    html/
        inc/
            util.inc
        ops/
            sample_table_stats.php

David  31 Jan 2006
    - user web: remove "pending credit" link from user page

    html/inc/
        user.inc

Bruce 31 Jan 2006
    - user web: modify David's change just above.  Make 'pending
      credit link display only if 'show_results' enabled in
      project config.xml file.

    html/
        inc/
            user.inc

David  31 Jan 2005
    - core client: finish logic for recovering from state file write failures.
        For some reason I'd done the write part but not the read part.
        write:
            1) write "next"
            2) rename "current" to "prev"
            3) rename "next" to "current"
        read:
            if "next" is valid, use it
                (in case failure between 1 and 2)
                In principle we should rename "next" to "current" here,
                but I didn't bother doing this.
            else if "current" is valid use it
                (normal case)
            else if "prev" is valid use it
                (in case 3) failed and file got deleted)

        "is valid" means that the file has a <state_file> tag,
        followed later by a </state_file> tag

    client/
        cs_statefile.C

Charlie 1 Feb 2006
    -Mac: Changes for Intel Macs.
       
    clientgui/
        MainFrame.cpp
        mac/
            MacGUI.pch
        res/
            mess.xpm
            proj.xpm
            result.xpm
            usage.xpm
            xfer.xpm
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

Rom    1 Feb 2006
    - Bug Fix: The account manager wizard wasn't actually calling the
        get_project_config routine and so various account manager
        specific settings were not being picked up.
    - Bug Fix: Include the account manager name in the wizard
        communication dialogs if we have it.
    - Bug Fix: Account manager errors were no longer being bubbled
        up to the manager.  The manager was declaring everything a
        success and displaying the success page.
    - Bug Fix: Add 'Account not Found' to the account manager wizard.
    - Bug Fix: Don't attempt an account manager rpc until after a
        proper username and password have been specified.  Various
        attributes in the acct_mgr_url.xml were being nulled out
        since the handle_reply function wasn't properly detecting the
        account not found condition, or any condition where only an
        error number was returned.
    - Bug Fix: Keep the tab graphics consistant across all the
        platforms.
        
    client/
        acct_mgr.C
        cs_scheduler.C
    clientgui/
        AccountInfoPage.cpp, .h
        AccountManagerProcessingPage.cpp, .h
        AccountManagerPropertiesPage.cpp, .h
        BOINCGUIApp.cpp, .h
        MainFrame.cpp
        ProjectProcessingPage.cpp
        WizardAccountManager.cpp, .h
    clientgui/res/
        mess.xpm
        proj.xpm
        result.xpm
        usage.xpm
        xfer.xpm
    lib/
        util.C

David  1 Feb 2006
    - added web RPC for creating teams
    - on team creation (whether via RPC or web interface)
        make sure the country name and team type or legitimate

    html/
        inc/
            countries.inc
            team.inc
            team_types.inc (new)
        user/
            create_team.php (new)
            team_create_action.php

David  1 Feb 2006
    - Core client: there's a feature where certain GUI RPCs
        enable network communication (if it would otherwise be disabled)
        for 5 minutes or so.
        This set of RPCs was too large.
        Restrict it to things like attach/update project etc.,
        for which network communication is clearly required.
    - core client: parse <want_network> elements in status messages from apps.
        I had forgotten to do this.
        This should finally allow F@h to work with modem users.

    client/
        app.h
        app_control.C
        gui_rpc_server_ops.C

Rom    2 Feb 2006
    - Bug Fix: Always use the ai.email_addr field for the user identifier for
        both the create_account and lookup_account RPCs.  ai.user_name is only
        used to prepopulate the post account creation setup form.
        
    client/
        acct_setup.h
    clientgui/
        ProjectProcessingPage.cpp
    lib/
        gui_rpc_client.h

Rom    2 Feb 2006
    - Setup new menu layout
    
    clientgui/
        BOINCGUIApp.cpp
        Events.h
        MainFrame.cpp, .h
        WizardAccountManager.cpp, .h

Charlie 2 Feb 2006
    -Mac: Changes for Universal Binaries.

    mac_build/
        boinc.xcodeproj/
            project.pbxproj
        buildcurl.sh
        buildjpeg.sh
        BuildMacBOINC.sh
    mac_installer/
        release_boinc.sh
        release_GridRepublic.sh

Rom    2 Feb 2006
    - Update GridRepublic Icons
    - Add aditional menu item for the task tray when managed via an account
        manager.
    
    clientgui/
        BOINCGUIApp.cpp
        BOINCGUIApp.rc
        BOINCTaskBar.cpp, .h
        Events.h
    clientgui/res/
        gridrepublic16.xpm (Added)
        gridrepublic32.xpm (Added)
        gridrepublic.ico


Rom    2 Feb 2006 (HEAD)
    - Tag for 5.3.17 release, all platforms
      boinc_core_release_5_3_17

David  2 Feb 2006
    - web RPC: bug fix

    html/user
        am_set_info.php

David  2 Feb 2006
    - core client: small logic error in statefile read
        (for "prev", use is_valid_statefile() instead
        of boinc_file_exists())

    client/
        cs_statefile.C

David  2 Feb 2005
    - core client: correctly update long-term debt when a project
        finishes its last result and becomes no longer "potentially runnable".
        From James Drews.

    client/
        cs_apps.C

David  2 Feb 2005
    - core client: long-term debt is modified only over
        potentially runnable projects,
        but it's averaged and normalized over all projects.

    client/
        cs_apps.C

David  3 Feb 2005
	- Allow apps to do cleanup when they're aborted.
		- Add abort_request to BOINC_STATUS structure
		- API library: handle <abort/> message
		- Change boinc_get_status() arg from reference
			to pointer (for easier FORTRAN interface).
			This is an API change, but I think only CPDN uses this.
		- ACTIVE_TASK_SET::poll():
			Check for processes that are ABORT_PENDING
			for more than 5 seconds, and kill them

		From Carl Christensen, somewhat modified.
		I changed the way tasks are aborted.
		The core client can't sleep; that locks up the UI.
		So we can't sleep 5 seconds waiting for an app to exit
		after sending it an <abort/> message
		(existing apps don't recognize this message).
		Instead, send it the <abort/> message,
		set its state to PROCESS_ABORT_PENDING,
		and check it from the polling loop 5 seconds later.

	api/
		boinc_api.C,h
	client/
		app.C,h
		app_control.C

David  6 Feb 2005
    - compile warning fixes

    client/
        cs_statefile.C
        gui_rpc_server_ops.C

Rom    6 Feb 2006
    - Bug Fix: when running as a Windows Service we should use
        suspend_task/resume_task and suspend_network/resume_network
        instead of setting the activity states.
        
    client/
        client_state.h
        main.C

David  6 Feb 2005
    - Core client: when we switched to Curl, we lost the code
        that sets gstate.want_network_flag when name resolution fails.
        I restored this to the Curl code.

    - The above is a kludge for detecting lack of physical connection.
        But name resolution can fail for reasons other than lack of
        physical connection; e.g. hostname might be bad.
        So if get name resolution failure,
        try to contact a reference web site,
        and only if that also fails set want_network_flag.

    client/
        acct_setup.C
        client_state.C,h
        net_xfer_curl.C

Charlie 6 Feb 2006
    -Mac: Changes for Universal Binaries: when running on an Intel Mac, 
       read mach header of project application to determine if it has 
       Intel native executable or only PowerPC executable.  If emulating 
       PowerPC on an Intel Mac, treat the application as not supporting 
       graphics.  This works around a crash bug when displaying graphics 
       under PPC emulation.
    Fix multiple compiler warnings and one error.
    
    api/
        gutil.C
        mac_icon.C
    client/
        app.h
        app_graphics.C
        app_start.C
    clientgui/
        BOINCBaseView.cpp
        BOINCGUIApp.cpp
        ViewStatistics.cpp
    lib/
        mac_backtrace.C
        shmem.C
    mac_build/
        boinc.xcodeproj/
            project.pbxproj
    mac_installer/
        LoginItemAPI.c

David  6 Feb 2006
    - Slight refinement to next-earlier checkin.
        Set want_network_flag only if the request to the reference network site
        results in a CURLE_COULDNT_RESOLVE_HOST Curl error code.

    client/
        acct_setup.C,h
        gui_http.C,h

David  6 Feb 2006
    - try to get rid of gcc4 warnings about virtual destructors
    - project creation bug fix (from Andre Kerstens)

    api/
        graphics_data.h
    client/
        client_msgs.h
    lib/
        msg_log.h
    py/Boinc
        setup_projects.py

Charlie 7 Feb 2006
    -Mac: Adjust XCode project for David's warnings fix.  We now build on Mac 
       with no warnings!

    mac_build/
        boinc.xcodeproj/
            project.pbxproj

David  7 Feb 2006
    - Core client: check for a file "global_prefs_override.xml"
        that overrides the global prefs obtained from server.
        This lets people manually tweak prefs on a given host,
        or develop add-on programs that do so.
    - Remove programs that tested old HTTP code

    client/
        client_state.C,h
        test_file_xfer.C (removed)
        test_http.C (removed)
        test_net_xfer.C (removed)
    lib/
        prefs.C,h

David  7 Feb 2006
	- Add GUI RPC for rereading global prefs override file

	client/
		client_state.C,h
		gui_rpc_server_ops.C
	lib/
		gui_rpc_client.h
		gui_rpc_client_ops.C

David  7 Feb 2006
    - remove the "new CPU scheduler" code I added a couple weeks ago (sigh)

    client/
        client_state.h
        client_types.h
        cs_apps.C
        cs_scheduler.C

David  7 Feb 2006
    - Unravel the CPU scheduler code a little:
        - split set_scheduler_modes() into two functions,
            set_scheduler_mode() and set_work_fetch_mode().
        - make a separate function, enforce_schedule(),
            that does the actual starting and stopping of processes

    client/
        client_state.h
        cs_apps.C
        cs_scheduler.C

Bruce 7 Feb 2006
    - Added a script (originally provided by DA, I think) to
      send mass email to project participants.  The script allows
      one to select the TYPE of user, including 'all', 'active',
      'lapsed', 'unsuccessful' and so on.  Also appends a 'how to opt
      out' message at the end. Do NOT use this script without testing it.

    html/
        ops/
            mass_email.php
            index.php

David  7 Feb 2006
	- Manager: change "Tasks" to "Commands".
		We're using "Tasks" to mean work now.

	clientgui/
		View*.cpp

Charlie 8 Feb 2006
    -Mac: Enhance BOINC command-line build script with new options 
      to build only the 3 BOINC libraries (libboinc, gfxlibboinc and 
      api_libboinc), only 2 targets (boinc client and boinc_cmd), or 
      a combination of these two (5 targets).  The default is still 
      Build_all, which also builds the BOINC Manager.
      
    mac_build/
        BuildMacBOINC.sh

David  8 Feb 2006
    - Move CPU scheduling code to a new file, cpu_sched.C
    - PHP: use $_POST, not $HTTP_POST_VARS

    client/
        Makefile.am
        client_state.h
        cpu_sched.C
        cs_apps.C
        cs_scheduler.C
    html/user/
        create_account_action.php
	win_build/
		boinc_cli_curl.vcproj

Rom    8 Feb 2006 (HEAD)
    - Tag for 5.3.18 release, all platforms
      boinc_core_release_5_3_18

David  8 Feb 2006
    - Change the way the manager learns about the core client's network status.
        Replace the <network_query> GUI RPC with a new one, <network_status>
        It returns:
        0 if currently have network connections
        1 if need a physical connection
        2 if don't have connections, and don't need any

    client/
        acct_setup.C
        client_state.C,h
        gui_rpc_server_ops.C
        net_xfer_curl.C
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

Bruce 9 Feb 2006
    - Ops page bug fix from Carl Christensen for manage special users page.

    html/
        ops/
            manage_special_users.php


Rom    9 Feb 2006
    - Integrate BOINC Manager into David's last API change.
    - Breakout the dial up functionality into its own class.
    - Increase the refresh rate of the list view to 1 second.
    - Terminology change in the project tab.  credit = work done.
    
    clientgui/
        BOINCDialupManager.cpp, .h (Added)
        MainFrame.cpp, .h
        ViewProjects.cpp

Charlie 8 Feb 2006
    - Mac: Add backtrace capability for Intel-based Macs.  
        Fix a link error with SETI@home.
    
    api/
        graphics_data.h
    lib/
        MoreAddrToSym.c,h (Added)
        mac_backtrace.C,h
        MoreBacktrace.c,h (Added)
    mac_build/
        boinc.xcodeproj/
            project.pbxproj
