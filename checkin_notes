David  Jan 1 2008
    - fixed bug in upgrade

    checkin_notes_2007 (new)
    tools/
        upgrade

David  Jan 1 2008
    - web: My Account page, other user account page, and profile pages
        now have community info in a 2nd column on the right.
        This accomplishes two things:
        1) it puts community info in more places;
        2) it provides a reasonable way to format long lists of friends;
            they just continue down the right column.

    html/
        inc/
            profile.inc
            user.inc
            util.inc
        ops/
            profile_screen_form.php
        user/
            home.php
            profile_rate.php
            show_user.php
            view_profile.php

Charlie Jan 2 2008
    - Mac Client: revert to using older API NXIdleTime() to get user 
        idle time because the newer APIs CGSSecondsSinceLastInputEvent() 
        and CGEventSourceSecondsSinceLastEventType() don't work properly 
        when running as a daemon.
    - Mac: Update script which sets BOINC up to run as a daemon so it 
        works properly under OS 10.5.
        
    client/
        hostinfo_unix.C
        main.C
    lib/
        hostinfo.h
    mac_build/
        Make_BOINC_Service.sh
        
David  Jan 1 2008
    - web: add "Find friends" link to private friends list
    - web: in user search form, give input focus to name field

    html/
        inc/
            user.inc
        user/
            user_search.php

David  Jan 3 2008
    - make_project: prepend "./" to config.xml script names in case "." is not
        in Apache's search path
    - web: show UOTD text correctly
    - web: memoize profile_screening() in attempt to fix out-of-memory error
        when building profile pages on S@h
    - web: move gallery.inc into update_profile_pages and remove it

    html/
        inc/
            gallery.inc (removed)
            profile.inc
            uotd.inc
        ops/
            update_profile_pages.php
    tools/
        make_project

David  Jan 3 2008
    - web: fix broken link for profile like/don't like.
        TODO: currently these don't do anything useful.  Fix this.

    html/inc/
        profile.inc

David  Jan 3 2008
    - API: on Mac, call getrusage() from timer thread
        (since calling it from worker thread causes crashes).
        On Linux, call getrusage() from the worker thread
        (since calling it from the timer thread returns zero on some systems).
    - stripcharts: make it work even if Perl is not in path (from Eric Myers)

    api/
        boinc_api.C
    stripchart/
        stripchart

David  Jan 4 2008
    - web: add RSS feed for notifications
    - make_project: disable community-related periodic tasks
        for newly-created projects

    html/
        inc/
            forum.inc
            friend.inc
            notify.inc (new)
            pm.inc
            user.inc
        user/
            img/
                rss_icon.gif
            sample_index.php
    tools/
        make_project

Charlie Jan 6 2008
    - Mac Client: more idle time tweaks to allow running as a daemon by 
        using Mac OS X's launchd mechanism.  
    - Mac Installer: if system is set up to run BOINC Client as a daemon 
        using launchd, use launchctl to launch newly installed Client as 
        a daemon.

    client/
        hostinfo_unix.C
        main.C
    mac_installer/
        PostInstall.cpp

David  Jan 6 2008
    - web: bug fixes

    html/
        inc/
            util.inc
        ops/
            update_profile_pages.php

David  Jan 6 2008
    - scheduler: change <max_wus_in_progress> to be per CPU, not per host

    sched/
        sched.send.C
        sched_config.h

David  Jan 7 2008
    - Added Isle of Man to country list

    html/inc/
        countries.inc

David  Jan 7 2008
    - XML fix in backend lib

    tools/
        backend_lib.C

Rom    Jan 7 2008
    - Empty strings cause CreateProcess to fail on parameter checks.
    
    clientgui/
        BOINCGUIApp.cpp

David  Jan 7 2008
    - API: fix to changeset 14462: I put the getrusage() in the wrong place
    api/
        boinc_api.C

David  Jan 7 2008
    - small web fixes; fixes #421
    html/
        ops/
            show_log.php
            manage_user.php
        inc/
            util_ops.inc

David  Jan 7 2008
    - web: if user A is ignoring user B,
        don't accept a friend request from B to A
    - boinc_cmd: --help fix

    html/user
        friend.php
    lib/
        boinc_cmd.C

Charlie Jan 7 2008
    - Mac MGR: if using Mac OS X's launchd mechanism to run Client as a daemon,
        allow time for daemon to launch.  
    - Mac: Update script which sets BOINC up to run as a daemon so it 
        uses Mac OS X's launchd mechanism.  This requires BOINC version 
        5.10.34 or later and Mac OS 10.4 or later.

    clientgui/
        BOINCGUIApp.cpp,.h
    mac_build/
        Make_BOINC_Service.sh

David  Jan 7 2008
    - web: add "Mark all threads as read" button to Help Desk (fixes #531)
    - add "self" link to RSS notify feed
    - web: if fail to send email, don't show error message
        (might reveal recipient's email addr)

    html/
        inc/
            email.inc
            forum.inc
        user/
            forum_help_desk.php
            forum_index.php
            notify_rss.php

David  Jan 8 2008
    - API: call update_app_progress() only from the timer thread.
        Previously it was called from both timer and worker thread,
        with no synchronization.  Bad.
        boinc_finish(): sleep for 2 seconds, enough to ensure that
        the timer thread sends the final messages.
    - API: a compile flag GETRUSAGE_IN_TIMER_THREAD selects
        how to get CPU time; by default set only for Mac OS X
    - scheduler: cap #CPUs scaling for <max_wus_per_host> at 8

    api/
        boinc_api.C
    sched/
        sched_send.C

David  Jan 8 2008
    - client, Win: check for two process exit codes (0x40010004 and 0xc000013a)
        that appear to happen when the process is killed externally;
        seems to happen mostly or entirely on Vista
        
    client/
        app_control.C

Charlie Jan 8 2008
    - Mac: additional error checking in build script; fix url in error message.
    
    mac_build/
        BuildMacBOINC.sh

David  Jan 9 2008
    - API, Unix: fix bug where boinc_sleep() hangs forever.
        This was because SIGALRM always interrupts sleep()
        and keeps boinc_sleep() stuck in its while loop.
        Solution: change boinc_sleep() so that it works even if
        rapid signals (e.g. interval timer) are happening
    - API: remove deprecated graphics files from Makefile.
        Old-style graphics are no longer supported.
    - web: add empty show_user_donations_private() to donations.inc

    api/
        Makefile.am
        boinc_api.C,h
    html/
        project.sample/
            donations.inc
        user/
            home.php

David  Jan 9 2008
    - Fix the credit_study.php script to 1) be correct and
        2) explain its output

    html/ops/
        credit_study.php

David  Jan 9 2008
    - client: patches to make it work on FreeBSD
    - client: fix bug where attaching to a project with existing
        app_info.xml would fail to parse the app_info.xml
    (both from Pav Lucistnik)

    client/
        cs_account.C
        hostinfo_unix.C

Charlie Jan 10 2008
    - MGR: display MSG_USER_ERROR messages in red, all others in black 
        in both SimpleGUI and Advanced GUI message dialogs; eliminate 
        unused FormatPriority method.  
    - MGR: Auto-scroll messages only if already at bottom of list (don't 
        jump to bottom while examining earlier messages.)
    NOTE: these changes may need to be applied in CViewMessagesGrid class 
            if we implement that in the future.
        
    clientgui/
        sg_DlgMessages.cpp,.h
        ViewMessages.cpp

David Jan 10 2008
    - client: don't count header in bytes_xferred for file uploads
        (this causes confusing output in the Manager,
        bytes xferred greater than file size)
    - API and client: make boinc_sleep() work regardless of signals
    - some code cleanup in http_curl.C

    client/
        http_curl.C,h
    html/inc/
        stats_sites.inc
    lib/
        util.C

Charlie Jan 10 2008
    - Mac API: Delete old target gfxlibboinc and obsolete source files 
        from XCode project.
    - Mac: Update build script to build libboinc_graphics2.a instead of 
        libboinc_graphics_api.a.  Fixes #536.

    mac_build/
        boinc.xcodeproj/
            project.pbxproj
        BuildMacBOINC.sh

David  Jan 10 2008
    - Fix long-standing bug in CPU throttling

    client/
        cs_prefs.C

Rom    Jan 11 2008
    - MGR: Inform the user that they'll need to be added to the boinc_users
        group if access to gui_rpc_auth.cfg is denied.
    - Fix a crash condition when BOINC is started as a standard user account
        without the 'create global named objects' user right on Vista.
    - WINSETUP: Make sure that BOINC Tray is started for all users on the
        system.
    - WINSETUP: If the 'All users can control BOINC' checkbox is checked then
        put the BOINC Manager startup short cut in the 'all users' startup directory
        otherwise put it in the 'users' startup directory.

    clientgui/
        BOINCBaseFrame.cpp, .h
        MainDocument.cpp, .h
    clientlib/win/
        IdleTracker.cpp
    win_build/installerv2/
        BOINC.ism
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.rc
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll

Rom    Jan 11 2008 (HEAD)
    - Tag for 6.1.6 release, all platforms
      boinc_core_release_6_1_6

David  Jan 11 2008
    - web: fix bug there message link not correct in search results
        fixes #539

    html/user/
        forum_search_action.php

David  Jan 11 2008
    - client, Win: check for network connectivity (for time stats log file)
    - client: add platform/version lines to time stats log file

    client/
        http_curl.C
        sim_util.C
        time_stats.C
    lib/
        network.C,h
    win_build/
        boinc_cli_curl.vcproj

David  Jan 11 2008
    - web: in host merge pages, provide "Show details" button,
        which shows the reasons why pairs of hosts
        were not eligible for merging

    html/
        inc/
            host.inc
        user/
            host_edit_form.php

Charlie Jan 11 2008
    - Mac: Fix compile error on some Macs by changing XCode Project reference 
        "texfont.c" to "texfont.C".
    - MGR: New message about needing to be added to the boinc_users group 
        applies only to Windows.
        
    mac_build/
        boinc.xcodeproj/
            project.pbxproj
    clientgui/
        BOINCBaseFrame.cpp

David  Jan 12 2008
    - Client: add <run_apps_manually> config flag.
        This is for debugging apps (currently works only in Unix).
        What it does: when running an app,
        the client does everything except actually fork/exec the app,
        i.e. it sets up the slot dir, creates shared mem segment etc.
        It then continues as if the app were actually running,
        and you can then manually run your app under a debugger
        in the slot directory.
        Note: the client won't notice the termination of your app.
    - API, Unix: in situations where the timer thread wants to exit
        (e.g. it notices a missing heartbeat).
        don't directly call boinc_exit(),
        since this touches data structures that the worker thread
        may be using concurrently.
        Instead, set a flag telling the worker thread to call boinc_exit()
        (which it will do from its signal handler)
        This is an attempt to fix problems reported by Bernd;
        I haven't tested it.
    - scheduler: add config flag for uploading usage data
    - web: show account key and weak account key on user page
    - added some code for multithread support (not finished)

    api/
        boinc_api.C,h
    client/
        app.h
        app_control.C
        app_start.C
        cpu_sched.C
        log_flags.C,h
    html/
        inc/
            user.inc
        user/
            white.css
    lib/
        app_ipc.C,h
    sched/
        Makefile.am
        handle_request.C
        sched_config.C,h
        server_types.C,h

David  Jan 12 2008
    - client: implement <start_apps_manually> for Windows too
    - client: check /dev/input/mice/ for idle detection;
        apparently that's replaced /dev/mouse in Linux
        (from Toby Murray)
    - API: make old-style graphics compile again

    api/
        boinc_api.C,h
        graphics_api.C
        graphics_impl.C
        graphics_lib.C
    client/
        app_start.C
        hostinfo_unix.C

David  Jan 14 2008
    - server/web: the weak auth scheme had a major flaw:
        It didn't work on a host's first scheduler RPC
        (when it passes an auth but no host ID).
        How do we look up user in this case?
        The weak auth is not stored explicitly in the DB.
        Solution: include the user ID in the weak auth.
        (this invalidates existing weak auths)

    html/
        inc/
            user.inc
        user/
            weak_auth.php
    sched/
        handle_request.C

David  Jan 14 2008
    - scheduler: forgot to add a couple of files

    sched/
        time_stats_log.C,h

David  Jan 14 2008
    - renamed clean_out_dir() to client_clean_out_dir(),
        and put the original clean_out_dir() back in lib/filesys.C

    client/
        app.C
        app_control.C
        file_names.C
        sandbox.C,h
    lib/
        filesys.C,h

David  Jan 14 2008
    - updated INSTALL

    INSTALL

Rom    Jan 14 2008
    - Add a "Forgot your password" hyperlink to the wizards
        account info page.
        
    clientgui/
        AccountInfoPage.cpp, .h
        BOINCWizards.h

David  Jan 14 2008
    - scheduler: fix weak auth bug

    sched/
        handle_request.C

Charlie Jan 14 2008
    Fix Compiler warning.

    api/
        boinc_api.C

David  Jan 15 2008
    - client: a project (Ralph) had accidentally included a .svn directory in a zip archive,
        resulting in a lot of read-only files in its slot directories.
        When the client attempts to delete these files,
        each delete fails and the client retries for about 5 seconds.
        This adds up to a delay of about 20 minutes,
        during which the client (and Manager) appear to be hung.

        Solution:
        1) if a file delete fails with error ERROR_ACCESS_DENIED,
            use SetFileAttributes() to clear the read-only flag, then try again.
        2) Don't use the 5-second retry mechanism when clearing out
            slot directories.  These can contain unbounded numbers of files,
            and this can lead to long periods where the client appears hung.

    client/
        app.C
        client_types.C
        cs_trickle.C
        file_names.C
        sandbox.C,h

Rom     Jan 15 2008
    - WINSETUP: Add some additional comments to the setup log when
        we know we cannot do a migration and why.
    
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.rc
        CAMigrateBOINCData.cpp
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll

David  Jan 15 2008
    - Manager: "Forgot your password" needs a question mark
    - Win diagnostics: diagnostics_dump_thread_information() had a printf
         with bad format string, caused a crash, not what diagnostics should do

    clientgui/
        AccountInfoPage.cpp
    lib/
        diagnostics_win.cpp

David  Jan 15 2008
    - web: fixed screwed-up UOTD logic.
        The meaning of the <screen_profiles> config flag is:
        If set:
            profiles must be screened by admins before their photo is shown.
            When this is done, profile.verification is set to 1
            (and they become eligible to be UOTD)
        If not set:
            profile photos are always shown.
            Profiles must be screened by admins before
            they are eligible for UOTD.
            When this is done, profile.verification is set to 1
        So default_uotd_candidates_query() is the same in either case.
    - web: fix profile_screen_form.php
        (admin page for screening profiles)
    - web: make a copy of login_action.php in ops/

    html/
        inc/
            uotd.inc
        ops/
            login_action.php (new)
            profile_screen_form.php

David  Jan 15 2008
    - client: restore proper sense of --check_all_logins
        (should this be set by default?)
    - web: removed addslashes() when building language translation arrays.
        These caused 's to be displayed as \' everywhere.
        They may serve some purpose, but I can't think of what it is.
    - web: changed max profile image dimensions from 800x600 to 640x480.
        The new profile page puts a column to the right
        of the image, so it shouldn't be quite that wide.
    client/
        hostinfo_unix.C
    html/
        inc/
            profile.inc
            translation.inc
            stats_sites.inc
        user/
            create_profile.php
    lib/
        filesys.C

David  Jan 15 2008
    - API: fix to zip code (from Carl C)

    zip/zip/
        z_fileio.c

Charlie Jan 15 2008
    MGR: When connection to Client is lost, don't clear message window; show 
        messages grayed out instead.
    NOTE: these changes may need to be applied in CViewMessagesGrid class 
        if we implement that in the future.
        
    clientgui/
        MainDocument.cpp
    clientgui/
        sg_DlgMessages.cpp
        ViewMessages.cpp

Charlie Jan 16 2008
    Mac Sandbox: make BOINC Data directory and files not world-readable to 
        hide account keys from unauthorized users.
        
    client/
        check_security.C
        client_types.C
        file_names.C
        main.C
    clientgui/
        mac/
            SetupSecurity.cpp
    doc/
        sandbox.php

Rom    Jan 16 2008
    - MGR: If the project_init.xml file suggests a project to attach too
        attempt to attach to it.
    - CLIENT: Move the code that deletes the project_init.xml from detach
        project to attach project.  It is only needed for as long as
        it takes to attach to a project.
        
    client/
        gui_rpc_server_ops.C
    clientgui/
        AdvancedFrame.cpp
        sg_BoincSimpleGUI.cpp

Charlie Jan 17 2008
    Mac Sandbox: make user boinc_master part of group boinc_project.
        
    client/
        check_security.C
    clientgui/
        mac/
            SetupSecurity.cpp
    doc/
        sandbox.php

Rom    Jan 17 2008 (HEAD)
    - Tag for 6.1.7 release, all platforms
      boinc_core_release_6_1_7

David  Jan 17 2008
    - API: make the libraries for old-style graphics compile again
        (these are no longer supported, but they probably still work)
    api/
        boinc_api.C,h
        graphics_impl.h
    client/
        acct_mgr.C

Charlie Jan 17 2008
    API: fix compiler warning.
    Mac Sandbox: group membership apparently only affects real UID not 
        effective UID, so it made no difference; remove code which makes 
        user boinc_master part of group boinc_project.
    Mac Sandbox: make BOINC Data directory and files not world-readable to 
        hide account keys from unauthorized users; but make files in slots 
        and project directories world-readable so Client can read files 
        written by project applications with user and group boinc_project. 
    
    api/
        texfont.C
    client/
        app_start.C
        check_security.C
    clientgui/
        mac/
            SetupSecurity.cpp
    doc/
        sandbox.php
    mac_build/
        Mac_SA_Secure.sh

David  Jan 18 2008
    - scheduler: if get request w/o host ID,
        use most recently created host with same domain name,
        IP addr, OS name, and CPU model, if one exists.
        (from Kevin Reed)

    sched/
        handle_request.C

Rom    Jan 18 2008
    - WINSETUP: Fix failed termination attempts on Win64
    
    win_build/installerv2/
        BOINC.ism
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.rc
        terminate.h
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll

Charlie Jan 18 2008
    GFX API: change args passed to GlutInit() to be original unmodified args 
        which were passed to the application, as specified in the man page.

    api/
        graphics2_unix.C

David  Jan 19 2008
    - web: fixed extremely minor bug in forum search; fixes #539

    html/user/
        forum_search_action.php

David  Jan 21 2008
    - create_work: added -opaque option (to specify workunit.opaque)

    client/
        log_flags.C
    tools/
        create_work.C

Rom    Jan 21 2008
    - MGR: Shrink the amount of space between the different projects
        in the project list.
        
    clientgui/
        ProjectListCtrl.cpp

Rom    Jan 21 2008
    - MGR: Make sure the attach to project wizard launches if BOINC
        is not attached to any projects.
        
    clientgui/
        AdvancedFrame.cpp
        sg_BoincSimpleGUI.cpp

Rytis   Jan 22 2008
    - User web: fix donations page with multiple donation targets.
    
    html/user/
        donation_ipn.php

David  Jan 23 2008
    - upgrade script: rename cgi and file_upload_handler
        before trying to copy new ones,
        in case there's an instance currently running

    py/Boinc/
        setup_project.py

Charlie Jan 23 2008
    GFX API: Fix to makefile for Macintosh (from Bernd Machenschalk).
    
    api/
        makefile.am

Rom    Jan 24 2008
    - LIB: Make sure that the worker and graphics processes are created
        using the idle process priority class.

    lib/
        util.C

David  Jan 24 2008
    - scheduler: get FCGI version to compile

    lib/
        miofile.C
        util.C
    sched/
        Makefile.am

David  Jan 24 2008
    - Manager: make email input field bigger

    clientgui/
        AccountInfoPage.cpp

David  Jan 28 2008
    - API: allow Win apps to have icon

    api/
        Makefile.am
        graphics2.h
        graphics2_win.C

David  Jan 28 2008
    - web: fix bug in handling of links on "forget password?" emails
    - web: show number of friends

    html/
        inc/
            user.inc
        user/
            login_action.php

David  Jan 28 2008
    - client: add <force_ntlm> config flag.
        Causes client to use NTLM auth and HTTP 1.0
    - client: we weren't doing exponential backoff if scheduler
        requests failed at initialization; fix this

    client/
        http_curl.C
        log_flags.C,h
        scheduler_op.C

David  Jan 28 2008
    - API: fix Win build error
    - API: fix Makefile.am
    - add LGPL license on some files

    api/
        Makefile.am
        graphics_api.C
        graphics2_win.C
        graphics2_unix.C
        graphics2_util.C
        graphics2.C


Charlie Jan 29 2008
    - Mac: Update libCurl to 7.18.0, build with c-ares-1.5.1 to enable 
        async DNS name resolving.
    - Mac API: move mac_icon.C from target api_libboinc to gfx2libboinc
        (link it into libboinc_graphics2.a instead of libboinc_api.a).
        
    mac_build/
        buildc-ares.sh (new)
        buildcurl.sh
        HowToBuildBOINC_XCode.rtf
        setupForBOINC.sh
        boinc.xcodeproj/
            project.pbxproj

Charlie Jan 29 2008
    - MGR: Delete web site buttons when disconnected; this was causing 
        crashes when a user connected to a different computer.
        
    clientgui/
        BOINCBaseView.cpp
        MainDocument.cpp
        ViewProjects.cpp
        ViewProjectsGrid.cpp
        ViewWork.cpp
        ViewWorkGrid.cpp

David  Jan 29 2008
    - graphics API: default max graphics CPU fraction is 0.2
        (see accompanying changes in example app;
        app should parse project-specific prefs)

    api/
        graphics2.C

David  Jan 29 2008
    - web: add "max CPU % for graphics" project-specific preference.
        Projects should copy or merge
        project.sample/project_specific_prefs.inc
    - screensaver: change
            Running research for PROJECT
            Workunit: X
        to
            Computing for PROJECT
            Task: X

    clientscr/
        screensaver_win.cpp
    html/
        project.sample/
            project_specific_prefs.inc
        inc/
            prefs.inc

David  Jan 29 2008
    - web: add "% of CPUs to use on multiprocessors" pref
    - client: enforce the above pref; remove the max_cpus pref.

    client/
        cpu_sched.C
    html/inc/
        prefs.inc
    lib/
        prefs.C,h

David  Jan 29 2008
    - manager: change advanced preferences to handle the above pref

    clientgui/
        DlgAdvPreferences.cpp
        DlgAdvPreferencesBase.cpp

Charlie Jan 29 2008
    - SCR: When running V5 GFX applications as a service / daemon, display 
        appropriate error message instead of trying to display graphics.
    - API: Add executing_as_daemon bool to get_state rpc.
    - MGR: Disable Show Graphics button for V5 GFX applications when BOINC 
        is running as a service / daemon.

    client/
        cs_statefile.C
    clientgui/
        MainDocument.h
        ViewWork.cpp
        ViewWorkGrid.cpp
    clientscr/
        boinc_ss.rc
        mac_saver_module.cpp
        Mac_Saver_Module.h
        screensaver.cpp
        screensaver_win.h
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

Rom    Jan 30 2008
    - MGR: Change the CC startup logic so that more informative error
        messages.
        
      Policy Change: When installed as a service or daemon, the service
        or daemon manager should start BOINC, not the BOINC Manager.
        (Windows Only for right now, should eventually be applied
         to all platforms)
    - LIB: Revert my previous change that launched graphics apps as
        an idle process.
    - LIB: Take care of some warnings.
        
    clientgui/
        BOINCBaseFrame.cpp, .h
        BOINCClientManager.cpp, .h (Added)
        BOINCGUIApp.cpp, .h
        MainDocument.cpp, .h
    lib/
        util.C

Charlie Jan 30 2008
    - MGR: Fix a few bugs in the new CC startup logic; if configured to 
        run client as a daemon on the Mac, then start / restart it as a 
        daemon when necessary.  Add new source files to XCode project.

    clientgui/
        BOINCClientManager.cpp,.h
        BOINCGUIApp.cpp
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

Rom    Jan 30 2008 (HEAD)
    - Tag for 6.1.8 release, all platforms
      boinc_core_release_6_1_8

Rom    Jan 31 2008
    - WINSETUP: Fix the migration check where sometimes the data directory
        was being detected as within the install directory even though it
        was not.
        
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.rc
        CAMigrateBOINCData.cpp
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll

Eric K  Jan 31 2008
    - Fixed missing symbols in MINGW32 application builds.
    - Fixed some type warnings.

    lib/
        boinc_win.h
        diagnostics_win.h
        md5_file.C
        miofile.C
        procinfo_win.C
        stackwalker_win.cpp

Rom    Jan 31 2008
    - WINSETUP: Don't configure MSI so that it'll attempt to stop the
        BOINC service, we already do it much earlier in the install
        process
    - WINSETUP: Fix two typos in the CACreateBOINCGroups custom
        action.
    - WINSETUP: Include CACreateClientAuthFile in the build now.

    win_build/installerv2/
        BOINC.ism
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.def
        boinccas.vcproj
    win_build/installerv2/redist/Windows/src/boinccas/
        CACreateBOINCAccounts.cpp
        CACreateBOINCGroups.cpp
        CACreateClientAuthFile.cpp, .h (Added)
        CAMigrateBOINCData.cpp
        stdafx.h
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll
David  Jan 31 2008
    - manager: fix unix build (new file)

    clientgui/
        Makefile.am

Rom    Feb 1 2008
    - WINSETUP: disable creation of client_auth.xml on Win2k.
        Win2k requires any user account that is going to attempt
        to logon as another account to have admin privs.
    - WINSETUP: Give 'boinc_project' the right to be able to
        logon as a service, we denied the right to logon
        interactively.
    - WINSETUP: Disable the 'failed to shutdown BOINC service'
        dialog box.
    - CC: Use the client_auth.xml file if present to launch
        boinc applications as boinc_project if it exists.
    - LIB: Use the client_auth.xml file if present to launch
        boinc graphics applications as boinc_project if it
        exists.
        
    client/
        app_start.C
    lib/
        diagnostics_win.C
    lib/
        util.C, .h
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.rc
        CACreateBOINCGroups.cpp
        CACreateClientAuthFile.cpp
        CAGrantBOINCMasterRights.cpp
        CAGrantBOINCProjectRights.cpp
        CAShutdownBOINC.cpp
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll
    win_build/
        boinc_ss.vcproj
        boincmgr_curl.vcproj
        libboinc.vcproj

David  Feb 2 2008
    - add weak auth to am_get_info web RPC (from Nicolas)

    html/user/
        am_get_info.php

David  Feb 2 2008
    - DB code: safe_atof() was returning a float,
        causing a potential loss of precision.
        Change it to double (same as atof())
    - When moderator locks a thread, let them specify reason

    db/
        db_base.h
    html/user/
        forum_moderate_thread.php
        forum_moderate_thread_action.php
        forum_thread.php

David  Feb 3 2008
    - client: limit global prefs mod time to now
    - server: limit global prefs mod time to now
        These changes address the situation where a server
        sends out prefs with mod time far in the future,
        and there's no way to undo them

    client/
        app_start.C
    lib/
        prefs.C,h
    sched/
        handle_request.C
        server_types.C,h
        show_shmem.C

Rom    Feb 3 2008
    - client: remove the auth_type and auth_flag code.
    - client: remove forbid reuse flag.
        
    client/
        http_curl.C, .h

Rom    Feb 3 2008
    - WIN: Update libcurl to 7.18.0
    
    curl/
        <Various Files>

Charlie Feb 5 2008
    - MGR: Set disconnected state when appropriate even when minimized (if 
        GetCoreClientStatus() call from CTaskBarIcon timer routine fails.)
    - MGR: Auto-restart Client only if last connection was to local host.
    - MGR: Test if Client is running after auto-restart, if so reconnect 
        automatically and skip dialog asking user.
    - Mac MGR: Don't skip notifications on Mac when mimimized; show them 
        when user opens Manager window.  Remove incorrect alert text on Mac 
        (telling user to start Manager in same directory as Client.)
    
    clientgui/
        BOINCBaseFrame.cpp
        MainDocument.cpp

David  Feb 5 2008
    - scheduler: send log messages to file, rather than httpd error log,
        when using FCGI (from Carl Christensen)

    lib/
        msg_log.C,h
    sched/
        Makefile.am
        file_upload_handler.C
        handle_request.C
        main.C
        sched_util.C,h
    tools/
        Makefile.am

David  Feb 5 2008
    - scheduler: simplified Carl's checkin (avoid virtual destructors)
    - API: small tweak for standalone

    api/
        graphics2_util.C
    lib/
        msg_log.C,h
    sched/
        Makefile.am
        edf_sim.C
        handle_request.C
        sched_msgs.C,h
        sched_util.C,h
    tools/
        Makefile.am

David  Feb 5 2008
    - trickle handler: make it compile, and add to Makefile.am
        (from Eric Myers)

    sched/
        Makefile.am
        trickle_handler.C

David  Feb 5 2008
    - Manager/client: add the ability to specify a port
        in the manager's "select host" dialog.
        Lets you connect over an SSH tunnel.
        From Der Meister.

    clientgui/
        AdvancedFrame.cpp
        MainDocument.cpp,.h
    lib/
        gui_rpc_client.C,h

David  Feb 5 2008
    - GUI RPC: fix some XML errors (missing / in single-tag elements)
        Fixes #524 (from Nicolas)

    client/
        gui_rpc_server_ops.C
    lib/
        gui_rpc_client_ops.C

David  Feb 5 2008
    - GUI RPC: initialize disk usage structure
        to avoid wacky pie charts at startup
        Fixes #549 (from Der Meister)

    lib/
        gui_rpc_client.h

David  Feb 5 2008
    - delete_file: fix bugs and info text
        Fixes #551 (from Nicolas)

    sched/
        delete_file.C

David  Feb 5 2008
    - win compile fixes

    client/
        sim_util.C
    clientgui/
        BOINCBaseFrame.cpp
        MainDocument.cpp

Rom    Feb 5 2008
    - MGR: Cache the local computer name in statics to avoid functions
        that take awhile to execute.
        
    clientgui/
        MainDocument.cpp

David  Feb 5 2008
    - client: fix compile warning

    lib/
        msg_log.h

Charlie Feb 5 2008
    - MGR: fix compile warning

    clientgui/
        DlgAdvPreferences.cpp

Rom    Feb 6 2008
    - MGR: Fix a refresh bug when opening BOINC Manager from the taskbar.
    
    clientgui/
        BOINCTaskBar.cpp

David  Feb 6 2008
    - file upload handler: the FCGI version wasn't handling signatures,
        because the code to read keys in FCGI was commented out
        (and was in fact wrong).
        I fixed it and uncommented it.
    - make_project and upgrade: copy lib/crypt_prog to project/bin/

    lib/
        crypt.C
        crypt_prog.C
    py/Boinc/
        setup_project.py
    tools/
        sign_executable.C

David  Feb 6 2008
    - API: critical section begin/end calls can be nested
        Fixes #508 (from Nicolas)

    api/
        boinc_api.C

Rom    Feb 7 2008
    - client: expand the <force_ntlm> functionality so that we can
        force any authentication type. The new tag is called
        <force_auth> whihc can contain basic, digest, ntlm, and
        gss-negotiate.
        
    client/
        http_curl.C
        log_flags.C, .h

Charlie Feb 7 2008
    - MGR: If user shuts down connected client, don't auto-relaunch it.
    
    clientgui/
        MainDocument.cpp,.h
        AdvancedFrame.cpp

David  Feb 8 2008
    - scheduler: do "careful update" of workunit.hr_class
        in case someone else changed since we read it.
        Hopefully this will fix a race condition
        where WU results get sent to different HR classes.
        (Alternatively we could use transactions,
        or acquire the semaphore during read/update,
        but this could impact performance).

    db/
        db_base.C,h
    sched/
        sched_hr.C

Rom    Feb 9 2008
    - client: only construct the path to ca-bundle.crt once.
    
    client/
        http_curl.C

David  Feb 9 2008
    - scheduler: fix bone-head mistake in HR code

    client/
        app_control.C
    sched/
        sched_hr.C

David  Feb 12 2008
    - client: removed sprawl

    client/
        app_start.C
        client_state.C,h
        file_names.h
        sandbox.C
    lib/
        util.C,h

David  Feb 12 2008
    - client: if a non-CPU-intensive project already has a job
        (even if suspended or downloading) don't ask for another one
        (from John McLeod)

    client/
        work_fetch.C

David  Feb 12 2008
    - client code: my next-to-last checkin was flawed

    client/
        app_start.C
        client_state.C,h
        sandbox.C
    clientgui/
        BOINCClientManager.cpp
        MainDocument.cpp
    lib/
        common_defs.h
        util.C,h

David  Feb 12 2008
    lib/
        str_util.h

David  Feb 13 2008
    - web: remove all references to the PHP "session" mechanism,
        which added only confusion.
        Implement login directly, using cookies.
    - All cookie setting/clearing now goes through two functions,
        send_cookie() and clear_cookie().
        These deal with path and expiry
        (e.g. if you want to have different language or forum settings
        on two projects on the same server, that now works).

    html/
        inc/
            util.inc
        ops/
            login_action.php
        user/
            account_finish_action.php
            apps.php
            create_account_action.php
            create_account_form.php
            forum_forum.php
            forum_thread.php
            home.php
            language_select.php
            login_action.php
            logout.php
            team.php
            team_lookup.php

David  Feb 13 2008
    - web: make "next URL" mechanism work when user creates new account
        instead of logging in

    html/
        inc/
            util.inc
        user/
            create_account_action.php
            create_account_form.php
            login_form.php

Charlie Feb 14 2008
    - MAC SCR: Use Quartz drawing instead of deprecated QuickDraw APIs.
        Show moving logo with text underneath like Windows screensaver 
        instead of horizontally scrolling banner text.
        
    clientscr/
        mac_saver_module.cpp
        Mac_Saver_Module.h
        Mac_Saver_ModuleView.m,h
        screensaver.cpp
        res/
            boinc_ss_logo.png (new)
            gridrepublic_ss_logo.png (new)
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

David  Feb 15 2008
    - rename cgi.log to scheduler.log
    - fix ops login

    sched/
        main.C
    html/
        login_action.php

Rom    Feb 15 2008
    - client: prevent information disclosure by creating a new environment
        block for applications launched using the 'boinc_project' account.
        
        Windows contains environment variables that describe username,
        domain name, profile directory and even logon server.
        
    - client: correctly parse domain name information from the
        client_auth.xml file when a different account is used for
        'boinc_master'.
    - SCR/MGR: Add two API's to adjust the ACLs on the current users
        desktop and windowstation so that graphics applications can
        properly create controls and dialogs for applications
        launched using 'boinc_project'.
        
    client/
        app_start.C
    lib/
        boinc_win.h
        util.C, .h
    lib/
        win_util.C, .h
    win_build/
        boinc_cli_curl.vcproj
 
 
David  Feb 17 2008
    - web: single quotes in team name HTML didn't work
        because of magic quotes (need stripslashes()).

    html/user/
        team_edit_action.php

David  Feb 17 2008
    - scheduler: fix earlier fix to HR race condition.
        I was doing "careful update" but not checking
        that the # of affected rows is 1
        
    sched/
        sched_hr.C

David  Feb 18 2008
    - web: fix in XML RPC to get pending credit

    html/user/
        pending.php

Charlie Feb 19 2008
    - MAC SCR: Further changes and cleanup of new Mac screensaver; when 
        applications don't support graphics, cycle progress text through 
        tasks like Windows screensaver. Fix crash bug when activity is 
        suspended from a remote host.
    - WIN SCR: Fix bug in Windows code which cycles progress text.
        
    clientscr/
        mac_saver_module.cpp
        Mac_Saver_Module.h
        Mac_Saver_ModuleView.m,h
         screensaver.cpp
        screensaver_win.cpp

Charlie Feb 20 2008
    - Mac client: Fix bug which erroneously set powerpc_emulated_on_i386 
        true for X86_64 native applications.  
        
    client/
        app_graphics.C

David  Feb 20 2008
    - Server: add "job assignment" feature.
        Lets you assign a WU to a particular host,
        to one or all hosts belonging to a user or team, or to all hosts.
        See http://boinc.berkeley.edu/trac/wiki/AssignedWork
        Disabled unless you include <enable_assignment> in config.xml
        Uses a new DB table.
        Tested but only a little.
    - Server: code cleanup; moved result-handling to a new file,
        and removed the PLATFORM_LIST arg to everything
        (put it in SCHEDULER_REQUEST instead)

    api/
        boinc_api.C
    db/
        boinc_db.C,h
        schema.sql
    html/
        inc/
            db_ops.inc
        ops/
            assign.php (new)
            db_update.php
    sched/
        Makefile.am
        feeder.C
        file_upload_handler.C
        handle_request.C
        sched_assign.C,h (new)
        sched_result.C,h (new)
        sched_*
        transitioner.C
    tools/
        Makefile.am
        backend_lib.C,h
        create_work.C

Charlie Feb 20 2008
    - V6 GFX API: exit if parent application is no longer running. When running 
        under a V5 client, the worker app launches the graphics app so this code 
        kills the graphics when the worker application exits.
        Under a V6 client, the Manager or Screensaver launched the graphics app
        so this code kills the graphics when the Manager or Screensaver exits.
    - V6 GFX API: If running under V5 client, notify the client if the graphics 
        app exits (e.g., if user clicked in the graphics window's close box.)
    - Mac V6 GFX: Under sandbox, use switcher to kill graphics app when worker 
        app has exited.

    api/
        boinc_api.C
        graphics2_unix.C
    clientgui/
        MainDocument.cpp

David  Feb 21 2008
    - web: fix message

    html/user/
        user_search.php

Rom    Feb 21 2008
    - Update release libcurl to include the c-ares library on Windows
    
    curl/
        <Various Files>

David  Feb 21 2008
    - scheduler: add <max_ncpus> config option.
        Use this with N=1 if your application primarily uses a coprocessor

    sched/
        sched_config.C,h
        sched_send.C

David  Feb 21 2008
    - scheduler: code cleanup, remove "SCHED_MSG_LOG::" from a zillion places

    sched/*.C

Charlie Feb 21 2008
    - Mac SCR: Horizontaly center the text under the logo in screensaver.
    - Mac: Update GridRepublic branding scripts for new screensaver and to 
        fix bugs when building under OS 10.5 and/or using PackageMaker V3
        (XCode Tools V3).

    clientscr/
        Mac_Saver_ModuleView.m
    mac_installer/
        make_GridRepublic.sh
        release_GridRepublic.sh

Charlie Feb 22 2008
    - Mac SCR: Faster screensaver frame rate, slower maximum logo slew rate 
        (when not displaying application graphics) for smoother motion.

    clientscr/
        mac_saver_module.cpp
        Mac_Saver_ModuleView.m

David  Feb 22 2008
    - scheduler: code cleanup: use global var for SCHED_SHMEM
        instead of passing it around as argument
        (should do same for request and reply at some point)

    sched/sched_*

David  Feb 23 2008
    - client: fix crashing bug in SCHEDULER_OP::backoff().
        Was using cur_proj (which is potentially NULL) instead of p

    client/
        scheduler_op.C

David  Feb 25 2008
    - scheduler: add a general method for excluding hosts from job distribution.
        config.xml has optional <ban_os> and <ban_cpu> elements,
        which contain regular expressions matched against
        os_name\tos_version and p_vendor\tp_model.
        If a host matches either one, it's not sent jobs.
    - scheduler: fix bug in job assignment
    - scheduler: initial (incompleted, commented-out) code for
        matchmaker scheduling
    - server programs: declare "SCHED_CONFIG config" in sched_config.C;
        remove declarations of it from all other .C files
        (because I added a vector to it, I can no longer use memset
        to initialize it to zero; instead, it must be a global variable,
        not an automatic)

    sched/*.C

Rom    Feb 25 2008
    - Update release libcurl to include the c-ares library on Windows
        (debug)
    
    curl/
        <Various Files>

David  Feb 25 2008
    - Manager: compile fix for linux

    clientgui/
        MainDocument.cpp

Rom    Feb 25 2008
    - MGR: Fix the crash on linux when BOINC Manager is shut down.
        (Patch from Michael Roberts)
        
    clientgui/
        AdvancedFrame.cpp

Charlie Feb 25 2008
    - MGR: When connecting to a different host, delete all old messages in 
        message pane (from previously connected client) before getting new 
        messages.
        
    clientgui/
        sg_DlgMessages.cpp
        ViewMessages.cpp

Charlie Feb 25 2008
    - Mac SCR: Display "Starting screensaver graphics. Please wait ..." 
        for 45 seconds each time we start graphics from a different application.
        The application graphics window will hide this when it opens, so we 
        stop showing it after 45 seconds to avoid wasting CPU cycles. 
        
    clientscr/
        mac_saver_module.cpp
        Mac_Saver_Module.h
        screensaver.cpp

David  Feb 26 2008
    - server: make the special substring for assigned WUs
        into a #define's symbol (ASSIGNED_WU_STR)
    - scheduler: when send client command to abort a WU,
        include a reason code in the scheduler log

    lib/
        common_defs.h
    sched/
        handle_request.C
        sched_send.C
        server_types.h
        transitioner.C
    tools/
        backend_lib.C
        create_work.C

Charlie Feb 26 2008
    - Mac sandbox: set ownership and permissions for gfx_switcher in screensaver 
        if it exists.
        
    mac_build/
        Mac_SA_Secure.sh

Charlie Feb 26 2008
    - Mac SCR: Add a test to directly determine when a graphics application
        window obscures our moving logo animation;
        if so, stop showing moving logo to avoid wasting CPU cycles. 

    clientscr/
        mac_saver_module.cpp
        Mac_Saver_Module.h
        Mac_Saver_ModuleView.m,h
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

Charlie Feb 27 2008
    Mac: In build scripts: fix bug, add checks for needed SDKs; update build 
        documentation (from Bernd Machenschalk.)

    mac_build/
        HowToBuildBOINC_XCode.rtf
        buildc-ares.sh
        buildcurl.sh
        buildjpeg.sh
        buildWxMac.sh
        setupForBOINC.sh

David  Feb 27 2008
    - Scheduler: fix bugs in work assignment feature

    html/ops/
        assign.php
    sched/
        handle_request.C
        main.C
        sched_assign.C
        sched_msgs.C,h
        sched_send.C
    tools/
        create_work.C

David  Feb 27 2008
    - changes to many files to fix gcc4.3 compile

Rom    Feb 27 2008
    - MGR/SCR: run_program should explicitly set the desktop
        and window station to whichever desktop and window station
        the app launching it belongs. If access is denied then
        change the ACLs on the current desktop and window station
        then attempt to relaunch the application.
        
    lib/
        util.C

Charlie Feb 28 2008
    - MGR: When connected host has changed, clear all cached messages and 
        resume auto-scrolling messages.
        
    clientgui/
        MainDocument.cpp
        ViewMessages.cpp

Rytis   Feb 28 2008
    - User web: fix (at least part of) long threads issue.
    
    html/inc/
        forum.inc

Charlie Feb 28 2008
    - MGR: When connected connecting to a different host, clear all cached 
        messages (a more efficient implementation).
        
    clientgui/
        MainDocument.cpp
 
Rom    Feb 28 2008
    - CLI: CreateEnvironmentBlock always creates a Unicode Environment block.
    - MGR: CreateProcessAsUser doesn't always error out when the ACLs haven't
        been changed for a specific Desktop and WindowStation so go ahead
        and Modify the ACLs with every call. It appears the ACLs revert
        themselves after CreateProcessAsUser is called anyway.
        
    client/
        app_start.C
    lib/
        util.C

Rom    Feb 28 2008 (HEAD)
    - Tag for 6.1.9 release, all platforms
      boinc_core_release_6_1_9

    /
        configure.ac
        version.h

David  Feb 28 2008
    - make_project: initialize send_result_abort=1 in config file
    - web: "least recent" => "oldest", "most recent" => "newest"
    - scheduler: change DELAY_NO_WORK_CACHE from 20 min to 0.
        Otherwise, a host that has max_wus_in_progress,
        completes one, and sends a work request before the upload is finished
        will delay (and maybe sit idle) for 20 min.
        Better to have a few extra scheduler requests
        and let the client's backoff take care of things.

    html/inc/
        forum.inc
    py/Boinc/
        setup_project.py
    sched/
        main.h
        sched_send.C
        server_types.C

Rom    Feb 29 2008
    - lib: remove references to LogonUserEx which does not exist on Win2k or
        older machines.
    - lib: comment out the CreateProcessAsUser code for graphics apps.
        (this is temporary)
        
    lib/
        util.C
        win_util.C, .h


Rom    Feb 29 2008
    - Change libcurl to use sync DNS on Windows (Release version only)
    
    curl/
        <Various Files>

Rytis  Mar 2 2008
    - make_project: copy javascript files to html/user.
    
    py/Boinc/
        setup_project.py

David  Mar 3 2008
    - transitioner: we're not supposed to ever see "assigned" WUs.
        But if we do, set their transitioner time to plus infinity
        so that we don't see them again.
        (otherwise we go into an infinite loop)
    - DB code: remove "high_priority" from queries not from scheduler
        (should probably remove them from there too)
    - file_deleter: print error msg if apache user doesn't exist

    db/
        boinc_db.C
    sched/
        feeder.C
        file_deleter.C
        transitioner.C
    tools/
        create_work.C

Charlie Mar 4 2008
    - MGR: Disallow multiple selections in grid views.

    clientgui/
        ViewProjectsGrid.cpp,.h
        ViewTransfersGrid.cpp,.h
        ViewWorkGrid.cpp,.h

David  Mar 4 2008
    - web: fixed typo that cause bad (and slow) query
        when notifying user of friend acceptance on web

    html/inc
        friend.inc

David  Mar 4 2008
    - server: added a mechanism for submitting jobs as:
        > boinc_submit --infile foo --outfile blah program --args
        This will run "program" on a remote host,
        with the given input, output files, and command-line args

        It manages everything for you.
        You don't have to worry about apps, app_versions,
        template files, wrapper job files, etc.
        See: http://boinc.berkeley.edu/trac/wiki/SingleJob

        Initial checkin - not debugged yet.

    html/
        inc/
            boinc_db.inc
        ops/
            single_job_setup (new)
    sched/
        Makefile.am
        feeder.C
        single_job_assimilator.C (new)
    tools/
        backend_lib.C
        boinc_submit (new)
        create_work.C

Charlie Mar 4 2008
    - MGR: Allow multiple selections in Transfers grid view only 
        (requested by Jorden van der Elst).  The Transfers tab is 
        the only grid view where the buttons did work properly with 
        multiple selections, so there is no reason to disable it.
        The other tabs disabled all buttons when multiple items were 
        selected, so allowing multiple selections was confusing to 
        users.
    - MGR: When order of rows in grid views changes (due to sorting or 
        changes in data), reselect the same data in the rearranged rows
        using:
            Projects tab: project name only
            Tasks tab: project name and work unit (task) name
            Transfers tab: project name and file name
            Messages tab: sequence number only.
    - MGR: set m_bForceUpdateSelection=true when deleting rows from grid 
        views.  Fixes bug: if the last row was selected and is deleted, 
        the new last row is automatically selected but the buttons were 
        not updated to reflect the new selection.

    clientgui/
        BOINCGridCtrl.cpp,.h
        ViewMessagesGrid.cpp
        ViewProjectsGrid.cpp
        ViewTransfersGrid.cpp
        ViewWorkGrid.cpp

Charlie Mar 5 2008
    - MGR: Add hidden project URL column to Tasks, Projects and Tansfers 
        Grid Views; use the project URL instead of the project name to 
        identify items.  The criteria for identifying an entry and its 
        underlying data are now:
            Projects tab: project URL only
            Tasks tab: project URL and work unit (task) name
            Transfers tab: project URL and file name
            Messages tab: sequence number only.

    clientgui/
        BOINCGridtrl.cpp
        MainDocument.cpp,.h
        ViewMessagesGrid.cpp
        ViewProjectsGrid.cpp,.h
        ViewTransfersGrid.cpp,.h
        ViewWorkGrid.cpp,.h

David  Mar 5 2008
    - server: debugged single-job submission feature.
        It works, at least in my test case.
    - boinc_submit script:
        show status every 10 seconds until completed
        add --wait option to show status for previous submission
    - Added get_logical_name() in validate_util.C
    - create_work: change default target_nresults from 5 to 2,
        max_error_results from 10 to 3,
        max_total_results from 20 to 10,
        max_success_results from 10 to 6
    - boinc_cmd: show full usage if no args
    - project setup: copy single_job_assimilator

    html/
        inc/
            boinc_db.inc
        ops/
            single_job_setup
    lib/
        boinc_cmd.C
        error_numbers.h
    py/Boinc/
        setup_project.py
    sched/
        single_job_assimilator.C
        validate_util.C,h
    tools/
        boinc_submit
        create_work.C

Eric K  5 Mar 08
    - Matched function linkage in api/graphics2.h to those in 
      api/graphics_api.h

    api/
      graphics2.h

David  5 Mar 2008
    - web: minor code cleanup

    html/
        inc/
            util.inc
        user/
            hosts_user.php
            white.css

Charlie Mar 6 2008
    - MGR: Fully implement support for multiple selections in Tasks 
        and Projects grid views.  Handles conflicts as follows:
          - Disables buttons which change functions (Suspend / Resume, 
            No New Tasks / Allow New Tasks) if user selects a mix of 
            items inconsistent with either function.  
          - Disables any buttons (Show Graphics, Abort) which would be 
            disabled for any one of the selected items.
          - Disables and hides project web site buttons if items from 
            more than one project are selected.
          - For operations which require confirmation (Abort, Reset,
            Detach) asks in a separate dialog for each selected item. 
            User can answer NO to some and YES to others and it will 
            perform the operation only on those with a YES response.
        - Added two defines: PREVENT_MULTIPLE_TASK_SELECTIONS and 
            PREVENT_MULTIPLE_PROJECT_SELECTIONS in the corresponding 
            header files.  Both are currently defined false.  Define 
            these as true to restrict that tab to single-selections.
    
    clientgui/
        ViewProjectsGrid.cpp,.h
        ViewWorkGrid.cpp,.h

Rom    6 Mar 2008
    - CLI: Make the CreateProcessAsUser process work again on Windows.
        It broke after the change of removing the call to LogonUserEx.

    client/
        app_start.C
    lib/
        util.C

Rom    6 Mar 2008
    - MGR: Fix build breaks on Windows
    
    clientgui/
        ViewProjectsGrid.h
        ViewWorkGrid.cpp, .h
    win_build/
        boincmgr_curl.vcproj

Rytis   6 Mar 2008
    - User web: translate some strings in forum.inc (fix #496).
    
    html/
        inc/
            forum.inc
        languages/
            en.po

David  6 Mar 2008
    - lib: add Win function to suspend or resume all threads in a process

    lib
        win_util.C,h

Rom    6 Mar 2008
    - lib: Remove SEH exception handling from MS sample code.
    
    lib/
        win_util.C

David  6 Mar 2008
    - admin web: fix profile screen form formatting
    - web: remove get_transform_settings_from_user().
        There's only get_output_options()

        NOTE: why is text_transform() doing stripslashes()?
        The slashes shouldn't be in the DB in the first place.
        There's some fundamental confusion here.

    - web: fix uotd.php

    html/
        inc/
            forum.inc
            profile.inc
            text_transform.inc
        ops/
            profile_screen_form.php
        user/
            uotd.php

David  6 Mar 2008
    - web: error-check the destination thread for moderation moves

    html/user/
        forum_moderate_post_action.php

David  7 Mar 2008
    - removed boinc_ncpus_available() and boinc_nthreads() calls.
        The design has been changed to constant #threads per app version

    api/
        boinc_api.C,h
    client/
        app_control.C
    html/inc/
        stats_sites.inc

David  7 Mar 2008
    Various changes from Kevin Reed/WCG:
    - server: add workunit.rsc_bandwidth_bound: if nonzero,
        send this WU only to hosts with that much download bandwidth
    - assimilators: if a handler returns DEFER_ASSIMILATION,
        the WU remains in INIT state and will be handled when the
        next instance completes.
        Useful if you want the assimilator to see all instances.
    - scheduler: when setting result.outcome = DETACHED,
        set received_time to now
    - scheduler: removed the reliable_time and reliable_min_avg_credit
        options
    - scheduler/web: add optional <allow_non_preferred_projects>
        in project preferences.
        If present, user will accept work from non-selected apps
        if no work is available for selected apps
    - scheduler: improved messages for projects with multiple apps
    - scheduler: added config options
        <granted_credit_weight> and <granted_credit_ramp_up>.
        Used in calculating host.claimed_credit_per_cpu_sec,
        but I'm not sure how.
    - Added two new credit-granting formulas (validate_util.C):
        stddev_credit() and two_credit()
    - server DB: add rollback_transaction() and affected_rows() to DB_CONN

    NOTE: DB update required

    db/
        boinc_db.C,h
        db_base.C,h
        schema.sql
    html/ops/
        db_update.php
    lib/
        str_util.h
    sched/
        assimilate_handler.h
        assimilator.C
        feeder.C
        handle_request.C
        sched_assign.C
        sched_config.C,h
        sched_send.C,h
        server_types.C,h
        transitioner.C
        validate_util.C,h
        backend_lib.C
        create_work.C

Charlie Mar 7 2008
    - MGR: restore intended sense of #defines and #if which were incorrectly 
        changed to fix Windows build breaks.
        
    clientgui/
        ViewProjectsGrid.h
        ViewWorkGrid.h

David  Mar 9 2008
    - Manager: avoid asserts on Linux
    - Lib: compile fixes for MinGW

    clientgui/
        AdvancedFrame.cpp
    lib/
        util.C

David  Mar 10 2008
    - server: fix botched checkin from 7 March.
        The new field (workunit.rsc_bandwidth_bound)
        goes at the END of the record.
        Always do it this way!
    - make_work: after creating a batch of new WUs,
        we were waiting 60 sec for the transitioner to
        create the results for them
        (so that our next count of unsent results would be correct).
        This is bogus; if e.g. the transitioner isn't running,
        we'll never get the results, and we'll keep creating WUs forever.

        Instead: explicitly wait for there to be results for
        the last WU from the batch just created.

    - scheduler: parse <allow_non_preferred_apps>, <allow_beta_work> correctly.

    db/
        schema.sql
    html/ops/
        db_update.php
    sched/
        make_work.C
        send.C

David  Mar 10 2008
    - client: preliminary support for detecting and reporting coprocessors
        (for now, CUDA devices)

    client/
        client_state.C,h
        cs_scheduler.C
        procinfo_unix.C (deleted)
    lib/
        Makefile.am
        coproc.C,h (new)

David  Mar 10 2008
    - lib: moved "run program as user" stuff to a separate file,
        so it doesn't screw up the linkage of apps that don't use it
    - start of server-side support for coprocessors

    client/
        auto_update.C
        main.C
    clientgui/
        BOINCClientManager.cpp
        MainDocument.cpp
    lib/
        Makefile.am
        coproc.C,h
        proc_control.C,h (new)
        util.C,h
    sched/
        server_types.C,h

David  Mar 10 2008
    - Second pass at the above.  We still need run_program() in util.C.
        The problem was that there's a lot of extra stuff needed
        for running apps on Windows (e.g. related to sandboxing).
        This needed to be a new function.

    clientgui/
        MainDocument.cpp
    clientscr/
        screensaver.cpp
    lib/
        Makefile.am
        proc_control.C,h
        util.C,h

David  Mar 10 2008
    - Added API makefile for MinGW (from Pasquale Tricarico)

    api/
        Makefile.mingw
    lib/
        proc_control.h

Charlie Mar 10 2008
    - Client: Rework write_state_file logic to always retry if there is an 
        error writing or renaming the state file, and to show warning messages 
        Can't rename / Can't write state file only if it failed all retries or 
        if the state_debug log flag is set.  These messages have appeared from 
        time to time and worry users, but they never seemed to signal any real 
        problems, probably because the subsequent retry succeeded.       
    - Client: Fix build breaks and compiler warnings on Mac.
    - Client: Add new source files to XCode project.
    
    client/
        app_start.C
        client_state.C
        cs_statefile.C
    clientgui/
        MainDocument.cpp
        ViewProjectsGrid.cpp
        ViewWorkGrid.cpp
    lib/
        coproc.C
        util.C
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

David  Mar 11 2008
    - web: show venues in private host list
    - compile fixes

    client/
        cs_statefile.C
    clientgui/
        MainDocument.cpp
    html/
        inc/
            host.inc
        user/
            show_host_detail.php
            hosts_user.php

Charlie Mar 11 2008
    - Client: Retry entire write_state_file routine from the beginning if there is 
        an error writing or renaming the state file, not just the step that failed.

    client/
        cs_statefile.C

Charlie Mar 11 2008 (HEAD)
    - Tag for 6.1.10 release, all platforms
      boinc_core_release_6_1_10

    /
        configure.ac
        version.h

Rom    Mar 11 2008
    - CLI: Adjust the shared memory ACLs so that everybody can read/write to
        them, the default ACL limits read/write access to SYSTEM and boinc_master
        when run in secure mode.
        
    lib/
        boinc_win.h
        shmem.C

Rom    Mar 13 2008
    - API: Include 'Global\' in the shared memory segment name for worker and
        graphics applications so that the memory can be shared across terminal
        server sessions.
    - API: Add some trace messages to window creation and shutdown events, it
        is all logged to stderr.
    - API: Add some trace messages for loading graphic files.
    - API: Add some trace messages for loading font files.
    - API: There can be only one hInstance and it is assigned to the app at
        startup via winmain(). Use it throughout the graphics2 impl.
    - CC: Use the service security token to startup worker applications.
    - MGR: Use the interactive security token to startup graphics
        applications.
    - LIB: Create two different logon methods, one for logging on interactively
        (graphics applications) and one for services (worker application).

    api/
        graphics2_util.C
        graphics2_win.C
        gutil.C
        txf_util.C
    client/
        app_start.C
    lib/
        proc_control.C, .h
    win_build/
        boincmgr_curl.vcproj

David  Mar 13 2008
    Various preparation for handling multithreaded apps
    and apps that use coprocessors.
    There now can be several app_versions for the same
    (app, platform, version_num) combination.
    This changes a number of things.

    - Added app_version.plan_class field to DB
    - update_versions now looks for a :plan-class in the
        file or directory name, and puts it in the app_version's DB record
    - Change uniqueness constraint to include plan_class
    - Feeder: the feeder was putting non-deprecated app_versions
        in shared mem, and leaving it to the scheduler to
        find the latest version for a given platform.
        This is dumb.
        Instead, for each app/platform pair the feeder now
        finds the highest version number of a non-deprecated app version,
        and enumerates all non-deprecated app_versions with that
        app/platform/version
    - Scheduler: add a BEST_APP_VERSION data structure that keeps track,
        for each app, what the best app_version is for this host.
        This saves the work of recomputing it for each job.

    db/
        boinc_db.C,h
        constraints.sql
        schema.sql
    html/ops/
        db_update.php
    py/Boinc/
        database.py
    sched/
        sched_array.C
        sched_assign.C
        sched_send.C,h
        sched_shmem.C,h
        server_types.h
    tools/
        update_versions

Charlie Mar 13 2008
    MGR: Hopefully fix a crash bug.
    
    clientgui/
        BOINCGridCtrl.cpp

David  Mar 13 2008
    - Validator framework: remove some consts, and other changes,
        to allow validator to assign different credit
        to different instances of a job
    - Scheduler: if can't open DB, return <project_is_down/>
        (fixes #578)
    - clean up logic of modify_claimed_credit
    - feeder: for -priority_order_create_time, use workunitid
        rather than create time (faster for the DB)
    from Kevin Reed

    sched/
        feeder.C
        handle_request.C
        sample_bitwise_validator.C
        sample_trivial_validator.C
        sched_send.C
        server_types.C,h
        transitioner.C
        validate_util2.C,h
        validator.C

Charlie Mar 13 2008
    MGR: Fix flicker in projects tab website buttons.
    API: fix a compiler warning which was an actual logic error.
    
    clientgui/
        ViewProjectsGrid.cpp
    api/
        texfont.C

Rom    Mar 13 2008
    - API: Attempt to use the 'Global' tag first, if the API
        returns an ERROR_ACCESS_DENIED error code fallback
        to the original shmem_name.
        
    api/
        graphics2_util.C
    lib/
        shmem.C

David  Mar 14 2008
    - Add "opaque" field to APP_INIT_DATA (for passing #threads, etc.)

    lib/
        app_ipc.C,h

David  Mar 14 2008
    - web: fixed bugs in Bulgarian translation file

    html/inc/
        translation.inc
    languages/translations/
        bg.po

Rom    Mar 14 2008
    - SS: Launch the graphics app as the user instead of 'boinc_project'.
    - MGR: Launch the graphics app as the user instead of 'boinc_project'.
    
    clientgui/
        MainDocument.cpp
    clientscr/
        screensaver.cpp

Reinhard Mar 15 2008
     - fixed internal library dependencies in Makefile.am's

     Makefile.incl
     clientgui/
        Makefile.am
     tools/
        Makefile.am
     apps/
        Makefile.am
     client/
        Makefile.am
     sched/
        Makefile.am
     api/
        Makefile.am

David  Mar 16 2008
    - compile fix

    clientgui/
        ViewWorkGrid.cpp

Charlie Mar 17 2008
    - compile fix

    clientscr/
        screensaver.cpp

Rom    Mar 18 2008
    - MGR: Fix a crash in the simple GUI.
        NOTE: Do not use the at() function on a vector unless you
        also use a try/catch handler.
    - MGR: Remove code duplication 
      
    clientgui/
        sg_ClientStateIndicator.h
        sg_ProgressBar.cpp, .h
        sg_ViewTabPage.cpp

Rom    Mar 18 2008
    - MGR: For Grid enabled views, ignore selection events when
        saving and restoring selections.
    - MGR: Cleanup warnings in Grid views.
    
    clientgui/
        BOINCBaseView.cpp, .h
        BOINCGridCtrl.cpp
        ViewMessagesGrid.cpp
        ViewProjectsGrid.cpp
        ViewTransfersGrid.cpp
        ViewWorkGrid.cpp

David  Mar 18 2008
    - admin web: touch reread_db in manage_app_versions.php
    - DB code: remove "is_high_priority" stuff.
    - scheduler: merge find_app_version() into get_app_version().
        Have the latter memoize its results (both positive and negative).
        Have it call app_plan() for apps with nonempty plan_class.
    - scheduler: first steps towards improved selectability of log messages.
        It will eventually be like the client,
        where you can select among various types of messages.
    - feeder: if can't unlink the reread_db trigger file, exit
        (else we'd go into an infinite loop)
        
    db/
        db_base.C,h
    html/ops/
        manage_app_versions.php
    sched/
        Makefile.am
        feeder.C
        sched_*.C

Charlie Mar 19 2008
    - Client: Update coprocessor CUDA library code for Mac (not yet tested.)
    - Fix Mac crash backtrace code to work with OS 10.5. Use the new 
        officially supported APIs backtrace() and backtrace_symbols_fd() 
        under OS 10.5 or later, continue to use older code on earlier 
        systems without these APIs.
    - Mac: Change back to saving unstripped Client and Manager executables for 
        symbol tables rather than separate .dSYM files, which cannot be loaded 
        by atos command-line utility.  This also lets user substitute the 
        unstripped executable into application bundle to get backtraces with 
        symbols when debugging a crash in the field.  Set visibility of all 
        variables in Client and Manager to not be hidden so they appear in 
        crash dumps.
    
    lib/
        coproc.C
        mac/
            mac_backtrace.C
    mac_build/
        boinc.xcodeproj/
            project.pbxproj
        buildWxMac.sh
    mac_installer/
        release_boinc.sh
        release_GridRepublic.sh

David  Mar 19 2008
    - client (Unix): use symbolic links instead of XML link files.
        This will allow applications to access shared libraries
        by their logical names,
        which simplifies things when you have multiple platforms,
        and the apps (or libraries) refer to shared libraries
        by names that don't include the platform.
        This shouldn't impact the API - boinc_resolve_filename()
        will open the file, see that it's not an XML link file,
        and the symbolic link will be used directly.
        At some point we can change boinc_resolve_filename() on Unix
        to be a no-op if the client is 6.2+
    - client (Unix):
        Append the slot dir to LD_LIBRARY_PATH.
    - update_versions: added a feature where you can put a file
        "extra_xml" in the app dir, and it will get included in
        the app versions's xml_doc.
        Turns out I don't need this right now, but may as well leave it in.

    client/
        app_start.C
        client_types.C,h
    lib/
        boinc_cmd.C
        error_numbers.h
    py/Boinc/
        tools.py
    tools/
        update_versions

David  Mar 19 2008
    - client: fixes to the above.  Need to use lstat() instead of stat()
        so that we see the symlink, not what it's pointing to

    client/
        app_start.C
    lib/
        filesys.C

David  Mar 19 2008
    - forgot to add new files
    - scheduler: wreq.core_client_version was being computed in
        resend_lost_results() (which isn't necessarily called)
        but its value was used elsewhere.

    sched/
        sched_plan.C,h (new)
        sched_resend.C
        sched_send.C

Charlie Mar 20 2008
    - Client: fix  a compiler warning which indicated a real logic error
        (variable used uninitialized).
    - Mac: More work on backtrace code: run atos utility via a bidirectional
        pipe instead of backtrace_symbols_fd() API to get better symbols
        in backtrace.  
        Set visibility of all variables in Client and Manager back to hidden
        (as before) to reduce size of executables,
        since atos utility can use hidden symbols.
        This also involves return to previous wxWidgets build script.
       
    client/
        app_start.C
    lib/
        mac/
            mac_backtrace.C
        buildWxMac.sh

David  Mar 20 2008
    - updated GeoIP stuff

    html/inc/
        GeoIP.dat
        geoip.inc

Charlie Mar 20 2008
    - Mac: Update sandbox security for symlinks replacing xml soft links.
    
    client/
        check_security.C
    clientgui/
        mac/
            SetupSecurity.cpp

Charlie Mar 21 2008
    - Mac: Another sandbox security update for symlinks: setprojectgrp calls 
        lchown() instead of chown().
    
    client/
        setprojectgrp.C

Charlie Mar 21 2008
    - Mac: More sandbox security changes for symlinks: lchown is not available 
        under OS 10.3.9, so don't use it.  The system ignores ownership and 
        permissions of symbolic links, so setprojectgrp does nothing if it is  
        called for a symbolic link.  
        Also make additional changes to check_security and SetupSecurity.
    
    client/
        check_security.C
        setprojectgrp.C
    clientgui/
        mac/
            SetupSecurity.cpp

Charlie Mar 27 2008
    - Mac: When invoked with the -lib argument, BOINC build script builds the 
        utility application MakeAppIcon_h in addition to the three libraries 
        libboinc_api.a, libboinc_graphics2.a and libboinc.a.

    mac_build/
        BuildMacBOINC.sh

Rom    Mar 27 2008
    - WINSETUP: Hide the 'boinc_master' and 'boinc_project' user profiles after
        the accounts have been created.
    - WINSETUP: Return the user rights to a known good state for 'boinc_master',
        'boinc_project', 'boinc_admins', 'boinc_users', and 'boinc_projects'.
        
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.cpp
        boinccas.def
        boinccas.vcproj
        CAGrantBOINCAdminsRights.cpp, .h (Added)
        CAGrantBOINCMasterRights.cpp
        CAGrantBOINCProjectRights.cpp
        CAGrantBOINCProjectsRights.cpp, .h (Added)
        CAGrantBOINCUsersRights.cpp, .h (Added)
        CAHideBOINCMasterProfile.cpp, .h (Added)
        CAHideBOINCProjectProfile.cpp, .h (Added)
        lsaprivs.cpp, .h
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll

David  Mar 27 2008
    Changes for multithread app support:

    - update_versions: use __ (not :) as separator for plan class
    - client: add plan_class to APP_VERSION;
        an app version is now identified by platform/version/plan_class
    - client CPU scheduler: don't assume apps use 1 CPU
    - client: add avg_ncpus, max_cpus, flops, cmdline to RESULT
    - scheduler: implement app planning scheme

    Other changes:

    - client: if symlink() fails, make a XML soft link instead
        (for Unix running off a FAT32 FS)
    - client: don't accept nonpositive resource share from AMS
    - daemons and DB: check for error returns from enumerations,
        and exit if so.  Thus, if the MySQL server goes down,
        all the daemons will soon exit.
        The cron script will restart them every 5 min,
        so when the DB server comes back up so will the project.
    - web: show empty max CPU % as ---
    - API: get rid of all_threads_cpu_time option (always the case now)

    api/
        boinc_api.C,h
    client/
        acct_mgr.C
        app.C,h
        app_start.C
        client_state.C,h
        client_types.C,h
        cpu_sched.C
        cs_scheduler.C
        cs_statefile.C
    configure.ac
    db/
        boinc_db.C,h
    html/inc/
        countries.inc
        prefs.inc
    lib/
        app_ipc.C,h
        error_numbers.h
        shmem.C
    sched/
        assimilator.C
        db_purge.C
        feeder.C
        file_deleter.C
        make_work.C
        message_handler.C
        sched_array.C
        sched_assign.C
        sched_locality.C
        sched_plan.C,h
        sched_resend.C
        sched_send.C,h
        server_types.C,h
        validator.C
    tools/
        update_versions
    version.h

David  Mar 27 2008
    - Library: switch from lstat() back to stat() most places;
        this broke some projects' back-end code.
        Make a new function (boinc_file_or_symlink_exists())
        for use by the client when clearing out slot dirs

    client/
        sandbox.C
    lib/
        filesys.C,h

David  Mar 27 2008
    - client: fix problems with queue shrinkage when projects
        are running in EDF (from JM7)

    client/
        work_fetch.C

David  Mar 27 2008
    - DB: workunit.rsc_bandwidth needed to go after mod_time

    db/
        schema.sql

David  Mar 27 2008
    - scheduler: add "distinct_beta_apps" option;
        lets users filter out beta apps as well as others
        (from Nicolas Maire)

    sched/
        sched_send.C
        sched_config.C,h

David  Mar 27 2008
    - web: on completion of team foundership transfer,
        clear ping_user and ping_time fields
    - web: fix outdated update_forum_activities script

    html/
        ops/
            db_update.php
            update_forum_activities.php
        user/
            team_founder_transfer_action.php

Charlie Mar 28 2008
    - Mac Sandbox: Fix bug setting permissions for symlinks.
    - Mac: Show (make visible) Manager if displaying sandbox errror dialog.

    clientgui/
        BOINCGUIApp.cpp
        mac/
            SetupSecurity.cpp

David  Mar 28 2008
    - server and client:
        in server->client reply messages and in the client itself,
        move app-planning info from RESULT to APP_VERSION.
        This was necessary to allow anonymous platform info (app_info.xml)
        to specify avg_ncpus, etc.
        e.g., if someone wants to write a multithread version of SETI@home,
        or a GPU/CUDA version,
        they can run it using the anonymous platform mechanism
        and it will be scheduled correctly.

        If a server sends an existing APP_VERSION but with different
        app-planning info, the client will accept and use the new info.

    client/
        app_start.C
        client_types.C,h
        cpu_sched.C
    db/
        boinc_db.h
    sched/
        sched_send.C
        sched_plan.C
        server_types.C

David  Mar 28 2008
    - scheduler: fix crash bug

    sched/
        sched_send.C

David  Mar 28 2008
    - some debugging code
    client/
        client_state.C
    lib/
        coproc.C,h

David  Mar 28 2008
    - client: debug coprocessor code

    client/
        client_state.C
        cs_scheduler.C
    lib/
        coproc.C,h

David  Mar 29 2008
    - try to get API to compile on Cygwin

    api/
        boinc_api.C
    client/
        app.C
        cpu_sched.C
    lib/
        coproc.h

Janus  Mar 30 2008
    - Fixed the error message when the scheduler rejects further work
      due to the client already having enough work per CPU as per the
      max_wus_in_progress configuration variable.
      
    sched/
        sched_send.C

David  Mar 31 2008
    - DB/feeder/scheduler: change app_version.xml_doc from blob to mediumblob,
        and change the correspending structure field from 64KB to 256KB
        (could increase this if needed).
        This is needed to handle app versions with lots (> 100) of files
    - change LARGE_BLOB_SIZE to BLOB_SIZE a bunch of places
    - Change COPROCS from vector<COPROC> to vector<COPROC*>.
        Otherwise the right virtual functions of COPROCs don't get called

    db/
        boinc_db.C,h
        schema.sql
    html/ops/
        db_update.php
    lib/
        coproc.h
    sched/
        *.C
        server_types.h

David  Mar 31 2008
    - graphics API: add a boinc_close_window_and_quit() function

    api
        graphics2.h
        graphics2_win.C

Rom    Mar 31 2008
    - WINSETUP: Explicitly set the permissions on the BOINC Data
        directory structure during every install.

    win_build/
        boincmgr_curl.vcproj
    win_build/installerv2/
        BOINC.ism
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.def
        boinccas.rc
        boinccas.vcproj
    win_build/installerv2/redist/Windows/src/boinccas/
        CASetPermissionBOINCData.cpp, .h (Added)
        CASetPermissionBOINCDataProjects.cpp, .h (Added)
        CASetPermissionBOINCDataSlots.cpp, .h (Added)
        dirops.cpp, .h
        stdafx.h
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll

Rom    Mar 31 2008 (HEAD)
    - Tag for 6.1.12 release, all platforms
      boinc_core_release_6_1_12

    /
        configure.ac
        version.h

David  April 1 2008
    - client: add coprocessor support: i.e., parse the list of coprocs
        in <app_version>s from the server,
        keep track of the number free of each type of coproc,
        and don't run an app that needs more than are available.
        (not quite working yet)

    client/
        app_control.C
        app_start.C
        client_state.C,h
        client_types.C
        cpu_sched.C
        cs_scheduler.C
    lib/
        coproc.C,h

Rom    April 1 2008
    - client: Per Carl's recommendation add CURLOPT_POST301 to the
        list of curl options used so that the followups to redirects
        still post instead of get.
        
    client/
        http_curl.C

David  April 1 2008
    - client: finish and debug coprocessor support
    - manager and GUI RPC: show plan class in app version string

    client/
        client_types.C
        cpu_sched.C
        cs_scheduler.C
        cs_statefile.C
        scheduler_op.C
        sim.h
    clientgui/
        ViewWork.cpp
        ViewWorkGrid.cpp
    lib/
        coproc.C,h
        gui_rpc_client.h
        gui_rpc_client_ops.C
    win_build/
        sim.vcproj

David  April 1 2008
    - client (Unix): don't follow symbolic links when
        computing directory size.
        This will avoid counting the size of executables and input files
        in slot directories.

    lib/
        filesys.C

Eric K  April 1 2008
    - Build fixes for non-Win32, non-Linux, non-MacOS systems.
    - configure script: 
        - Added checks for functions strdup(), strdupa(), 
            daemon(), stat64(), strcasestr()
        - Fixed problems with kc_mysql.m4 and wxWidgets.m4 returning
        invalid CFLAGS and LIBS flags.
    - Fixed incorrect order of pthread flag checking on solaris.
    - New files: lib/unix_util.[Ch].  Currently contains implementation of
        daemon() for systems that lack it.
    - Access to binary files in /proc was failing on some systems when compiled
        with 64 bit file access.  Rearranged headers and defines to force 32bit
        file access in hostinfo_unix.C
    - all_tty_idle() didn't work as advertised on any system as far as I can
        tell.  I rewrote it to check ttys that are not named /dev/tty[1-9].
        The old implementation was modifying a statically allocated read-only
        string, anyway.
    - added implementation of non-standard function strcasestr() to str_util.C
    - added #define of MAP_FILE to shmem.C, because it is missing from most
        unix systems, (and is unnecessary on linux anyway).
    - other minor bug fixes.

    configure.ac
    client/
        main.C
        hostinfo_unix.C
    m4/
        kc_mysql.m4
        acx_pthread.m4
        wxWidgets.m4
    lib/
        str_util.[Ch]
        shmem.C
        unix_util.[Ch]
        parse.h
        Makefile.am
    api/
        graphics2_util.C

Charlie April 1 2008
    - Graphics API: Add boinc_close_window_and_quit() API to UNIX / Mac lib.
    - Mac: Fix compiler warning.
    - Mac: Remove -fvisibility* compiler flags from BOINC library builds 
        and boinc_cmd build.
    
    api/
        graphics2_unix.C
    client/
        hostinfo_unix.C
    mac_build/
        boinc.xcodeproj/
            project.pbxproj

David  April 2 2008
    - Client/server protocol:
        send <client_cap_plan_class/> if client understands
        app version plan class.
        The server checks for this instead of version > 6.11.
        (suggested by Nicolas Alvarez)
    - clean up unix_util: .h files declare only (extern) interfaces;
        no reason for daemon() to be C

    client/
        cs_scheduler.C
    lib/
        unix_util.C,h
    sched/
        sched_plan.C
        sched_send.C
        server_types.C,h

David  April 2 2008
    - compile fixes for gcc 4.x; fixes #592

    lib/
        coproc.h
    sched/
        single_job_assimilator.C
    tools/
        backend_lib.h

David  April 2 2008
    - scheduler: bug fix for case when app version XML is > 64KB
    
    sched/
        server_types.C

David  April 2 2008
    - server: when creating log dir, we were using wrong bit for sticky flag

    sched/
        sched_util.C

Rom    April 2 2008
    - WINSETUP: Make sure the executable permissions are setup correctly
        after the binaries are installed.
        
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.def
        boinccas.vcproj
        CASetPermissionBOINC.cpp, .h (Added)

Rom    April 3 2008
    - WINSETUP: Inform MSI that a reboot is suggested after creation of
        'boinc_master', 'boinc_project', 'boinc_admins', 'boinc_users',
        'boinc_projects'.
    - WINSETUP: Reread the INSTALLDIR property from the registry to
        determine if their is data to migrate. INSTALLDIR is changed to
        whereever the user wants to install BOINC now, whihc may be
        different then where it was in 5.10.
    - WINSETUP: If the user is running on Win2k but hasn't upgraded to
        SP4, inform them of the new requirement.
        
    win_build/installerv2/
        BOINC.ism
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.cpp, .h
        CACreateBOINCAccounts.cpp
        CACreateBOINCGroups.cpp
        CAMigrateBOINCData.cpp

David  April 3 2008
    - API: change boinc_resolve_filename() so that it detects symbolic links
        and treats them as a special case.
        Also, if the virtual file doesn't exist (as in the standalone case)
        just return zero; otherwise if the app is running standalone
        and checks the return value, it will error out.

        NOTE: apps that check the return value of boinc_resolve_filename()
        won't work on 6.12+ under Unix;
        recompiling with this change will fix the problem.

    lib/
        app_ipc.C
        filesys.C,h

Charlie April 3 2008
    Mac: Update build documentation, move building project applications build
        instructions to a separate document (wiki page)

    mac_build/
        HowToBuildBOINC_XCode.rtf

Charlie April 4 2008
    Mac: Fix bugs in new backtrace code.

    lib/
        mac/
            mac_backtrace.C

Eric K  April 4 2008
    - Added init.d script (boinc-client.in) and Makefile.am to install it.
    - I got this from the Fedora package.  I have modified it to create the
      run directory if it does not exist, and to not run boinc as root.
      Checking for running processes needs to be improved.
    - boinc-client.in is still very linux centric and probably won't work on
      non-linux systems or under Bourne shell without significant changes.

    configure.ac
    client/
        scripts/
            Makefile.am
        boinc-client.in

Rom    April 4 2008
    - WINSETUP: Fix the bug during uninstall where the data files were not
        being migrated back to the executable directory.
        
    win_build/installerv2/
        BOINC.ism
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.rc
        CAMigrateBOINCData.cpp
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll

David  April 5 2008
    - fixes for gcc 4.3

    client/
        app_start.C
        client_msgs.h
    html/inc/
        stats_sites.inc
    lib/
        crypt.h
        parse.h
        procinfo_unix.C

Charlie April 7 2008
    GUI: Disable Show Graphics button if any selected task is suspended for 
        any reason.
    Mac: Fix new backtrace code for x86_64 Client and project applications.

    clientgui/
        ViewWork.cpp
        ViewWorkGrid.cpp
    lib/
        mac/
            mac_backtrace.C

Rom    April 7 2008 (HEAD)
    - Tag for 6.1.13 release, all platforms
      boinc_core_release_6_1_13

    /
        configure.ac
        version.h

David  April 7 2008
    - client: send client_cap_plan_class as <x>1</x> rather than <x/>
        in scheduler request; the latter breaks older schedulers.
    - old parse code: make skip_unexpected() work with <x/>

    client/
        cs_scheduler.C
    lib/
        parse.C

Rom    April 7 2008 (HEAD)
    - Tag for 6.1.14 release, all platforms
      boinc_core_release_6_1_14

    /
        configure.ac
        version.h

Rom    April 9 2008
    - DIAG: Make sure that if the symstore isn't defined at all, don't
        construct the symstore search path.
        
    lib/
        stackwalker_win.cpp

Rom    April 10 2008
    - WINSETUP: Don't check for SP4 against Win9X.
    
    win_build/installerv2/
        BOINC.ism

Rom    April 10 2008
    - LIB: Fix build break on Linux compat VM.
    
    lib/
        util.C

Rom    April 11 2008
    - BLD: Update confgiure.ac to require libcurl 7.17.1.
    
    /
        configure.ac

David  April 13 2008
    - client: use symlinks only if project has <use_symlinks/> element.
    - API: fixed boinc_resolve_filename() bug: didn't work right for symlinks

    client/
        app_start.C
        client_types.C,h
    lib/
        filesys.C

Charlie April 14 2008
    - Fix is_symlink() to use S_ISLNK() macro instead of incorrect 
        (sbuf.st_mode & S_IFLNK), which made it return true for regular files   
        and caused boinc_resolve_filename() to work incorrectly.

    lib/
        filesys.C

David  April 14 2008
    - manager: fix menu appearance

    clientgui/
        AdvancedFrame.cpp


Eric K  April 14 2008
    - Unix init script: modified to make less linux specific.  
        - Does not presume the existence of "pidof" or "runuser".  
        - If started with an old style Bourne shell, will try to restart
          in bash, zsh or ksh.
    - Starts with no parameters by default.
    - Logs stdout and stderr to /var/log/boinc_client.log and
          /var/log/boinc_client_err.log by default.
    - With appropriate "boinc-client.conf", the script can be run by
      a non-root user.
    - More changes are likely to be required.
    client/
        scripts/
            boinc-client.in
        Makefile.am

David  April 14 2008
    - client: improved user idle checking on Linux (from Frank Thomas)

    client/
        hostinfo_unix.C

Charlie April 15 2008 (HEAD)
    - Tag for 6.1.15 release, all platforms
      boinc_core_release_6_1_15

    /
        configure.ac
        version.h

Charlie April 15 2008
    - API: fix boinc_resolve_filename_s() to handle symlinks the same as 
        boinc_resolve_filename().
    lib/
        app_ipc.C

Rytis  April 15 2008
    - user web: change flush statement to function call in translation system
        (fixes #425).
    
    html/inc/
        translation.inc

David  April 15 2008
    - client: do the /proc/interrupts stuff (see above)
        only on Linux-like systems;
        use device_idle() only on non-Linux Unix systems
    
    client/
        hostinfo_unix.C

Charlie April 15 2008
    - Fix is_file() to use S_ISREG() macro instead of incorrect 
        (sbuf.st_mode & S_IFREG); fix is_dir() to use S_ISDIR() macro instead of 
        incorrect (sbuf.st_mode & S_IFDIR).

    lib/
        filesys.C

Charlie April 16 2008
    - Fix is_file() and is_dir() to compile properly on Windows by using 
    the actual expressions instead of the macros which aren't defined.

    lib/
        filesys.C

David  April 17 2008
    - scheduler: fix FCGI compile problem.
        FCGI can't use libboinc.a; is needs its own specially-compiled
        versions of everything in lib/

    lib/
        coproc.C,h
    sched/
        Makefile.am

Rom    April 17 2008
    - MGR: Make help system work again
    - MGR: Add pre-release to the BOINC Manager title bar and about
        dialog if it is a pre-release version of BOINC.
    - CLI: Add some pre-release text to the CC startup routine and
        suggest they revert back to a released build if they don't
        plan on testing the client.

    /
        version.h
        version.h.in
    client/
        auto_update.C
        client_state.C
    clientgui/
        AdvancedFrame.cpp
        DlgAbout.cpp
        sg_BoincSimpleGUI.cpp
        sg_DlgMessages.cpp
        sg_DlgPreferences.cpp
        SkinManager.cpp
    lib/
        common_defs.h

David  April 21 2008
    - user web: clear team founder change if requester left team
    - user web: check for deleted thread in subcription list
    - user web: fix founder change link

    html/
        inc/
            team.inc
            user.inc
        user/
            forum_index.php
            team_change_founder_form.php
            view_profile.php

Rom    April 21 2008 (HEAD)
    - Bump version to 6.1.16.

    /
        configure.ac
        version.h

David  April 21 2008
    - client: fix array size

    client/
        hostinfo_unix.C

Charlie April 22 2008
    - MGR: fix a compiler warning (size_t is unsigned).
    - Tag for 6.1.16 release, all platforms
      boinc_core_release_6_1_16

    clientgui/
        AdvancedFrame.cpp

Charlie April 22 2008
    - MGR: Work around a bug where Projects Grid View occasionally failed 
        to update when a new selection is made.  For unknown reasons,
        OnGridSelectRange() would be called for deselecting the old item 
        but occasionally not for selecting the new one.  Also disable web 
        buttons if all projects are deselected.
        
    clientgui/
        ViewWorkGrid.cpp

David  April 23 2008
    - scheduler: fix bug where scheduler sends a WU when
        an app version is not available for that platform

    sched/
        handle_request.C
        sched_config.C,h
        sched_send.C

David  April 24 2008
    - user web: send no-cache headers except if we're doing
        whole-page caching.  Fixes #626

    html/inc/
        util.inc
        cache.inc

Rom    April 25 2008
    - MGR: On Linux, start the manager from the current directory instead
        of using argv[0] to build the path.
    
    clientgui/
        BOINCClientManager.cpp

David  April 25 2008
    - client: fix bugs with scheduling app that use coprocessors
    - client: factor out "schedule_if_possible()" logic from
        two places in schedule_cpus()

    client/
        cpu_sched.C

David  April 25 2008
    - web: restore OS/CPU details to host list; add Tasks link

    html/inc/
        host.inc

David  April 25 2008
    - web: tweaks to host list
    - scheduler: condition lots of log file writes on config flags
        (i.e. divide "debug" output into a bunch of categories, individually selectable)

    html/inc/
        host.inc
    sched/
        sched_config.C,h
        sched_send.C

Rom    April 28 2008 (HEAD)
    - Tag for 6.1.17 release, all platforms
      boinc_core_release_6_1_17

    /
        configure.ac
        version.h

Rom    April 30 2008
    - DIAG: Add an easy way for projects to initialize the diagnostics
        framework for graphics applications.
    - DIAG: Make SetDllDirectory work for Win2k3, Vista, and Win2k8
    
    lib/
        diagnostics.C, .h
        stackwalker_win.cpp

Rom    April 30 2008
    - API: If the diagnostics framework hasn't been initialized for
        the graphics application, initialize it.
        
    api/
        graphics2_unix.C
        graphics2_win.C

David  April 30 2008
    - client: Win: fix CUDA detection:
        look in the registry to find the CUDA install directory,
        and look for cudart.dll in that dir.
    - client: for CUDA, don't confuse coproc.name ("CUDA")
        from coproc.prop.name (e.g., "Device Emulation (CPU)" on my PC,
        which doesn't have a recent-enough GPU)
    - client: if no coprocessors present, say so in startup messages

    client/
        client_state.C
    lib/
        coproc.C

Rom    April 30 2008
    - API: Fix build break from my last check-in.
        
    api/
        graphics2_unix.C
        graphics2_win.C

David  April 30 2008
    - client (Unix) Add /usr/local/cuda/lib/ to LD_LIBRARY_PATH
        before looking for CUDA library
    - scheduler: some additional work on matchmaker scheduling
        Changed check_app_filter() so that it doesn't depend on
        the current multi-phase approach;
        move that logic to scan_array()

    lib/
        coproc.C
    sched/
        sched_array.C
        sched_locality.C
        sched_send.C,h

David  April 30 2008
    - boinc_cmd: changed help strings to say "boinccmd".
        I'd like to change the filename too but can't figure out Makefile stuff

    lib/
        boinc_cmd.C

Charlie May 1 2008
    - API: fix Mac compile errors.
    - client: implement Mac CUDA detection, fix compiler warning.
    - boinc_cmd: change name to "boinccmd".

    api/
        graphics2_unix.C
    lib/
        coproc.C
    mac_build/
        boinc.xcodeproj/
            project.pbxproj
    mac_installer/
        release_boinc.sh
        release_GridRepublic.sh

Reinhard May 1 2008
   - commented-out AM_MAINTAINER_MODE in configure.ac to *activate* all maintainer-mode
   features by default

   configure.ac

David  May 1 2008
    - scheduler: matchmaking scheduler now works;
        uncomment MATCHMAKER to enable it.
        More testing needed.
    - client (unix): avoid crash if LD_LIBRARY_PATH not set

    _autosetup
    client/
        cs_cmdline.C
    lib/
        gui_rpc_client_print.C
        coproc.C
    sched/
        sched_send.C

Rom    May 2 2008
    - MGR/CLI: remove direct references to CreateEnvironmentBlock and
        DestroyEnvironmentBlock since Win98 doesn't support them. This
        functionality is only required for the Windows sandbox implementation
        anyway.
    - LIB: Remove direct reference to OpenThread in win_util.C since it
        isn't supported on Win98.
    - MGR: Another fix for CC execution on a Linux machine.
        
    client/
        app_start.C
    clientgui/
        BOINCClientManager.cpp
    lib/
        proc_control.C
        win_util.C

Rom    May 2 2008 (HEAD)
    - Bump version to 6.3.0
    - Branch Source Tree 
      boinc_core_release_6_2

    /
        configure.ac
        version.h

David  May 2 2008
    - scheduler: clean up message log.
        Merge redundant messages.
        Condition various messages on config flags.
    - client (Unix) fix to CUDA detection if LD_LIBRARY_PATH is ""

    lib/
        coproc.C
    sched/
        handle_request.C
        main.C
        sched_config.C,h
        sched_result.C
        sched_send.C
        server_types.C,h

David  May 2 2008
    - web: improve error messages if login link fails
        (URL may have been truncated in email reader)

    html/user/
        login_action.php
        white.css

David  May 4 2008
    - client: if we request that an app exit,
        and it doesn't do so within 10 seconds, kill it.
        This deals with the situation where the app is ignoring messages
        (e.g. because it forgot to end a critical section).
    - client: if either the FP or int benchmark runs less than
        3 CPU seconds (out of 10 seconds of wall time) ignore the benchmark.
        This is an effort to deal with a problem where (for unknown reasons)
        the int benchmark runs for a tiny amount of CPU time,
        leading to an absurdly large result
    - Manager: don't prepend "[error]" to MSG_INTERNAL_ERROR messages;
        the client already does this.

    THESE ARE ALL BUG FIXES

    client/
        app.C,h
        app_control.C
        cpu_benchmark.h
        cs_benchmark.C
        dhrystone.C
        sim_util.C
        whetstone.C
    clientgui/
        ViewMessages.cpp

Charlie May 5 2008
    - client: Fix compiler warning.
    - MGR: Fix CMainDocument::WorkShowGraphics() for Mac, UNIX and  Linux 
        to allow showing graphics with or without sandbox.
        
    client/
        cs_benchmark.C
    clientgui/
        MainDocument.cpp

David  May 5 2008
    - Added command-completion script for bash

    client/scripts/
        boinc.bash
    sched/
        sched_send.C
    html/user/
        profile_rate.php

Eric K  May 6 2008
    - Added implementation of setenv() for systems without it. 
    - Fixed bug in x_opengl.C.  On systems where putenv() adds the string to the
      environment rather than copies it, the environment would end up containing
      a random peice of the stack where the DISPLAY variable had been
      temporarily stored.

     configure.ac
     lib/
         unix_util.[Ch]
     api/
         x_opengl.C

David  May 6 2008
    - scheduler: add preliminary support for "job size matching"
        (attempt to send big jobs to fast hosts, small jobs to slow hosts).
        - have "census" compute mean/stdev of host speeds,
            write it to a file perf_info.txt
        - have feeder compute mean/stdev of sizes of jobs in shmem
        - have feeder read perf_info.txt into shmem
    - scheduler: add some debugging messages for app version selection
    - Add LGPL license to a few files
    - upgrade/setup scripts: copy census to bin/

    py/Boinc/
        setup_project.py
    sched/
        assimilate_handler.C
        census.C
        feeder.C
        hr_info.C,h
        sched_array.h
        sched_config.C,h
        sched_plan.C
        sched_resend.h
        sched_shmem.h
        sched_timezone.h
        server_types.C
        single_job_assimilator.C
        validate_util2.h
        validator.h

David  May 6 2008
    - scheduler: finished support for job size matching.
        Let x be the host speed (expressed in stdevs from mean)
        Let y be the job size (expressed in stdevs from mean)
        Decrement score by (x-y)^2

    sched/
        sched_send.C

Charlie May 7 2008
    - MGR: Statistics and Disk tab panes: clear when disconnected from Client, 
        update quickly when connecting to a (different) Client.
        
    clientgui/
        MainDocument.cpp

David  May 7 2008
    - client (Unix): linking libcudart.so wasn't working,
        so CUDA detection failed.
        For reasons I don't understand,
        adding "/usr/local/cuda/lib" to LD_LIBRARY_PATH
        and then doing dlopen("libcudart.so") wasn't working,
        even though the library is in that dir.
        I worked around this by calling
        dlopen("/usr/local/cuda/lib/libcudart.so") and if that fails call
        dlopen("libcudart.so"),
    - Unix: commented out Eric's setenv() stuff.
        After doing a configure, HAVE_SETENV is not in config.h,
        so something's messed up with it.
    - client: trimmed down "pre-release software" message

    client/
        client_state.C
    lib/
        coproc.C
        unix_util.C,h

David  May 7 2008
    - client: added some file_xfer_debug messages for file upload

    client/
        file_xfer.C

Charlie May 7 2008
    - client: Fix compiler warning.

    lib/
        coproc.C

David  May 8 2008
    - scheduler: add new log flags debug_edf_sim_workload, debug_edf_sim_details
        for getting info on EDF simulation;
        change output from seconds to hours
    - API: remove extern "C" from graphics API
        (convince me it's needed before restoring)

    api/
        graphics2.h
    client/
        makefile_sim
    lib/
        diagnostics.C
    sched/
        edf_sim.C
        sched_array.C
        sched_config.C,h

Rom    May 8 2008
    - LIB: Windows 9X doesn't like it when you specify a security descriptor, so
        special case Win9X so that it'll pass a NULL to CreateFileMapping.
    
    lib/
        shmem.C

Rom    May 9 2008
    - DIAG: Passing a null value to fclose in VS 2005 will cause a crash, so
        check to make sure that stdout_file and stderr_file are not null before
        attempting to close them. If they are null return ERR_FOPEN so that
        the next message logged can attempt to cycle the log without error.
    - CLIENT: Make sure the diagnostics framework is initialized before
        the config file is parsed or the command line is parsed, that way
        if and unexpected XML tab or command line parameter is found the
        client doesn't crash.
        
        NOTE: The client would only crash if the log file was already greater
          than 2MB which would cause the client to attempt to cycle the
          log files. Since the diagnostics framework wasn't initialized yet
          nothing was logged to the log file, no call stack was generated, 
          and the default Windows debugging environment was fired up.
          
    client/
        main.C
    lib/
        diagnostics.C

Charlie May 8 2008
    - MGR: Update comments on how to link with Development / debug build of wxWidgets; 
        add this info to build documentation.
        
    clientgui/
        mac/
            MacGUI.pch
    mac_build/
        HowToBuildBOINC_XCode.rtf

Rom    May 9 2008
    - DIAG: Include the list of libraries loaded as well as their locations
        when the runtime debugger is engaged.
        
    lib/
        stackwalker_win.cpp

David  May 9 2008
    - client: increase <abort> timeout from 5 sec to 60;
        this gives the diagnostic system time to download
        symbol files (which may be several MB) and write a stack trace.

    client/
        app.C
        app_control.C
        app_start.C

Rytis  May 9 2008
    - ops pages: add missing error numbers.
    
    html/inc/
        db_ops.inc

David  May 9 2008
    - client (Unix): when running app, open fd 0 to /dev/null
        rather than just closing it (from Gabor Gombas)

    client/
        app_start.C

Rom    May 9 2008
    - DIAG: Include the PDB filename that is linked to the EXE at
        compile time to the module information dumped during a crash.
        
      NOTE: This should give a project admin a tickle that the PDB
        and EXE names need to be set before compiling and not renamed
        after the fact.
        
    lib/
        stackwalker_win.cpp

David  May 9 2008
    - client and server: in coprocessor records, change "name" to "type"
        to avoid confusion with "name" field of CUDA.
        This is a bug fix - please port.
    - start script: don't error out if run_state.xml file is empty
        (which happens if project runs out of disk space)

    lib/
        coproc.C,h
    py/Boinc/
        boincxml.py
    sched/
        sched_plan.C
        sched_send.C
        server_types.C

David  May 9 2008
    - client part of the above

    client/
        client_state.C
        client_types.C
        cpu_sched.C
    lib/
        coproc.h

David  May 9 2008
    - tools: performance enhancement to crypt functions,
        and have crypt_prog exit nonzero on failure
        (from Nicolas Alvarez)

    lib/
        crypt.C
        crypt_prog.C

David  May 9 2008
    - scheduler: performance optimization for EDF simulation.
        Keep track of the "easiest" job that has been rejected by EDF sim.
        Any jobs harder than this one can be rejected without doing the sim.

    sched/
        sched_send.C
        server_types.h

David  May 11 2008
    - Client (Windows) change the way core/app shmem segs are created.
        Old: get_shmem_seg_name() tries names of the form shm_boinc_N
            until it finds one for which creating succeeds.
            Then it detaches (deletes) the segment and records the name.
            Later, the segment is created again.
            This creates a race condition if two core clients
            are running on the same host.
            It's also kind of silly.
        New: get_shmem_seg_name() doesn't detach the segment,
            and we dont have to create it again later.
            
    client/
        app_start.C
    lib/
        shmem.C

Eric K May 12 2008
    - Fixes to init script.
    - Commands in Makefile.am to install init scripts
    - Initial checkin of sample configuration file boinc-client.conf

    client/
        scripts/
            Makefile.am
            boinc-client.in
            boinc-client.conf

Rom    May 12 2008
    - WINSETUP: Add the ability for the users in 'boinc_projects' 
        to be able to read/execute the DLLs needed in the diagnostics
        framework.
        (dbghelp.dll, srcsrv.dll, symsrv.dll, symsrv.yes)
    
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.def
        boinccas.vcproj
        CASetPermissionBOINCDiagnostics.cpp, .h (added)

Rom    May 12 2008
    - WINSETUP: Exclude the skins, and locale directory from data
        migration.
    
    win_build/installerv2/redist/Windows/src/boinccas/
        CAMigrateBOINCData.cpp, .h

David  May 12 2008
    - client (win): bug fixes to yesterday's checkin

    client/
        app_start.C
    lib/
        shmem.C,h

David  May 12 2008
    - client: add <allow_multiple_clients> cc_config.xml option
    - client: remove stress_shmem code

    client/
        client_state.C
        log_flags.C,h
        main.C
    lib/
        shmem.C,h

David  May 12 2008
    - client: change --allow_multiple_clients to a command line option
        (it can't go in the config file)

    client/
        cs_cmdline.C
        log_flags.C
        main.C

David  May 13 2008
    - Added <d_allowed> element to get_disk_usage GUI RPC

    client/
        gui_rpc_server_ops.C
        hostinfo_win.C
    clientgui/
        ViewResources.cpp
    lib/
        gui_rpc_client.h
        gui_rpc_client_ops.C

David  May 13 2008
    - manager: in disk tab, divide free space into
        available/unavailable to BOINC

    client/
        gui_rpc_server_ops.C
    clientgui/
        ViewResources.cpp

David  May 13 2008
    - make some strings in user.inc translatable (from Simek)
    - close fd 1, not 0, for apps

    client/
        app_start.C
    html/
        inc/
            user.inc
        languages/translations/
            en.po

David  May 13 2008
    - validator: canonical_credit was being set incorrectly
        when -max_granted_credit used.
        
    sched/
        sched_send.C
        validator.C

Charlie May 14 2008
    - Mac: revise build scripts for c-ares and cURL to work when there are 
        spaces in the paths.  These changes are based on information from 
        the cURL developers.

    mac_build/
        buildc-ares.sh
        buildcurl.sh

David  May 13 2008
    - manager: fix disk display

    clientgui/
        ViewResources.cpp

Rom    May 14 2008
    - Tag for 6.3.0 release, all platforms
      boinc_core_release_6_3_0

    /
        configure.ac
        version.h

David  May 14 2008
    - API: compile fix

    api/
        graphics2_util.C

Rom    May 14 2008 (HEAD)
    - Bump version to 6.3.1

    /
        configure.ac
        version.h

Rom    May 14 2008
    - MGR: Fix trace statements in StartupBOINC()
    - MGR: Add some more trace statements for Linux startup.

    clientgui/
        BOINCClientManager.cpp

Rom    May 14 2008
    - MGR: BOINC commandline options require the '--' in front
        of the option. '-' just causes the CC to exit while
        printing its help fr the commandline options.
        
    clientgui/
        BOINCClientManager.cpp

Charlie May 15 2008
    MGR: Adjust pie control slices so small wedges are visible if at 
        all possible,
        
    clientgui/
        common/
            wxPieCtrl.cpp

David  May 15 2008
    - client: added some http_debug messages in case where
        POST2 temp file can't be opened or read
    - client: don't show --sandbox option if it's not available

    client/
        http_curl.C
        cs_cmdline.C
        cs_scheduler.C

Rom    May 15 2008
    - Tag for 6.3.1 release, all platforms
      boinc_core_release_6_3_1

    /
        configure.ac
        version.h

Rom    May 15 2008 (HEAD)
    - Bump version to 6.3.2

    /
        configure.ac
        version.h

Rom    May 15 2008
    - SCR: BOINC's screensaver module in preview mode only displays
        the BOINC icon, since the preview window is only 300x200 or
        so. We shouldn't launch the data management thread when
        launched in preview mode.
        
    clientscr/
        screensaver_win.cpp

David  May 15 2008
    - web: add <no_computing> option to config.xml.
        If present, don't show anything related to computing.
        Use this for Bossa/Bolt projects, and the BOINC message boards.

    html/
        inc/
            team.inc
            user.inc
            util.inc
        user/
            home.php
    py/Boinc
        setup_project.py

David  May 15 2008
    - client: If a scheduler reply doesn't include <host_venue>
        (as is the case if its DB is down,
        or it has no work and skips the DB check)
        don't overwrite the host_venue on the client.
        Fixes #656, I hope (Rom: please port)

    client/
        schedule_op.C

David  May 15 2008
    - client: when parsing state file, don't change result states
        unless there's an inconsistency
        Fixes #621

    client/
        client_types.C

David  May 15 2008
    - scheduler: there were several situations where the scheduler
        would send a reply without having looked up the user and team
        in the DB; e.g.:
        - client version# is too low
        - DB is down
        - host is blacklisted
        It would then send a full scheduler reply,
        including a blank team name and other missing info.
        
        Fix this by setting reply.nucleus_only initially
        (this causes a minimal reply to be sent)
        and clearing it only if the host/user/team lookup succeeds.
        Fixes #417, #633 (I think)

    sched/
        handle_request.C
        server_types.C

Rom    May 16 2008
    - MGR: Fix a casting issue that was causing crashes on x64 platforms.
      fixes# 658 (From: bbaetz)
    
    clientgui/
        SkinManager.cpp

David  May 16 2008
    - client: JM7 was seeing repeated file upload failures.
        It turned out that when we close and reopen
        the temp file that stores the HTTP reply, the open was failing.
        I have no idea why.
        Attempted workaround: open the file for R/W originally,
        and instead of close/open do a seek.

    client/
        http_curl.C

David  May 16 2008
    - client: go one step further, and don't create temp files
        in some system-supplied directory;
        create them in the BOINC data directory.

    client/
        http_curl.C

David  May 16 2008
    - client: on Windows (at least) if you kill a task (e.g. reset project)
        ACTIVE_TASK::handle_exited_app() never gets called,
        so the coprocessors weren't getting freed.
        Fix this.

    client/
        app.C,h
        app_control.C
        app_start.C

Charlie May 19 2008
    MGR: Don't enlarge pie control slices if value is zero.
        
    clientgui/
        common/
            wxPieCtrl.cpp

David  May 19 2008
    - client: eliminate spurious "unparsed XML" messages
        Fixes #664.  Rom, please backport to 6.2
    - web: convert some tr() to tra() on BOINC web pages

    client/
        cs_account.C
        scheduler_op.C
    languages/translations/
        en.po

David  May 20 2008
    - web: fix for cross-site scripting vulnerability
        (from Nicolas Alvarez)

    html/
        inc/
            team.inc
        user/
            team_search.php

David  May 20 2008
    - web: fix bugs introduced by recent tra() changes.
        PLEASE CHECK THESE CHANGES BEFORE SUBMITTING THEM

    html/
        inc/
            host.inc
            user.inc
        user/
            cert1.php

David  May 20 2008
    - Add alternative stylesheet for project web
    - Tweak error messages in client and server

    client/
        app_start.C
    html/user/
        style2.css
    sched/
        sched_send.C

David  May 20 2008
    - fix FCGI compile

    sched/
        feeder.C
        hr_info.C

Rom    May 20 2008
    - DIAG: For Windows, lookup and store the install directory
        location so that the diagnostics framework can use the
        debugger libraries.
        
        NOTE: This is only a problem for applications running
          under the v6 clients.
        
    lib/
        diagnostics.C, .h
        diagnostics_win.C
        
David  May 21 2008
    - web: fix errors in translation changes

    html/inc/
        user.inc

David  May 21 2008
    - web: remove separate blockquote style; fixes #668

    html/user/
        white.css

David  May 21 2008
    - scheduler: if client has bad code sign key, don't send work

    sched/
        handle_request.C

David  May 21 2008
    - boinccmd (Windows): chdir to the data directory (from registry)

    client/
        hostinfo_unix.C
        main.C
    lib/
        boinc_cmd.C
        win_util.C,h

David  May 22 2008
    - client: copy api_version of APP_VERSIONs in scheduler reply,
        even if we already have the APP_VERSION.
        Otherwise, when upgrading from 5.10 to 6.2,
        we won't have the api_version,
        and we won't learn about it until project releases new version.


    client/
        cs_scheduler.C

David  May 22 2008
    - client: print a message at startup if computation is suspended

    client/
        client_state.C,h
        cpu_sched.C
        cs_prefs.C

David  May 23 2008
    - scheduler: added
        - config option <matchmaker> for matchmaker scheduling
        - config options <mm_min_slots>, <mm_max_slots>, <job_size_matching>
            to control matchmaker scheduling
    - scheduler: tweaks to matchmaker scheduling from Kevin Reed
    - web: fixes to alternative stylesheet from Simek

    html/user/
        style2.css
    sched/
        sched_config.C,h
        sched_send.C

David  May 23 2008
    - client: if GUI RPC auth error, close the socket.
        This prevents a DoS by sending <auth1> over and over,
        filling the send buffer and eventually causing the client to block.
    - Unix build: if m4 missing, check for gm4

    _autosetup
    client/
        gui_rpc_server.C,h
        gui_rpc_server_ops.C

David  May 23 2008
    - client: shuffle to code to give an abstraction (RR_SIM_STATUS)
        of a project's state during round-robin simulation
        (first step to handling coprocs in RR sim)

    client/
        client_types.C,h
        cpu_sched.C
        work_fetch.C

David  May 23 2008
    - client: shuffle code to abstract coprocessor reservation

    client/
        app.C
        client_state.h
        cpu_sched.C
    lib/
        coproc.h

David  May 23 2008
    - client: handle coprocs in RR simulation.  Not tested.
        TODO: handle multithread apps in RR simulation; should be easy now.

    client/
        client_types.h
        cpu_sched.C
    lib/
        coproc.h

David  May 23 2008
    - client: test the above; compile fixes for Win

    client/
        client_types.h
        cpu_sched.C
        sim_util.C

David  May 24 2008
    - client: reduce min CPU time for valid benchmark from 3 to 2

    client/
        cs_benchmark.C

Rom    May 27 2008
    - DIAG: When an application crashes, dump out the install and data
        directory as part of the crash report.
        
    lib/
        diagnostics_win.C

David  May 27 2008
    - web: team transfer request was being rejected if email to founder failed,
        so there was no way of rescuing a team with invalid founder email.
        I changed it to record the request anyway.
        This is potentially hazardous - if the founder's email server
        is temporarily down, the request would go through
        without the founder being notified.
        To offset this, I added a notification via private message.

    html/
        inc/
            email.inc
        user/
            team_founder_transfer_action.php

Rom    May 27 2008
    - WINSETUP: The call to GetFreeDiskSpaceEx was failing becuase the path
        didn't exist yet, so all the values in the returned data structures
        was random junk. If the directory had never been created before
        then it was returning 27/57 bytes free. If the drectory had existed
        at one time then the return values were several gigabytes.
        
        If the first request to GetFreeDiskSpaceEx fails, then check for the
        parent directory, if that fails pass a NULL value which means check
        the default volume.
        
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.def
        boinccas.rc
        boinccas.vcproj
        CAMigrateBOINCData.cpp
        CASetPermissionBOINCDiagnostics.cpp, .h (deleted)
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll

Eric   May 27 2008
    - clientgui:  renamed locale files from "BOINC Manager.*" to
        "BOINC-Manager.*"
    - Added Makefile to locale/client to install the BOINC Manager.po files
        into $(datadir)/locale (typically $(prefix)/share/locale)

    clientgui/
        BOINCGUIApp.cpp
    locale/
        client/
            Makefile.am
            */
                BOINC Manager.po (renamed BOINC-Manager.po)
                BOINC Manager.mo (renamed BOINC-Manager.mo)

Eric    May 27 2008
    - Makefiles: 
        added client/scripts to default client build
        removed sea from the default clientgui build
        added locale/client to the default clientgui build
        moved installed header from $(includedir) to $(pkgincludedir) which
            is $(includedir)/boinc by default.
        removed redefinitions of $(includedir) from makefiles.
    - configure:
        added locale/client/Makefile to AC_CONFIG_FILES
    
    configure.ac
    Makefile.am
    api/
        Makefile.am
    db/
        Makefile.am
    sched/
        Makefile.am
    lib/
        Makefile.am
    zip/
        Makefile.am

Eric    May 27 2008
    - configure:
        added LIBBOINC_VERSION definition for libtool use.

    configure.ac

Eric    May 27 2008
    - fixed problem with missing includes and missing namespace notations

    clientgui/
        common/
            wxPieCtrl.cpp

Eric    May 28 2008
    - moved icons from sea into clientgui/icons
    - added Makefile to clientgui/icons to install them in $(pkgdatadir) which
      is usually $(prefix)/share/boinc.
    - Even though these icons are packaged with the sea, they don't appear
      to be referenced in any code and don't appear to ever be used.

    configure.ac
    Makefile.am
    clientgui/
        icons/
            Makefile.am
            boincmgr.{16x16,32x32,48x48}.png

Eric    May 28 2008
    - Added a stage target for staging a distribution.
      Executing "make stage" will "make all" and will install the client
      under the stage directory (i.e. binaries is stage/$(prefix)/bin, libraries
      in stage/$(prefix)/lib, etc)

    Makefile.am

David  May 28 2008
    - web: style tweaks; fixes #667

    client/
        cs_account.C
    html/user/
        forum_forum.php
        white.css

Eric    May 28 2008
    - Added database table credit_multiplier and script to be run daily
      (calculate_credit_multiplier) to determine what factor to multiply claimed
      credit by before insertion into the database.  Changes to scheduler to
      implement have not yet been checked in.

    tools/
        Makefile.am
    calculate_credit_multiplier
    db/
        schema.sql

Rom    May 28 2008
    - Tag for 6.3.2 release, all platforms
      boinc_core_release_6_3_2

    /
        configure.ac
        version.h

Rom    May 28 2008 (HEAD)
    - Bump version to 6.3.3

    /
        configure.ac
        version.h

David  May 28 2008
    - client: on startup, detect when the system clock has been set backwards,
        and clear all timeout variables.
        This should fix the situation where, say:
        1) the user sets the system clock forward by a year;
        2) all projects get their min_rpc_time set;
        3) the user sets the system clock back to the correct time.
        Previously, BOINC would not do anything for a year.

        Note: a restart of BOINC is required to fix things.
        It would be harder to do this on the fly.

    client/
        client_state.C,h
        client_types.h
        pers_file_xfer.h
        time_stats.h

David  May 28 2008
    - web: add project.inc variables to customize certificates;
        add team certificate;
        add links to certificates from user page

    html/
        inc/
            cert.inc
            user.inc
        user/
            cert_team.php (new)
            cert1.php

Eric    May 28 2008
    - have been told clientgui/res is the appropriate place for icons so have
      moved clientgui/icons/* clientgui/res

    Makefile.am
    configure.ac
    clientgui/
        icons/
            Makefile.am  moved to clientgui/res
            boincmgr.{16x16,32x32,48x48}.png  moved to clientgui/res

Rom    May 28 2008
    - WINSETUP: Fix a struct alignment issue when dumping the base64 encoded
        password for boinc_project to a file.
        
        ATL's string conversion functions act of a class and not a buffer
        which makes memory management easier but doesn't interop well with
        fprintf unless you specify the buffer name directly.
        
    win_build/installerv2/
        BOINC.ism
    win_build/installerv2/redist/Windows/src/boinccas/
        CACreateClientAuthFile.cpp
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll

Charlie May 28 2008
    - Mac Installer: delete old locale directory to remove "boinc manager.mo" 
        files before installing new "boinc-manager.mo" files (or vice versa).
    
    mac_installer/
        preinstall

David  May 29 2008
    - Validator framework: change get_output_file_path()
        to return a struct FILE_INFO (including "optional")
        instead of just the filename.
        This lets you avoid erroring out if optional file is missing.
    - Sample bitwise validator: support > 1 output file correctly

    sched/
        sample_assimilator.C
        sample_bitwise_validator.C
        sample_dummy_assimilator.C
        single_job_assimilator.C
        validate_util.C,h
        validator.C

Charlie May 29 2008
    - MGR: eliminate spurious --graphics argument when showing V6 graphics.
        
    clientgui/
        MainDocument.cpp

David  May 29 2008
    - Redo the above so that get_output_file_path() is unchanged;
        add new functions get_output_file_info();
    - change get_output_file_path() to look at the result's
        xml_doc_in rather than its xml_doc_out;
        this is the one that will have <optional/>
    - fix crashing bug in the above

    sched/
        sample_assimilator.C
        sample_bitwise_validator.C
        sample_dummy_assimilator.C
        sched_util.C
        single_job_assimilator.C
        validate_util.C,h
        validator.C

David  May 29 2008
    - validator/assimilator: parse <file_ref>s rather than <file_info>s;
        the latter is where the <optional/> flag is.

    sched/
        validate_util.C
    sched/
        validate_util.C

David  May 31 2008
    - server: added -simulation option to feeder, validator, and assimilator
        (for use in server simulator)

    client/
        cs_scheduler.C
    sched
        feeder.C
        transitioner.C
        validator.C

David  2 June 2008
    - Add cross-project certificate

    html/
        inc/
            user.inc
        user/
            cert_all.php (new)
            img/boinc_fade_600.png

David  2 June 2008
    - validator/assimilator: get_output_file_info()
        was looking at the wrong XML field

    sched/
        validate_util.C

David  4 June 2008
    - Back end: add adaptive validation feature
        (DB update required)
    - Fixed typo in Eric's 5/28 checkin

    db/
        boinc_db.C,h
        schema.sql
    html/
        ops/
            db_update.php
        user/
            forum_post.php
    py/Boinc/
        database.py
    sched/
        sched_send.C
        server_types.C
        validator.C

David  4 June 2008
    - make_project: when it's done it prints out a bunch of instructions.
        These are more than 24 lines, so in the VMWare BOINC VM
        they scroll off the window and are lost.
        Instead, write them to a file (project/project.readme).
        Also, only write the message about example app if -test_app

    tools/
        make_project

Charlie 4 June 2008
    - MGR: Fix help menus in Simple GUI (not applicable on Windows).
        
    clientgui/
        sg_BoincSimpleGUI.cpp,.h

David  4 June 2008
    - web: fixed a couple of references to "global $logged_in_user".
        It's $g_logged_in_user.

    html/
        inc/
            pm.inc
        user/
            forum_reply.php

David  5 June 2008
    - validator/assimilator: fix bug in 2 June checkin
        (xml_doc_in wasn't included in DB query)

    db/
        boinc_db.C
    tools/
        make_project

David  5 June 2008
    - web: clean up stuff related to stripslashes():
        1) it's not correct to apply stripslashes() to all form input.
            That should be done only if magic quotes is on.
            I fixed this by adding a function undo_magic_quotes()
            that does the right thing.
        2) There's no reason to strip backslashes from user-supplied text
            (forum titles and bodies, private messages, passwords etc.)
            I'm not sure why this was being done.
            It prevented messages from containing backslashes.

    html/
        inc/
            db.inc
            db_ops.inc
            forum.inc
            forum_email.inc
            pm.inc
            text_transform.inc
            translation.inc
            util.inc
        user/
            create_account_action.php
            create_profile.php
            donation_ipn.php
            edit_forum_preferences_action.php
            edit_forum_preferences_form.php
            edit_passwd_action.php
            forum_edit.php
            forum_moderate_thread.php
            forum_post.php
            forum_reply.php
            login_action.php
            pm.php
            team_edit_action.php
            team_search.php

David  5 June 2008
    - manager: fix messages: "shut down" is 2 wds etc.

    clientgui/
        AdvancedFrame.cpp

David  5 June 2008
    - web: moved some basic utility functions to a separate file
        that doesn't need to include all sorts of crap

    html/inc/
        boinc_db.inc
        util.inc
        util_basics.inc (new)
        xml.inc

David  6 June 2008
    - client (Win) look for CUDA as nvcuda.dll

    lib/
        coproc.C

Rom    8 June 2008
    - Tag for 6.3.3 release, all platforms
      boinc_core_release_6_3_3

    /
        configure.ac
        version.h

David  8 June 2008
    - Fix emacs mode line in Makefile.am's

Rom    9 June 2008
    - DIAG: Fix 2 year old bug when projects are using a symstore.
        CC was writing 'symstore' in the init_data.xml and the diagnostic
        code was looking for 'project_symstore'. Why did it take
        so long to find? Oh well, make it obvious if it ever
        happens again by dumping the symstore url in the crash
        report.
        
        Ugh...
        
    lib/
        diagnostics.C
        diagnostics_win.C

David  10 June 2008
    - web: change order of includes

    html/inc/
        util.inc
    sched/
        sched_shmem.C

David  10 June 2008
    - make_project: allow account creation initially.
        Otherwise it's another nit-picky little step
        in the project "quick start" process.

    py/Boinc/
        setup_project.py

David  12 June 2008
    - added Free-DC CPID stats

    html/inc/
        stats_sites.inc

David  12 June 2008
    - web: fixes

    html/
        inc/
            results.inc
        user/
            workunit.php

David  12 June 2008
    - web: cleaned up logic of string processing.
        There are two aspects:
        1) undoing magic quotes (if it's being used).
            This must be done for all GET and POST string inputs.
            It is now done automatically by get_str() and post_str().
            The places that refer to $_GET and $_POST directly
            must do it themselves using undo_magic_quotes().
        2) Escaping user-supplied strings before using them in DB queries.
            This is done by process_user_text()
            (which should be renamed db_escape_string()).
            The new principle:
            call process_user_text() in the function that does the DB query
            (not at any higher level).

    html/ many files

David  12 June 2008
    - web: add $prefix arg to sample project_header(), project_footer()
        (fix links on profile-index pages)
    - web: use cache-control "no-store" only for home.php.
        This makes it so that, e.g. if you scroll to the middle of a long page,
        follow a link, then click Back,
        you'll go back the original scroll position rather than top of page.

    html/
        inc/
            util.inc
        ops/
            update_profile_pages.php
        project.sample/
            project.inc
        user/
            home.php

David  12 June 2008
    - web: handle magic quotes correctly in profile create/edit

    html/user/
        create_profile.php

David  12 June 2008
    - API/runtime system: remove "fraction done update period" stuff.
        This was always 1 second, which is fine.
        Rom: please back-port.

    api/
        boinc_api.C
    client/
        app_start.C
    lib/
        app_ipc.C,h

David  12 June 2008
    - client/API: add "computation_deadline" to APP_INIT_DATA.
        This supports apps that can do variable amounts of computing;
        they can boinc_finish() if their deadline is near.
        Rom: please back-port.

    client/
        app_start.C
        client_types.h
    lib/
        app_ipc.C,h

David  13 June 2008
    - web: fixed numerous bugs in team founder transfer mechanism

    html/
        inc/
            team.inc
        user/
            team_founder_transfer_form.php
            team_founder_transfer_action.php
            team_display.php

David  14 June 2008
    - manager: fix some strings ("comm" is not an OK abbrev.)
        Also got rid of references to Yahoo.

    clientgui/
        WelcomePage.cpp,.h
        BOINCWizards.h

David  16 June 2008
    - client: fix crashing bug when detach from project.
        The problem: the variable ordered_scheduled_results
        has a list of pointers to RESULTs.
        These pointers become dangling when the project is detached.
        It's not sufficient to do schedule_cpus() because this returns
        immediately if # projects == 0.
        So clear the list directly.
        Rom: please port to 6.2

    client/
        client_state.C

David  17 June 2008
    - scheduler: if host.n_bwdown is zero, skip the bandwidth check;
        the host hasn't been measured yet.

    sched/
        sched_send.C

David  17 June 2008
    - web: shuffle code to eliminate redundancy

    html/inc/
        boinc_db.inc
        bossa_db.inc
        util.inc

David  18 June 2008
    - change EXIT_ABORTED_VIA_GUI to EXIT_ABORTED_BY_CLIENT
    - change ERR_CHILD_FAILED TO EXIT_CHILD_FAILED
        (it's an exit code, not a function error code)
    - client: reduce severity of benchmark error
    - scheduler: compile fix

    api/
        boinc_api.C
    client/
        cs_benchmark.C
    lib/
        str_util.C
        error_numbers.h
    sched/
        sched_send.C

Rom    18 June 2008
    - WINSETUP: Validate that the installed executables are
        the ones we are expecting.
    - WINSETUP: Do not allow the data directory and install
        directory to be the same directory.
    - WINSETUP: Reduce the amount of time allocated to
        shutdown the BOINC Manager from 30 secs to 5 secs
        before killing it. Otherwise the user thinks the
        install process is hung.
    - WINSETUP: Change text for describing the protected
        mode install
    - WINSETUP: Add text describing the reason for a reboot
    - WINSETUP: Add text describing the need to run a repair
        in the case where a third party BOINC CC was installed
        or a private drop of the CC was used.
        
    win_build/installerv2/
        BOINC.ism
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.rc
        boinccas.vcproj
        boinccas95.def
        boinccas95.vcproj
        CAShutdownBOINCManager.cpp
        CAValidateInstall.cpp, .h (added)
        CAVerifyInstallDirectories.cpp, .h (added)
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll

David  18 June 2008
    - web: in team remove-user form, link names and show IDs

    html/user/
        team_remove_inactive_form.php

David  18 June 2008
    - If a hidden post is deleted, don't decrement its thread's post count;
        it was already decremented when the post was hidden
    - Added a function to forum_repair.php to fix inconsistencies
        due to the above bug

    html/
        inc/
            forum.inc
        ops/
            forum_repair.php

Rom    19 June 2008
    - WINSETUP: Properties that are changed during the execution phase
        of setup do NOT bubble back up to the UI phase of setup when
        completed. Create some custom actions that store those properties
        in the registry and then read them back after we are back in the
        UI phase. Without them we cannot control what text is displayed
        in the setup completion dialog.
        
    win_build/installerv2/
        BOINC.ism
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.cpp
        boinccas95.def
        boinccas95.vcproj
        CARestoreExecutionState.cpp, .h (Added)
        CASaveExecutionState.cpp, .h (Added)
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll

Rom    19 June 2008
    - WINSETUP: Suppress the reboot prompt and just reboot, since we
        have already informed the user it is needed on the conformation
        screen
        
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.cpp
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll
       
David  19 June 2008
    - diagnostics library: in signal handler, use _exit() instead of exit();
        an atexit() function might have been what caused the signal

    lib/
        diagnostics.C

David  20 June 2008
    - client (Win): if running as service, and service is suspended/resumed,
        restore previous run state rather than going to auto.
    - client: improve startup messages (non-system user??)

    client/
        client_state.C
        main.C

David  20 June 2008
    - client (Win): if we're not in protected mode,
        don't create shmem segs in global name space.
        Hopefully this will fix a bug
        (on Vista, UAC off, non-protected install)
        where apps fail to attach to shmem.

    client/
        app_start.C
    lib/
        proc_control.C
        shmem.C,h

David  22 June 2008
    - scheduler: change message if bad auth (fixes #685)

    client/
        hostinfo_unix.C
    sched/
        handle_request.C

David  22 June 2008
    - client: print msgs if can't find CUDA libs

    client/
        client_state.C
    lib/
        coproc.C,h

David  23 June 2008
    - API: compile fix

    api/
        reduce_main.C

Rom    23 June 2008
    - MGR: Fix the Alt-Tab icon on Windows XP. Fixes# 586.
      Thanks Der Meister.
      
    clientgui/
        AdvancedFrame.cpp, .h
        BOINCGUIApp.cpp
        sg_BoincSimpleGUI.cpp, .h
        SkinManager.cpp, .h
    clientgui/res/
        boinc32.xpm
    win_build/
        boincmgr_curl.vcproj

Rom    23 June 2008
    - MGR: Change from using balloons to tooltips. Fixes #9.
      Thanks David Barnard.
      
    clientgui/
        BOINCTaskBar.cpp
    clientgui/msw/
        taskbarex.cpp, .h

David  23 June 2008
    - API, Unix: when boinc_finish(x) is called, exit with code x
        even if signals happen in the atexit() handling
    - API: don't print XML parse warnings for init_data.xml file

    api/
        boinc_api.C
    lib/
        app_ipc.C
        diagnostics.C,h

Charlie 23 June 2008
    - MGR: Fix build breaks on Mac.
        
    clientgui/
        BOINCTaskBar.cpp, h
        mac/
            MacSysMenu.cpp,.h

David  23 June 2008
    - web: insert() functions return ID

    html/inc/
        user.inc
        team.inc

Rom    25 June 2008
    - WINSETUP: Store and cleanup a set of flags to avoid repeatedly
        migrating data back and forth.
    - WINSETUP: If the migration uninstall routine detects a newer
        version of BOINC being installed, skip the uninstall process.

    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.rc
        boinccas95.def
        boinccas95.vcproj
        CAMigrateBOINCData.cpp
        CAMigrateBOINCDataCleanup.cpp, .h (Added)
        CAMigrateBOINCDataVersion.cpp, .h (Added)
        CAValidateInstall.cpp
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll

Rom    25 June 2008
    - MGR: If more than two active tasks are running then tell the
        user how many active tasks are running instead of attempting
        to display the percent complete of each one.
    - MGR: If the computer name is the local host then skip displaying
        it in the tooltip.
        
    clientgui/
        BOINCTaskBar.cpp

David  25 June 2008
    - client: improve error messages when can't copy files
    - client: change CUDA detection on Linux and Mac.
        Look for libcuda.so in /usr/lib/nvidia and /usr/lib64/nvidia.
        If we find it, assume that libcudart is bundled with the app.

    client/
        app_start.C
    lib/
        coproc.C

David  26 June 2008
    - client, CUDA detection: look in /usr/lib, not /usr/lib/nvidia/

    lib/
        coproc.C

Rom    26 June 2008
    - Tag for 6.3.4 release, all platforms
      boinc_core_release_6_3_4

    /
        configure.ac
        version.h

Rom    26 June 2008
    - Include missing include file on Linux.
    
    lib/
        diagnostics.C

David  26 June 2008
    - client: fix battery detection on newer Linux
        (from Roberto Virga)

    client/
        hostinfo_unix.C

David  26 June 2008
    - fix gcc warnings

    lib/
        coproc.C,h

David  26 June 2008
    - more gcc fixes

    client/
        client_state.C
        sandbox.C,h
        hostinfo_unix.C

David  26 June 2008
    - back-end code: fix compiler warnings (and maybe bugs);
        do some retentive code cleanup

    sched/
        feeder.C
        sched_send.C
        transitioner.C
        trickle_handler.C
        validator.C
        validate_util.C

Charlie 27 June 2008
    -MGR: Add all features of Grid Views to Accessible Views Projects Tab, 
        Tasks Tab and Tranfers Tab, including: progress bars, light gray 
        stripes on alternate rows, sorting, multiple selections.  
        For those fields where it is practical to do so, store data in native  
        form for better efficiency comparing, sorting and updating cached  
        data;format data only when needed for list display.  Add a separate 
        array of integers which are indexes into the list; sort only this 
        array to make sorting faster & more efficient, and to maintain 
        associations with underlying data after sorting (view's data struct 
        at index X always corresponds to result at index X).
        Refresh only those rows with changed values or which have moved due to 
        sorting.  Restore previous sorting settings when relaunching Manager.
        
    clientgui/
        BOINCBaseView.cpp,.h
        BOINCListCtrl.cpp,.h
        ViewProjects.cpp,.h
        ViewTransfers.cpp,.h
        ViewWork.cpp,.h

David  27 June 2008
    - make_project: change the --test_app option so that it gets the
        app executable from boinc_samples/example_app/uc2,
        rather than boinc/apps/upper_case.
        (boinc_samples must be installed in the same dir as boinc).

        The reason: the BOINC autoconf-based build process
        produces executables that have zillions of shared library dependencies,
        and generally won't run on machines other than
        the one where they were built.
        Executables built in boinc_samples/ don't have this problem.

    tools/
        make_project

David  29 June 2008
    - client: add "Suspending computation" messages for
        system idle and initial delay cases.
        Rom: please back-port

    client/
        cs_prefs.C

David  30 June 2008
    - server: add optional <no_validate> element to output file <file_ref>s.
        This tells the sample bitwise validator to ignore this file.
    - client: parse the above field (avoid "unparsed XML" msgs)

    client/
        client_types.C
    sched/
        sample_bitwise_validator.C
        validate_util.C,h

David  30 June 2008
    - scheduler: fix bug where a pointer to a 32-bit time field
        was being cast to a pointer to 64-bit time field
        (this caused wrong results on 64-bit servers)
        From Sharov Artyom.

    html/inc/
        db_conn.inc
    sched/
        handle_request.C
        sched_send.C
    tools/
        process_results_template.C

Charlie 30 June 2008
    - MGR: Reset messages whenever connecting or reconnecting to client.  Fixes 2 
        bugs: stale messages if client on remote host was stopped and restarted 
        while local manager was connected to it but minimized, and stale messages 
        when local client exited and was automatically restarted by Manager.
    - MGR: On Mac, don't display alerts when minimized, as they hang Manager.  On 
        Windows and Mac, if minimized when trying to display the Connection Failed 
        dialog, set a flag to display it when the user maximizes the application, 
        so the user can respond.  In addition, Windows still immediately displays 
        a Connection Failed balloon if minimized.
        
    clientgui/
        BOINCBaseFrame.cpp,.h
        MainDocument.cpp

Charlie 1 July 2008
    - MGR: Fix build break on Linux.
    
    clientgui/
        ViewWork.cpp

David  1 July 2008
    - web: when hide/unhide/delete posts,
        set the timestamp of the thread to the timetamp of
        the latest non-hidden post (rather than to now).
        Same thing for forum timestamp.
    - scheduler: return more informative message to user in case of
        request message parse error

    html/inc/
        forum.inc
    sched/
        handle_request.C
        server_types.C

Eric  1 July 2008
    - client: Fixes ticket Fixes ticket #537. Forces use of small 
      files in zlib.h and when /proc filesystem is used on solaris.

    client/
        cpp.h
        app_start.C
        client_types.C
        app_control.C
        hostinfo_unix.C
    lib/
        mem_usage.C
        parse.h
        procinfo_unix.C

David  1 July 2008
    - web: don't check for the stop_web file in BoincDb::get().
        That forces that file to include a bunch of unnecessary stuff.
        Do the check at a higher level.

    html/
        inc/
            boinc_db.inc
            util.inc
        user/
            forum_index.php

David  1 July 2008
    - create_work: couldn't connect to database because it had
        an automatic var SCHED_CONFIG (hence nonzero)
    - make_project: include xadd in list of instructions
    - boinc_submit: fix bugs in --stdin
        
    tools/
        boinc_submit
        create_work.C
        dir_hier_path.C
        kill_wu.C
        make_project
        poll_wu.C

Charlie 2 July 2008
    - MGR: New tasks and projects properties displays from Frank Weiler.
    
    clientgui/
        DlgItemProperties.cpp,.h (new)
        Events.h
        ViewProjects.cpp,.h
        ViewWork.cpp,.h
        Makefile.am
     mac_build/
        boinc.xcodeproj/
            project.pbxproj
    win_build/
        boincmgr_curl.vcproj

David  2 July 2008
    - server code: at some point I made a global var "SCHED_CONFIG config",
        mostly so that the parse function could assume
        that everything was initially zero.
        However, various back-end functions pass around SCHED_CONFIG&
        as an argument (also named "config").
        This creates a shadow, which is always bad.
        Worse is the possibility that some projects have back-end programs
        that have a SCHED_CONFIG variable that's automatic,
        and therefore isn't zero initially,
        and therefore isn't parsing correctly.

        To fix this, I changed the 2 vectors in SCHED_CONFIG into pointers,
        and have the parse routine zero the structure.
        I was tempted to remove the SCHED_CONFIG& args to back-end functions,
        but this would have broken some projects' code.
        I did, however, change the name from config to config_loc
        to avoid shadowing.

        Also fixed various other compiler warnings.

    api/
        boinc_api.C
    apps/
        upper_case.C
    lib/
        shmem.C,h
    sched/
        handle_request.C
        sched_array.C
        sched_assign.C
        sched_config.C,h
        sched_send.C
        server_types.C
    tools/
        backend_lib.C,h
        process_result_template.C

David  2 July 2008
    - typo in make_project

    tools/
        make_project

David  2 July 2008
    - client and server: the client includes global_prefs.xml
        in scheduler request messages, without checking its contents.
        One user had apparently edited global_prefs.xml with an XML editor;
        it had an <?xml tag at the start,
        and had been collapsed into a single line with no newlines,
        and no newline at the end.
        This caused all scheduler requests from that client to get
        "Incomplete request" responses.

        The long-term fix is for the client to verify global_prefs.xml,
        and for the scheduler to parse it with XML_PARSER.
        As a short-term fix, I made these changes:
        - If the scheduler reads a line that's too long, it ignores it.
        - The scheduler ignores <?xml

    sched/
        server_types.C

Rom    3 July 2008
    - WINSETUP: Change the custom action descriptions for those custom
        actions that deal with user rights and privileges and user
        accounts.
    - WINSETUP: Add some basic benchmarking code for user rights and
        privileges

    win_build/installerv2/redist/Windows/src/boinccas/
        CACreateBOINCAccounts.cpp
        CACreateBOINCGroups.cpp
        CAGrantBOINCAdminsRights.cpp
        CAGrantBOINCMasterRights.cpp
        CAGrantBOINCProjectRights.cpp
        CAGrantBOINCProjectsRights.cpp
        CAGrantBOINCUsersRights.cpp
        CAMigrateBOINCData.cpp

David  3 July 2008
    - boinc_submit: add --jobs and --abort options

    html/inc/
        boinc_db.inc
    tools/
        boinc_submit

David  3 July 2008
    - API: read heartbeat messages only if options.check_heartbest is set.
        Otherwise, in compound apps we'll have both monitor and worker
        reading the messages; this is a race condition
        and will lead to spurious "no heartbeat" exits.

    api/
        boinc_api.C

David  4 July 2008
    - Improvements to single-job submission:
        1) the assimilator creates a job_summary_WUID file saying
            - what host did the job
            - error status if any
            - info about missing output files
        2) all output files are now optional.
        3) the assimilator deletes temp files (templates, job dir file)

    client/
        app_start.C
    sched/
        single_job_assimilator.C
    tools/
        boinc_submit

David  4 July 2008
    - web: check profile text with Akismet if enabled
    - web: in get_logged_in_user(), check for bad user agent types
        (a bit of spam-resistance)

    html/
        inc/
            akismet.inc
            profile.inc
            util.inc
        user/
            create_profile.php

David  6 July 2008
    - web: include "reason" field in emails for thread moderation

    html/
        inc/
            forum_email.inc
        user/
            forum_moderate_thread.php
            forum_modearte_thread_action.php

Charlie 8 July 2008
    - MGR: Add "Show only this project" button to messages tab; filters 
        message display to show only messages for the selected project.
    - MGR: Fix problem of rows with equal values in the sort column 
        changing places randomly with each re-sort.  wxArrayInt::Sort() 
        uses std::sort(), which is not stable in such cases.  The 
        solution is to use std::stable_sort() instea
         
    
    clientgui/
        Events.h
        BOINCBaseView.cpp,.h
        ViewMessages.cpp,.h
        ViewProjects.cpp
        ViewTransfers.cpp
        ViewWork.cpp

Rytis 8 July 2008
    - user web: fix forum preferences saving (empty signatures were not
        allowed).
    
    html/user/
        edit_forum_preferences_action.php

Rom    8 July 2008
    - WINSETUP: Prevent certain special paths from being used for either
        the install directory or the data directory. Prevent this from
        both the UI component of setup, and if the situation is detected
        from the migration custom action, skip migration.
        
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.rc
        CAMigrateBOINCData.cpp
        CAVerifyInstallDirectories.cpp
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll
   
Eric K    8 July 2008
    - Fix for unicode compiles in DlgItemProperties.cpp
    - Fix for compilers that can't concatenate a normal character string
      to a wide character string.  For example L"Hi "  "There" works in GCC
      but not in some compilers because L"Hi " has a different type than
      "There". This primarily shows up in SunStudio compilers.  The fix is
      ugly, but it works.

    clientgui/
        CompletionPage.cpp
        AdvancedFrame.cpp
        ViewMessages.cpp
        BOINCDialupManager.cpp
        WelcomePage.cpp
        ViewProjectsGrid.cpp
        SkinManager.cpp
        NotDetectedPage.cpp
        ViewTransfers.cpp
        ProxyInfoPage.cpp
        ViewMessagesGrid.cpp
        BOINCClientManager.cpp
        ProjectProcessingPage.cpp
        AccountManagerInfoPage.cpp
        AccountKeyPage.cpp
        ViewTransfersGrid.cpp
        BOINCBaseFrame.cpp
        ViewWorkGrid.cpp
        sg_DlgMessages.cpp
    DlgItemProperties.cpp

David  8 July 2008
    - web: if stop_web file is present, don't allow any DB access
        (I broke this a few days ago)
    - client: improve message for file upload server errors

    client/
        file_xfer.C
    html/inc/
        boinc_db.inc
        util.inc

Eric K  8 July 2008
    - sparc-solaris: detect_platforms() 
      test if it is possible to run 64-bit apps.

    client/
        cs_platforms.C

Rom    8 July 2008
    - MGR: Fix the application name for both views.
    
      NOTE: the data type 'char' should NOT be used within the various
        views. This is the classic example of how direct data access
        messes things up in projects with many developers. Use wxString
        with the PrintF method instead.

    clientgui/
        ViewWork.cpp
        ViewWorkGrid.cpp

Charlie 8 July 2008
    - MGR: Fix build breaks from the above changes: pass a C string, not a 
        wxString to the PrintF method.
    - MGR: better clean up when connection lost while filtering messages.

    clientgui/
        ViewMessages.cpp
        ViewWork.cpp
        ViewWorkGrid.cpp

Charlie 9 July 2008
    - client: Fix build breaks on Mac due to removal of headers from cpp.h.

    client/
        app_control.C
        cs_benchmark.C

Rom    9 July 2008
    - MGR: Fix the application name for both views.
       (ANSI/Unicode compatible)(VS/GCC compatible)
    
    clientgui/
        ViewWork.cpp
        ViewWorkGrid.cpp

Rom    9 July 2008
    - WINSETUP: Normalize the special paths checks.
    
    win_build/installerv2/redist/Windows/src/boinccas/
        CAMigrateBOINCData.cpp
        CAVerifyInstallDirectories.cpp

Charlie 10 July 2008
    - MGR: Change wxEVT_DRAW_BARGRAPH from 10000 to 12000 to avoid possible 
        conflict with wxEVT_FRAME_ALERT.
        
    clientgui/
        BOINCListCtrl.h

Rom    10 July 2008
    - CC: Read the config file before setting the max file sizes.
    
    client/
        main.C

David  10 July 2008
    - client, Linux: change CUDA probing.
        libcudart{32,64}.so is bundled with client.
        client loads it and if successful calls the device-query functions.
    - client, Linux: append the current directory
        (i.e., the BOINC data directory) to the LD_LIBRARY_PATH for apps.
        This goes after the project dir and the slot dir.
        This lets apps link to libcudartX.so.
        NOTE: this is not recommended; better to include it with your app.
    - client: allow for multiple messages from coproc probing
    - fixed indentation in cs_platforms.C

    win_build/.../boinccas
        CAVerifyInstallDirectories.cpp
    client/
        client_status.C
        cs_platforms.C
    lib/
        coproc.C,h
        libcudart32.so (put these here for now; can move if needed)
        libcudart64.so

Charlie 11 July 2008
    - MGR: Small bug fix in new sortable Accessible Views.
        
    clientgui/
        BOINCBaseView.cpp

Rom    11 July 2008
    - MGR: Fix small bug when displaying the active task count in the
        taskbar.
        
    clientgui/
        BOINCTaskBar.cpp

Rom    11 July 2008
    - SEA: Include the CUDA dynamic libraries in the self-extracting
        archive for Linux bulds.
        
    sea/
        Makefile.am

Rom    11 July 2008
    - Tag for 6.3.5 release, all platforms
      boinc_core_release_6_3_5

    /
        configure.ac
        version.h

David  12 July 2008
    - web: fixed opt-out page

    html/user/
        opt_out.php

David  12 July 2008
    - small change to mac cuda

    lib/
        coproc.C

Rytis  13 July 2008
    - fix the layout of profile_menu.php on table-based websites, and since
        I'm already editing it, make it translatable.

    html/
        user/
            profile_menu.php
        languages/translations/
            en.po

David  14 July 2008
    - web: fix bugs that cause backslashes to be introduced
        in global prefs update via account manager RPC

    html/user/
        am_set_info.php
        account_finish_action.php
        account_finish.php
    sched/
        sched_send.C

David  14 July 2008
    - scheduler: fix infinite loop in matchmaker sched (from Artyom Sharov)

    sched/
        sched_send.C

Rom    14 July 2008
    - WINSETUP: Create a flag file that can be used to keep either the
        manager or the CC from starting until a reboot has been
        performed.  Flag the file for deletion after a reboot has been
        performed.
        
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.cpp
        boinccas.rc
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll

David  14 July 2008
    - scheduler: add constructor for HOST_USAGE structure
        (otherwise get random crap in cmdline)

    sched/
        sched_send.C
        server_types.h

Rom    15 July 2008
    - WINSETUP: Don't create the flag file until after the migration phase
        has been completed.
    - WINSETUP: Use real quotes around the delete file command instead of
        tick marks, the Windows shell throws an error
    - WINSETUP: Instead of calling the Windows API to determinethe various
        special folders, use the MSI properties which match the 'choose folder'
        dialog. We can skip the step if doing a case insensitive compare.
        Plus it appears that MSI normalizes the paths for us.
        
    win_build/installerv2/redist/Windows/src/boinccas/
        boinccas.cpp
        boinccas95.def
        boinccas95.vcproj
        CAMigrateBOINCData.cpp
        CAValidateRebootRequest.cpp, .h (Added)
        CAVerifyInstallDirectories.cpp
    win_build/installerv2/redist/Windows/Win32/
        boinccas.dll
        boinccas95.dll
    win_build/installerv2/redist/Windows/x64/
        boinccas.dll
        boinccas95.dll

David  15 July 2008
    - scheduler: Add a notion of "hard app" for SETI@home.
        If an app is hard, the scheduler always does the deadline check,
        even if the client has no other jobs for this project.
        And the estimated wallclock duration is multiplied by 1.3,
        to avoid sending jobs to hosts that will barely make the deadline.

        Hard apps are marked by setting weight = -1.
        This is a total kludge, to avoid adding another field to app.

    sched/
        sched_send.C

David  15 July 2008
    - scheduler: with matchmaker scheduling, avoid infinite loop
        if result not in DB
        (from Artyom Sharov, DerMeister)

    sched/
        sched_send.C

David  15 July 2008
    - scheduler: fix logic to not send plan-class apps to clients
        that don't know about plan class

    sched/
        sched_send.C

Rom    16 July 2008
    - MGR: Detect when a reboot is required for BOINC and display an error
        dialog if it is required.
        
    clientgui/
        BOINCGUIApp.cpp, .h

Rom    16 July 2008
    - WINSETUP: Revamp the various strings used.
    
    win_build/installerv2/
        BOINC.ism
        BOINCx64.ism

Rom    16 July 2008
    - WINSETUP: Don't execute the custom action that creates the
        RebootPending.txt file in the program directory if a reboot
        isn't required.
        
    win_build/installerv2/
        BOINC.ism
        BOINCx64.ism

Charlie 17 July 2008
    - MGR: Code which tests for reboot required should be Windows-only.
        
    clientgui/
        BOINCGUIApp.cpp

David  17 July 2008
    - scheduler: in matchmaker scheduler, if find a "locked" array slot,
        which whether we're the process that locked it (from Artyom Sharov)

    sched/
        sched_send.C

Rom    18 July 2008
    - WINSETUP: Make sure we kill the manager on WinNT based systems instead
        of requesting a graceful exit first.  For some reason, every once
        and awhile the installer gets stuck in the call to SendMessage()
        which in turn is waiting on the manager to come out of whatever
        event processing code it is stuck in. I don't know if the manager
        is stuck in wxWidget code or not, but the installer shouldn't
        ever get stuck waiting on a hung app.
        
    win_build/installerv2/redist/Windows/src/boinccas/
        CAShutdownBOINCManager.cpp

David  18 July 2008
    - web: fiddle around with style2.css and sample front page;
        change font, etc.

    html/
        project.sample/
            project.inc
        user/
            sample_index.php
            style2.css
            weak_auth.php
            white.css

Rytis  19 July 2008
    - forums: add support for Globally Recognized Avatars.
    
    html/user/
            edit_forum_preferences_form.php
            edit_forum_preferences_action.php

David  20 July 2008
    - manager: fix typo

    clientgui/
        DlgAdvPreferencesBase.cpp

David  21 July 2008
    - client: if an app is using CUDA coprocessors,
        pass it additional command line arg(s) "--device X" (X=0,1,...)
        to tell it which GPU(s) to use.

    client/
        app.C
        app_start.C
        cpu_sched.C
    lib/
        coproc.h

David  21 July 2008
    - client: bug fixes to the above
    - client: better messages reporting coprocessors
    - manager: bounds checks to avoid wxwidgets asserts
        when job CPU estimates are absurdly large

    client/
        app_start.C
        client_state.C
    clientgui/
        ViewWorkGrid.cpp
    lib/
        coproc.C,h

David  21 July 2008
    - manager: display days w/ 2 decimals

    clientgui/
        DlgAdvPreferences.cpp
        ViewWork.cpp

David  21 July 2008
    - server compile fix for gcc 4.3

    sched/
        sched_config.h

Eric  22 July 2008
    - Implementation of automatic credit leveling for cpu based projects that
      wish to use it.
    - The script calculate_credit_multiplier (expected to be run daily as
      a config.xml task) looks at the ratio of granted credit to CPU time 
      for recent results for each app.  Multiplier is calculated to cause 
      median hosts granted credit per cpu second to equal to equal that 
      expected from its benchmarks.  This is 30-day exponentially averaged 
      with the previous value of the multplier and stored in the table 
      credit_multplier.
    - When a result is received the server adjusts claimed credit by the
      value the multiplier had when the result was sent.

    tools/
        calculate_credit_multiplier
    db/
        boinc_db.[Ch]
    db/
        schema.sql
    sched/
        sched_util.[Ch]
    sched_result.C

David  24 July 2008
    - web: fix profile rate

    html/user/
        profile_rate.php

David  24 July 2008
    - client: report all errors in parsing app_info.xml files
        Fixes #703

    client/
        cs_statefile.C

Rom    25 July 2008
    - Tag for 6.3.6 release, all platforms
      boinc_core_release_6_3_6

    /
        configure.ac
        version.h

David  25 July 2008
    - back-end stuff to support Python MW (from Adam Kornafeld)
        Not complete.

    py/Boinc/
        projectxml.py
    sched/
        assimilate_handler.h
        assimilator.C
    tools/
        pymw_setup

David  25 July 2008
    - web: escape text on edit thread title

    html/user/
        forum_moderate_thread_action.php

David  27 July 2008
    - API: small additions to graphics stderr messages

    api/
        graphics2.h
        graphics2_unix.C
        graphics2_win.C

David  28 July 2008
    - ops: add script to fix backslashes in posts etc.
    - DB: add db_update.php entry for Eric's new table

    db/
        boinc_db.C
    html/ops/
        repair_forums.php
        db_update.php

Eric  28 July 2008
    - modified the credit multiplier calculation to make it more stable.

    tools/
        calculate_credit_multiplier

David  28 July 2008
    - server: add assimilator for Python Master/Worker system,
        and change setup script to copy its files

    py/Boinc/
        setup_project.py
    sched/
        Makefile.am
        pymw_assimilator.C

David  28 July 2008
    - web: allow profiles to have blank text fields

    html/user/
        create_profile.php

David  30 July 2008
    - client: show proxy info in messages at startup and when changed
        fixes #704
    - web: fix the am_set_info.php RPC
        (most args are optional, not mandatory)

    client/
        client_state.C,h
        gui_rpc_server_ops.C
    html/user/
        am_set_info.php

David  30 July 2008
    - client: show message if no proxy
        fixes #704

    client/
        client_state.C

Rom    31 July 2008
    - SCR: Don't treat CPU throttling as BOINC being suspended.
        Fixes #706
    - MGR: If the reminder frequency is 0, then don't show any
        reminder messages.

    clientgui/
        BOINCDialupManager.cpp
    clientscr/
        screensaver.cpp
        screensaver_win.cpp

Charlie 1 Aug 2008
    - SCR / CLIENT: fix get_screensaver_tasks RPC so it does not 
        exclude tasks suspended for CPU throttling.  Fixes the 
        screensaver problem for V6 graphics.  Checked into 
        boinc_core_release_6_2_15 tag.
        
    client/
        gui_rpc_server_ops.C

David  1 Aug 2008
    - move boinc_samples into boinc/samples
    - fix Makefiles in samples/

    samples/*/Makefile*

David  1 Aug 2008
    - client (Unix): fix bugs in setting LD_LIBRARY_PATH.
        We need to add paths relative to the slot directory,
        not the BOINC directory (doh!!).

    client/
        app_start.C

David  3 Aug 2008
    - client: fix crash in this scenario:
        A file upload sends request.
        The network is down, and something (e.g. a router)
        sends a long (> 4KB) error page.
        This overruns the 4KB buffer of HTTP_OP::req1.
        Solution: keep track of the size of the buffer,
        and don't overrun it.
        Also move the body of a huge for loop into a separate function.
        From Ian Hay.
        Fixes #705

    client/
        file_xfer.C
        http_curl.C,h

Rytis  4 Aug 2008
    - developer tools: a script to build en.po from PHP files to ease
        translation. Usage: build_po.pl [PROJECT_PATH]
    
    tools/
        build_po.pl

Rytis  4 Aug 2008
    - user web: make team.inc translatable, and update en.po using the
        new script (fix #661)
    
    html/
        inc/
            team.inc
        languages/translations/
            en.po

David  4 Aug 2008
    - scheduler: added a debug msg for anonymous platform

    sched/
        sched_send.C,h

Bruce  5 Aug 2008
    - scheduler: in resending lost results, must copy core
      client version.  David -- this can probably be done
      better and might indicate that some other info is not
      being properly copied.  Please review and fix if needed.
      Before this fix, scheduler.log was complaining about
      outdated core clients version 0 < min needed core 413.

    - tools for scheduler logging: change cgi.log.X to scheduler.log.X
      in script that creates on-line logs for users to read
      to help diagnose problems.

    tools/
        makelog.sh
    sched/
        sched_send.C
        handle_request.C

David  5 Aug 2008
    - web: stylesheet fixes
        fixes #708
    - sched: slightly revise Bruce's fix

    html/
        inc/
            util.inc
        user/
            style2.css
            white.css
    sched/
        handle_request.C
        sched_send.C

David  5 Aug 2008
    - XML parsing: when parsing ints, check for errno == ERANGE.
        This means the int was too big.
        Ignore it - the XML was corrupted.
        This should fix a problem reported by Kevin where the
        mod_time in a user's global prefs was 100 years in the future,
        causing those prefs to irrevocably propagate.

    lib/
        parse.C,h

David  5 Aug 2008
    - client: if fail to parse global_prefs.xml,
        delete it and reset global prefs
        (which may have been modified by the attempt at parsing)

    client/
        cs_prefs.C
    lib/
        prefs.C,h

David  5 Aug 2008
    - XML parsing: when parsing int/double/bool and fail to find end tag,
        don't modify the reference arg.
    - scheduler: improved messages for preferences

    sched/
        handle_request.C
    lib/
        parse.C

David  5 Aug 2008
    - web: added copyright and license info to PHP files

    html/
        ops/*.php
        inc/*.inc
        user/*.php

David  5 Aug 2008
    - added copyright and license info to some C files

    client/
        hostinfo_unix_test.C
        sim.h
        rrsim_test.C
    lib/
        msg_queue.h
        procinfo_win.C

David  6 Aug 2008
    - added copyright and license info to .C, .cpp, .h files
    - scheduler: fix bug in adaptive replication:
        if send an unreplicated job to untrusted host,
        set both wu.target_nresults and wu.min_quorum to app.target_nresults.

    */*.C,cpp,h

David  6 Aug 2008
    - file_deleter: add -delete_antiques_now options

    sched/
        file_deleter.C


David  6 Aug 2008
    - API (Windows): call mouse-handling functions with
        coords relative to window, not screen

    api/

David  6 Aug 2008
    - scheduler: fix bug that caused jobs to be sent to clients
        using anonymous platform
        even if they don't have the necessary app version.
        Also, send an explanatory message in this case.

    sched/
        edf_sim.C
        sched_send.C

David  6 Aug 2008
    - scheduler: make credit_multiplier stuff conditional on
        <use_credit_multiplier> flag in config.xml

    db/
        schema.sql
    sched/
        sched_config.C,h
        sched_result.C

Rom    7 Aug 2008
    - CLIENT/MGR/TRAY: When installed on Vista and UAC is turned on
        the user by default cannot create globally shared objects. This
        becomes a problem when protected application mode is turned off
        for keyboard and mouse detection.  Basically all of the components
        would start up and fail to create the shared memory segment
        and report the error through stderr which most people don't look
        at by default.
        
        The client is now the only component that is allowed to create the
        shared memory segment, if creating the global segment fails it'll
        create a local one instead. Both the tray and manager now just attach
        to the existing segment, first trying the global one then the local
        one.
        

    client/
        main.C
    clientgui/
        BOINCGUIApp.cpp, .h
    clientlib/win/
        boinc_dll.cpp
        IdleTracker.cpp
    clienttray/
        tray_win.cpp, .h
    win_build/
        boinc.sln
        boinctray.vcproj
        
Rom    7 Aug 2008
    - CLIENT: Initial checkin for CUDART support for Win32
    
    coprocs/CUDA/mswin/Win32/Debug/bin/
        cudart.dll
    coprocs/CUDA/mswin/Win32/Release/bin/
        cudart.dll
    coprocs/CUDA/mswin/Win32/ReleaseSigned/bin/
        cudart.dll
    win_build/
        boinc_post_bld_rules.cmd
    
David  7 Aug 2008
    - web: improve white.css, and make corresponding PHP changes
        (mostly from Simek)
        fixes #716
    - validator: tweak the way host error rate is computed,
        e.g. on error bump rate by .1 instead of .05

    html/
        inc/
            forum.inc
            prefs.inc
            result.inc
            util.inc
        user/
            create_profile.php
            forum_index.php
            forum_search_action.php
            forum_thread.php
            pm.php
            profile_menu.php
            profile_search_action.php
            results.php
            team_search.php
            white.css
            workunit.php
            img/
                gray_gradient.png
    sched/
        validator.C

David  7 Aug 2008
    - web: add -webkit-border-radius so that rounded corners work on Safari

    html/user/
        white.css

David  7 Aug 2008
	- web: add table.noborder class for S@h

	html/user/
		forum_forum.php
		white.css
